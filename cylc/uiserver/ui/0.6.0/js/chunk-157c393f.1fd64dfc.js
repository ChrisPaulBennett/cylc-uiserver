(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-157c393f"],{1:function(t,e){},5182:function(t,e,n){"use strict";n.r(e);var i,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("CylcObjectMenu"),n("toolbar",{attrs:{views:t.views},on:{add:this.addView}}),n("div",{staticClass:"workflow-panel fill-height"},[n("lumino",{ref:"lumino",attrs:{"tab-title-prop":"tab-title"},on:{"lumino:deleted":t.onWidgetDeletedEvent}},t._l(t.widgets,(function(e,i){return n("v-skeleton-loader",{key:i,attrs:{id:i,loading:t.isLoading,"tab-title":e.data().widget.title,type:"list-item-three-line"}},[n(e,{tag:"component",attrs:{"workflow-name":t.workflowName}})],1)})),1)],1)],1)},r=[],s=n("5530"),a=(n("159b"),n("b0c0"),n("fb6a"),n("4de4"),n("4fad"),n("a026"));function c(t){var e;return e="function"===typeof t.iter?t.iter():new h(t),e}function u(t,e){var n,i=0,o=c(t);while(void 0!==(n=o.next()))if(!1===e(n,i++))return}(function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w})(i||(i={}));var h=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}();(function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();(function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())}})();(function(){function t(){}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){}})();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)}})();var l;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=l.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(l||(l={}));(function(){function t(t,e){this._value=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}})();(function(){function t(t){this._source=t,this._index=t.length-1}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}})();var d;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(d||(d={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();var p=n("1b62"),f=n("a254"),m=n("ebc4"),v=n("7376");function _(){var t="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/index.js",e="6915d19864f6e65ae474043b576dd1c96ecf89b2",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/index.js",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:36}}},fnMap:{0:{name:"createWidgetId",decl:{start:{line:21,column:9},end:{line:21,column:23}},loc:{start:{line:21,column:27},end:{line:23,column:1}},line:21}},branchMap:{},s:{0:0},f:{0:0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6915d19864f6e65ae474043b576dd1c96ecf89b2"},r=n[i]||(n[i]={});r[t]&&r[t].hash===e||(r[t]=o);var s=r[t];return _=function(){return s},s}function g(){return _().f[0]++,_().s[0]++,"".concat((new Date).getTime())}_();var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"workflow-panel"},[n("div",{ref:"main",staticClass:"main pa-2 fill-height"}),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._t("default")],2)])])},b=[],x=(n("caad"),n("2532"),n("a434"),n("d4ec")),w=n("bee2"),M=(n("5d41"),n("e439"),n("7e84"));function k(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=Object(M["a"])(t),null===t)break;return t}function C(t,e,n){return C="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=k(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},C(t,e,n||t)}var I,E=n("262e"),S=n("2caf");function A(t){var e;return e="function"===typeof t.iter?t.iter():new P(t),e}function L(t,e){var n,i=0,o=A(t);while(void 0!==(n=o.next()))if(!1===e(n,i++))return}function z(t){var e,n=0,i=[],o=A(t);while(void 0!==(e=o.next()))i[n++]=e;return i}(function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w})(I||(I={}));var P=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}();(function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();function O(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new T(A(t.map(A)))}var T=function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())},t}();function D(){return new B}var B=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();function R(t,e){return new j(A(t),e)}var j=function(){function t(t,e){this._index=0,this._source=t,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t},t}();function N(t,e){var n,i=0,o=A(t);while(void 0!==(n=o.next()))if(e(n,i++))return n}function W(t,e){var n=A(t),i=n.next();if(void 0!==i){var o=i;while(void 0!==(i=n.next()))e(i,o)>0&&(o=i);return o}}function H(t,e){return new F(A(t),e)}var F=function(){function t(t,e){this._index=0,this._source=t,this._fn=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)},t}();var q;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=q.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();function V(t,e,n){var i=0,o=A(t),r=o.next();if(void 0===r&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===r)return n;var s,a,c=o.next();if(void 0===c&&void 0===n)return r;if(void 0===c)return e(n,r,i++);s=e(void 0===n?r:e(n,r,i++),c,i++);while(void 0!==(a=o.next()))s=e(s,a,i++);return s}function K(t){return new U(t,1)}(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(q||(q={}));var U=function(){function t(t,e){this._value=t,this._count=e}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},t}();(function(){function t(t){this._source=t,this._index=t.length-1}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}})();var Y;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(Y||(Y={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();var X,G,$,Z,J,Q;(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();function tt(t){var e;return e="function"===typeof t.iter?t.iter():new ot(t),e}function et(t,e){var n,i=0,o=tt(t);while(void 0!==(n=o.next()))if(!1===e(n,i++))return}function nt(t,e){var n,i=0,o=tt(t);while(void 0!==(n=o.next()))if(!e(n,i++))return!1;return!0}function it(t,e){var n,i=0,o=tt(t);while(void 0!==(n=o.next()))if(e(n,i++))return!0;return!1}(function(t){function e(t){var e=document.body,n=function(i){i.preventDefault(),i.stopPropagation(),i.clipboardData.setData("text",t),e.removeEventListener("copy",n,!0)};e.addEventListener("copy",n,!0),document.execCommand("copy")}t.copyText=e})(X||(X={})),function(t){function e(t){var e=window.getComputedStyle(t),n=parseFloat(e.borderTopWidth)||0,i=parseFloat(e.borderLeftWidth)||0,o=parseFloat(e.borderRightWidth)||0,r=parseFloat(e.borderBottomWidth)||0,s=parseFloat(e.paddingTop)||0,a=parseFloat(e.paddingLeft)||0,c=parseFloat(e.paddingRight)||0,u=parseFloat(e.paddingBottom)||0,h=i+a+c+o,l=n+s+u+r;return{borderTop:n,borderLeft:i,borderRight:o,borderBottom:r,paddingTop:s,paddingLeft:a,paddingRight:c,paddingBottom:u,horizontalSum:h,verticalSum:l}}function n(t){var e=window.getComputedStyle(t),n=parseFloat(e.minWidth)||0,i=parseFloat(e.minHeight)||0,o=parseFloat(e.maxWidth)||1/0,r=parseFloat(e.maxHeight)||1/0;return o=Math.max(n,o),r=Math.max(i,r),{minWidth:n,minHeight:i,maxWidth:o,maxHeight:r}}function i(t,e,n){var i=t.getBoundingClientRect();return e>=i.left&&e<i.right&&n>=i.top&&n<i.bottom}function o(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<=n.top&&i.bottom>=n.bottom||(i.top<n.top&&i.height<=n.height||i.bottom>n.bottom&&i.height>=n.height?t.scrollTop-=n.top-i.top:(i.top<n.top&&i.height>n.height||i.bottom>n.bottom&&i.height<n.height)&&(t.scrollTop-=n.bottom-i.bottom))}t.boxSizing=e,t.sizeLimits=n,t.hitTest=i,t.scrollIntoViewIfNeeded=o}(G||(G={})),function(t){function e(e){return t.IS_MAC?e.metaKey:e.ctrlKey}t.IS_MAC=!!navigator.platform.match(/Mac/i),t.IS_WIN=!!navigator.platform.match(/Win/i),t.IS_IE=/Trident/.test(navigator.userAgent),t.IS_EDGE=/Edge/.test(navigator.userAgent),t.accelKey=e}($||($={})),function(t){function e(t){if(t in J.specificityCache)return J.specificityCache[t];var e=J.calculateSingle(t);return J.specificityCache[t]=e}function n(t){if(t in J.validityCache)return J.validityCache[t];var e=!0;try{J.testElem.querySelector(t)}catch(n){e=!1}return J.validityCache[t]=e}function i(t,e){return J.protoMatchFunc.call(t,e)}t.calculateSpecificity=e,t.isValid=n,t.matches=i}(Z||(Z={})),function(t){function e(t){t=t.split(",",1)[0];var e=0,h=0,l=0;function d(e){var n=t.match(e);return null!==n&&(t=t.slice(n[0].length),!0)}t=t.replace(u," $1 ");while(t.length>0)if(d(n))e++;else if(d(i))h++;else if(d(o))h++;else if(d(s))l++;else if(d(a))h++;else if(d(r))l++;else if(!d(c))return 0;return e=Math.min(e,255),h=Math.min(h,255),l=Math.min(l,255),e<<16|h<<8|l}t.specificityCache=Object.create(null),t.validityCache=Object.create(null),t.testElem=document.createElement("div"),t.protoMatchFunc=function(){var t=Element.prototype;return t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){var e=this,n=e.ownerDocument?e.ownerDocument.querySelectorAll(t):[];return-1!==Array.prototype.indexOf.call(n,e)}}(),t.calculateSingle=e;var n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,o=/^\[[^\]]+\]/,r=/^[^\s\+>~#\.\[:]+/,s=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,c=/^[\s\+>~\*]+/,u=/:not\(([^\)]+)\)/g}(J||(J={})),function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w}(Q||(Q={}));var ot=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}();(function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();(function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())}})();(function(){function t(){}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){}})();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)}})();var rt;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=rt.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(rt||(rt={}));(function(){function t(t,e){this._value=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}})();function st(t){var e;return e="function"===typeof t.retro?t.retro():new at(t),e}var at=function(){function t(t){this._source=t,this._index=t.length-1}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},t}();var ct;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(ct||(ct={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();var ut;(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();function ht(t){var e;return e="function"===typeof t.iter?t.iter():new dt(t),e}function lt(t,e){var n,i=0,o=ht(t);while(void 0!==(n=o.next()))if(!1===e(n,i++))return}(function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w})(ut||(ut={}));var dt=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}();(function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();(function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())}})();function pt(){return new ft}var ft=function(){function t(){}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){},t}();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)}})();var mt;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=mt.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(mt||(mt={}));(function(){function t(t,e){this._value=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}})();(function(){function t(t){this._source=t,this._index=t.length-1}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}})();var vt;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(vt||(vt={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();var _t,gt=function(){function t(t){this._root=new _t.LeafNode,this.cmp=t}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t=_t.firstLeaf(this._root);return t.size>0?t.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var t=_t.lastLeaf(this._root);return t.size>0?t.items[t.size-1]:void 0},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return _t.iterItems(this._root)},t.prototype.retro=function(){return _t.retroItems(this._root)},t.prototype.slice=function(t,e){return _t.sliceItems(this._root,t,e)},t.prototype.retroSlice=function(t,e){return _t.retroSliceItems(this._root,t,e)},t.prototype.at=function(t){return _t.itemAt(this._root,t)},t.prototype.has=function(t,e){return _t.hasItem(this._root,t,e)},t.prototype.indexOf=function(t,e){return _t.indexOf(this._root,t,e)},t.prototype.get=function(t,e){return _t.getItem(this._root,t,e)},t.prototype.assign=function(t){this.clear(),this.update(t)},t.prototype.insert=function(t){var e=_t.insertItem(this._root,t,this.cmp);return this._root=_t.maybeSplitRoot(this._root),e},t.prototype.update=function(t){var e=this;lt(t,(function(t){e.insert(t)}))},t.prototype.delete=function(t,e){var n=_t.deleteItem(this._root,t,e);return this._root=_t.maybeExtractRoot(this._root),n},t.prototype.remove=function(t){var e=_t.removeItem(this._root,t);return this._root=_t.maybeExtractRoot(this._root),e},t.prototype.clear=function(){_t.clear(this._root),this._root=new _t.LeafNode},t}();(function(t){function e(e,n){var i=new t(n);return i.assign(e),i}t.from=e})(gt||(gt={})),function(t){var e=function(){function t(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(t.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),t}();t.BranchNode=e;var n=function(){function t(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(t.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),t}();function i(t){while(0===t.type)t=t.children[0];return t}function o(t){while(0===t.type)t=t.children[t.children.length-1];return t}function r(t){var e=i(t);return new x(e,0,-1)}function s(t){var e=o(t);return new w(e,e.size-1,-1)}function a(t,e,n){e=void 0===e?0:e<0?Math.max(0,e+t.size):Math.min(e,t.size),n=void 0===n?t.size:n<0?Math.max(0,n+t.size):Math.min(n,t.size);var i=Math.max(0,n-e);if(0===i)return pt();while(0===t.type){var o=M(t.sizes,e);o>0&&(e-=t.sizes[o-1]),t=t.children[o]}return new x(t,e,i)}function c(t,e,n){e=void 0===e?t.size-1:e<0?Math.max(-1,e+t.size):Math.min(e,t.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+t.size):Math.min(n,t.size-1);var i=Math.max(0,e-n);if(0===i)return pt();while(0===t.type){var o=M(t.sizes,e);o>0&&(e-=t.sizes[o-1]),t=t.children[o]}return new w(t,e,i)}function u(t,e){if(e<0&&(e+=t.size),!(e<0||e>=t.size)){while(0===t.type){var n=M(t.sizes,e);n>0&&(e-=t.sizes[n-1]),t=t.children[n]}return t.items[e]}}function h(t,e,n){while(0===t.type){var i=k(t.items,e,n);t=t.children[i]}var o=C(t.items,e,n);return o>=0}function l(t,e,n){var i=0;while(0===t.type){var o=k(t.items,e,n);o>0&&(i+=t.sizes[o-1]),t=t.children[o]}var r=C(t.items,e,n);return r>=0?i+r:-i+r}function d(t,e,n){while(0===t.type){var i=k(t.items,e,n);t=t.children[i]}var o=C(t.items,e,n);return o>=0?t.items[o]:void 0}function p(t,e,n){if(1===t.type){var i,o=C(t.items,e,n);return o>=0?(i=t.items[o],t.items[o]=e):(i=void 0,ut.insert(t.items,-o-1,e)),i}var r=k(t.items,e,n),s=t.children[r],a=s.size,c=p(s,e,n),u=s.size;if(t.items[r]=s.items[0],a===u)return c;if(s.width>y){var h=E(s);ut.insert(t.children,r+1,h),ut.insert(t.items,r+1,h.items[0])}return I(t,r),c}function f(t,e,n){if(1===t.type){var i=C(t.items,e,n);if(i<0)return;return ut.removeAt(t.items,i)}var o=k(t.items,e,n),r=t.children[o],s=r.size,a=f(r,e,n),c=r.size;return s===c||(t.items[o]=r.items[0],r.width<b&&(o=S(t,o)),I(t,o)),a}function m(t,e){if(e<0&&(e+=t.size),!(e<0||e>=t.size)){if(1===t.type)return ut.removeAt(t.items,e);var n=M(t.sizes,e);n>0&&(e-=t.sizes[n]);var i=t.children[n],o=m(i,e);return t.items[n]=i.items[0],i.width<b&&(n=S(t,n)),I(t,n),o}}function v(t){0===t.type?(lt(t.children,v),t.children.length=0,t.sizes.length=0,t.items.length=0):(t.items.length=0,t.next=null,t.prev=null)}function _(t){if(t.width<=y)return t;var n=new e,i=E(t);return n.sizes[0]=t.size,n.sizes[1]=t.size+i.size,n.children[0]=t,n.children[1]=i,n.items[0]=t.items[0],n.items[1]=i.items[0],n}function g(t){if(1===t.type)return t;if(t.children.length>1)return t;var e=t.children.pop();return v(t),e}t.LeafNode=n,t.firstLeaf=i,t.lastLeaf=o,t.iterItems=r,t.retroItems=s,t.sliceItems=a,t.retroSliceItems=c,t.itemAt=u,t.hasItem=h,t.indexOf=l,t.getItem=d,t.insertItem=p,t.deleteItem=f,t.removeItem=m,t.clear=v,t.maybeSplitRoot=_,t.maybeExtractRoot=g;var y=32,b=y>>1,x=function(){function t(t,e,n){this._node=t,this._index=e,this._count=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node,this._index,this._count)},t.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},t}(),w=function(){function t(t,e,n){this._node=t,this._index=e,this._count=n}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node,this._index,this._count)},t.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},t}();function M(t,e){for(var n=t.length,i=0;i<n;++i)if(t[i]>e)return i;return n-1}function k(t,e,n){for(var i=t.length,o=1;o<i;++o)if(n(t[o],e)>0)return o-1;return i-1}function C(t,e,n){for(var i=t.length,o=0;o<i;++o){var r=n(t[o],e);if(0===r)return o;if(r>0)return-o-1}return-i-1}function I(t,e){for(var n=t.sizes,i=t.children,o=e>0?n[e-1]:0,r=i.length;e<r;++e)o=n[e]=o+i[e].size;n.length=i.length}function E(t){if(1===t.type){for(var i=new n,o=t.items,r=i.items,s=b,a=o.length;s<a;++s)r.push(o[s]);return o.length=b,t.next&&(t.next.prev=i),i.next=t.next,i.prev=t,t.next=i,i}var c=new e,u=t.children,h=c.children;for(s=b,a=u.length;s<a;++s)h.push(u[s]);u.length=b;var l=t.items,d=c.items;for(s=b,a=l.length;s<a;++s)d.push(l[s]);return l.length=b,I(t,b),I(c,0),c}function S(t,e){var n,i,o,r,s,a,c=t.children[e],u=0===e?t.children[e+1]:t.children[e-1],h=0===e,l=1===c.type,d=u.width>b;if(l&&d&&h){var p=c,f=u;return p.items.push(f.items.shift()),t.items[e+1]=f.items[0],e}if(l&&d&&!h){p=c,f=u;return p.items.unshift(f.items.pop()),t.items[e]=p.items[0],e-1}if(l&&!d&&h){p=c,f=u;return(n=f.items).unshift.apply(n,p.items),ut.removeAt(t.children,e),ut.removeAt(t.items,e+1),p.prev&&(p.prev.next=f),f.prev=p.prev,v(p),e}if(l&&!d&&!h){p=c,f=u;return(i=f.items).push.apply(i,p.items),ut.removeAt(t.children,e),ut.removeAt(t.items,e),p.next&&(p.next.prev=f),f.next=p.next,v(p),e-1}if(!l&&d&&h){p=c,f=u;return p.children.push(f.children.shift()),p.items.push(f.items.shift()),t.items[e+1]=f.items[0],I(p,p.width-1),I(f,0),e}if(!l&&d&&!h){p=c,f=u;return p.children.unshift(f.children.pop()),p.items.unshift(f.items.pop()),t.items[e]=p.items[0],I(p,0),I(f,f.width-1),e-1}if(!l&&!d&&h){p=c,f=u;return(o=f.children).unshift.apply(o,p.children),(r=f.items).unshift.apply(r,p.items),ut.removeAt(t.children,e),ut.removeAt(t.items,e+1),I(f,0),p.children.length=0,v(p),e}if(!l&&!d&&!h){p=c,f=u;return(s=f.children).push.apply(s,p.children),(a=f.items).push.apply(a,p.items),ut.removeAt(t.children,e),ut.removeAt(t.items,e),I(f,0),p.children.length=0,v(p),e-1}throw"unreachable"}}(_t||(_t={}));var yt,bt=function(){function t(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return new t.ForwardValueIterator(this._first)},t.prototype.retro=function(){return new t.RetroValueIterator(this._last)},t.prototype.nodes=function(){return new t.ForwardNodeIterator(this._first)},t.prototype.retroNodes=function(){return new t.RetroNodeIterator(this._last)},t.prototype.assign=function(t){var e=this;this.clear(),lt(t,(function(t){e.addLast(t)}))},t.prototype.push=function(t){this.addLast(t)},t.prototype.pop=function(){return this.removeLast()},t.prototype.shift=function(t){this.addFirst(t)},t.prototype.unshift=function(){return this.removeFirst()},t.prototype.addFirst=function(t){var e=new yt.LinkedListNode(this,t);return this._first?(e.next=this._first,this._first.prev=e,this._first=e):(this._first=e,this._last=e),this._size++,e},t.prototype.addLast=function(t){var e=new yt.LinkedListNode(this,t);return this._last?(e.prev=this._last,this._last.next=e,this._last=e):(this._first=e,this._last=e),this._size++,e},t.prototype.insertBefore=function(t,e){if(!e||e===this._first)return this.addFirst(t);if(!(e instanceof yt.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var n=new yt.LinkedListNode(this,t),i=e,o=i.prev;return n.next=i,n.prev=o,i.prev=n,o.next=n,this._size++,n},t.prototype.insertAfter=function(t,e){if(!e||e===this._last)return this.addLast(t);if(!(e instanceof yt.LinkedListNode)||e.list!==this)throw new Error("Reference node is not owned by the list.");var n=new yt.LinkedListNode(this,t),i=e,o=i.next;return n.next=o,n.prev=i,i.next=n,o.prev=n,this._size++,n},t.prototype.removeFirst=function(){var t=this._first;if(t)return t===this._last?(this._first=null,this._last=null):(this._first=t.next,this._first.prev=null),t.list=null,t.next=null,t.prev=null,this._size--,t.value},t.prototype.removeLast=function(){var t=this._last;if(t)return t===this._first?(this._first=null,this._last=null):(this._last=t.prev,this._last.next=null),t.list=null,t.next=null,t.prev=null,this._size--,t.value},t.prototype.removeNode=function(t){if(!(t instanceof yt.LinkedListNode)||t.list!==this)throw new Error("Node is not owned by the list.");var e=t;e===this._first&&e===this._last?(this._first=null,this._last=null):e===this._first?(this._first=e.next,this._first.prev=null):e===this._last?(this._last=e.prev,this._last.next=null):(e.next.prev=e.prev,e.prev.next=e.next),e.list=null,e.next=null,e.prev=null,this._size--},t.prototype.clear=function(){var t=this._first;while(t){var e=t.next;t.list=null,t.prev=null,t.next=null,t=e}this._first=null,this._last=null,this._size=0},t}();(function(t){function e(e){var n=new t;return n.assign(e),n}t.from=e;var n=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.next,t.value}},t}();t.ForwardValueIterator=n;var i=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.prev,t.value}},t}();t.RetroValueIterator=i;var o=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.next,t}},t}();t.ForwardNodeIterator=o;var r=function(){function t(t){this._node=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._node)},t.prototype.next=function(){if(this._node){var t=this._node;return this._node=t.prev,t}},t}();t.RetroNodeIterator=r})(bt||(bt={})),function(t){var e=function(){function t(t,e){this.list=null,this.next=null,this.prev=null,this.list=t,this.value=e}return t}();t.LinkedListNode=e}(yt||(yt={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var xt=function(t,e){return xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},xt(t,e)};function wt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Mt,kt=function(){function t(t){this.type=t}return Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.conflate=function(t){return!1},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return wt(e,t),Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.conflate=function(t){return!0},e}(kt);(function(t){function e(t,e){var n=h.get(t);if(n&&0!==n.length){var i=nt(st(n),(function(n){return!n||_(n,t,e)}));i&&g(t,e)}else g(t,e)}function n(t,e){if(e.isConflatable){var n=it(u,(function(n){return n.handler===t&&(!!n.msg&&(n.msg.type===e.type&&(!!n.msg.isConflatable&&n.msg.conflate(e))))}));n||y(t,e)}else y(t,e)}function i(t,e){var n=h.get(t);n&&-1!==n.indexOf(e)||(n?n.push(e):h.set(t,[e]))}function o(t,e){var n=h.get(t);if(n){var i=n.indexOf(e);-1!==i&&(n[i]=null,x(n))}}function r(t){var e=h.get(t);e&&e.length>0&&(Q.fill(e,null),x(e)),et(u,(function(e){e.handler===t&&(e.handler=null,e.msg=null)}))}function s(){f||0===p||(v(p),f=!0,b(),f=!1)}function a(){return d}function c(t){var e=d;return d=t,e}t.sendMessage=e,t.postMessage=n,t.installMessageHook=i,t.removeMessageHook=o,t.clearData=r,t.flush=s,t.getExceptionHandler=a,t.setExceptionHandler=c;var u=new bt,h=new WeakMap,l=new Set,d=function(t){console.error(t)},p=0,f=!1,m=function(){var t="function"===typeof requestAnimationFrame;return t?requestAnimationFrame:setImmediate}(),v=function(){var t="function"===typeof cancelAnimationFrame;return t?cancelAnimationFrame:clearImmediate}();function _(t,e,n){var i=!0;try{i="function"===typeof t?t(e,n):t.messageHook(e,n)}catch(o){d(o)}return i}function g(t,e){try{t.processMessage(e)}catch(n){d(n)}}function y(t,e){u.addLast({handler:t,msg:e}),0===p&&(p=m(b))}function b(){if(p=0,!u.isEmpty){var t={handler:null,msg:null};u.addLast(t);while(1){var n=u.removeFirst();if(n===t)return;n.handler&&n.msg&&e(n.handler,n.msg)}}}function x(t){0===l.size&&m(w),l.add(t)}function w(){l.forEach(M),l.clear()}function M(t){Q.removeAllWhere(t,k)}function k(t){return null===t}})(Mt||(Mt={}));var It,Et,St=function(){function t(t){this._pid=It.nextPID(),this.name=t.name,this._create=t.create,this._coerce=t.coerce||null,this._compare=t.compare||null,this._changed=t.changed||null}return t.prototype.get=function(t){var e,n=It.ensureMap(t);return e=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(t),e},t.prototype.set=function(t,e){var n,i=It.ensureMap(t);n=this._pid in i?i[this._pid]:i[this._pid]=this._createValue(t);var o=this._coerceValue(t,e);this._maybeNotify(t,n,i[this._pid]=o)},t.prototype.coerce=function(t){var e,n=It.ensureMap(t);e=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(t);var i=this._coerceValue(t,e);this._maybeNotify(t,e,n[this._pid]=i)},t.prototype._createValue=function(t){var e=this._create;return e(t)},t.prototype._coerceValue=function(t,e){var n=this._coerce;return n?n(t,e):e},t.prototype._compareValue=function(t,e){var n=this._compare;return n?n(t,e):t===e},t.prototype._maybeNotify=function(t,e,n){var i=this._changed;i&&!this._compareValue(e,n)&&i(t,e,n)},t}();function At(t){var e;return e="function"===typeof t.iter?t.iter():new zt(t),e}function Lt(t,e){var n,i=0,o=At(t);while(void 0!==(n=o.next()))if(!1===e(n,i++))return}(function(t){function e(t){It.ownerData.delete(t)}t.clearData=e})(St||(St={})),function(t){function e(e){var n=t.ownerData.get(e);return n||(n=Object.create(null),t.ownerData.set(e,n),n)}t.ownerData=new WeakMap,t.nextPID=function(){var t=0;return function(){var e=Math.random(),n=(""+e).slice(2);return"pid-"+n+"-"+t++}}(),t.ensureMap=e}(It||(It={})),function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w}(Et||(Et={}));var zt=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}();(function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();(function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())}})();(function(){function t(){}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){}})();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t}})();function Pt(t,e){var n,i=0,o=At(t);while(void 0!==(n=o.next()))if(e(n,i++))return n}(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)}})();var Ot;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=Ot.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(Ot||(Ot={}));(function(){function t(t,e){this._value=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}})();(function(){function t(t){this._source=t,this._index=t.length-1}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}})();var Tt;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(Tt||(Tt={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();var Dt,Bt,Rt=function(){function t(t){this.sender=t}return t.prototype.connect=function(t,e){return Dt.connect(this,t,e)},t.prototype.disconnect=function(t,e){return Dt.disconnect(this,t,e)},t.prototype.emit=function(t){Dt.emit(this,t)},t}();function jt(t){var e;return e="function"===typeof t.iter?t.iter():new Wt(t),e}function Nt(t,e){var n,i=0,o=jt(t);while(void 0!==(n=o.next()))if(!1===e(n,i++))return}(function(t){function e(t,e){Dt.disconnectBetween(t,e)}function n(t){Dt.disconnectSender(t)}function i(t){Dt.disconnectReceiver(t)}function o(t){Dt.disconnectAll(t)}function r(t){Dt.disconnectAll(t)}function s(){return Dt.exceptionHandler}function a(t){var e=Dt.exceptionHandler;return Dt.exceptionHandler=t,e}t.disconnectBetween=e,t.disconnectSender=n,t.disconnectReceiver=i,t.disconnectAll=o,t.clearData=r,t.getExceptionHandler=s,t.setExceptionHandler=a})(Rt||(Rt={})),function(t){function e(t,e,n){n=n||void 0;var i=c.get(t.sender);if(i||(i=[],c.set(t.sender,i)),d(i,t,e,n))return!1;var o=n||e,r=u.get(o);r||(r=[],u.set(o,r));var s={signal:t,slot:e,thisArg:n};return i.push(s),r.push(s),!0}function n(t,e,n){n=n||void 0;var i=c.get(t.sender);if(!i||0===i.length)return!1;var o=d(i,t,e,n);if(!o)return!1;var r=n||e,s=u.get(r);return o.signal=null,f(i),f(s),!0}function i(t,e){var n=c.get(t);if(n&&0!==n.length){var i=u.get(e);i&&0!==i.length&&(Lt(i,(function(e){e.signal&&e.signal.sender===t&&(e.signal=null)})),f(n),f(i))}}function o(t){var e=c.get(t);e&&0!==e.length&&(Lt(e,(function(t){if(t.signal){var e=t.thisArg||t.slot;t.signal=null,f(u.get(e))}})),f(e))}function r(t){var e=u.get(t);e&&0!==e.length&&(Lt(e,(function(t){if(t.signal){var e=t.signal.sender;t.signal=null,f(c.get(e))}})),f(e))}function s(t){o(t),r(t)}function a(t,e){var n=c.get(t.sender);if(n&&0!==n.length)for(var i=0,o=n.length;i<o;++i){var r=n[i];r.signal===t&&p(r,e)}}t.exceptionHandler=function(t){console.error(t)},t.connect=e,t.disconnect=n,t.disconnectBetween=i,t.disconnectSender=o,t.disconnectReceiver=r,t.disconnectAll=s,t.emit=a;var c=new WeakMap,u=new WeakMap,h=new Set,l=function(){var t="function"===typeof requestAnimationFrame;return t?requestAnimationFrame:setImmediate}();function d(t,e,n,i){return Pt(t,(function(t){return t.signal===e&&t.slot===n&&t.thisArg===i}))}function p(e,n){var i=e.signal,o=e.slot,r=e.thisArg;try{o.call(r,i.sender,n)}catch(s){t.exceptionHandler(s)}}function f(t){0===h.size&&l(m),h.add(t)}function m(){h.forEach(v),h.clear()}function v(t){Et.removeAllWhere(t,_)}function _(t){return null===t.signal}}(Dt||(Dt={})),function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w}(Bt||(Bt={}));var Wt=function(){function t(t){this._index=0,this._source=t}return t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},t}();(function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();(function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())}})();(function(){function t(){}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){}})();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)}})();var Ht;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=Ht.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(Ht||(Ht={}));(function(){function t(t,e){this._value=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}})();(function(){function t(t){this._source=t,this._index=t.length-1}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}})();var Ft;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(Ft||(Ft={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qt=function(t,e){return qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},qt(t,e)};function Vt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Kt=function(){function t(t){this._fn=t}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(this._fn){var t=this._fn;this._fn=null,t()}},t}(),Ut=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disposed=new Rt(e),e}Vt(e,t),Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),Rt.clearData(this))}}(Kt),function(){function t(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((function(t){t.dispose()})),this._items.clear())},t.prototype.contains=function(t){return this._items.has(t)},t.prototype.add=function(t){this._items.add(t)},t.prototype.remove=function(t){this._items.delete(t)},t.prototype.clear=function(){this._items.clear()},t}());(function(t){function e(e){var n=new t;return Nt(e,(function(t){n.add(t)})),n}t.from=e})(Ut||(Ut={}));var Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disposed=new Rt(e),e}return Vt(e,t),Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(t.prototype.dispose.call(this),this._disposed.emit(void 0),Rt.clearData(this))},e}(Ut);(function(t){function e(e){var n=new t;return Nt(e,(function(t){n.add(t)})),n}t.from=e})(Yt||(Yt={}));var Xt,Gt,$t=function(){function t(t){var e=this;this._onScrollFrame=function(){if(e._scrollTarget){var t=e._scrollTarget,n=t.element,i=t.edge,o=t.distance,r=Xt.SCROLL_EDGE_SIZE-o,s=Math.pow(r/Xt.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(s*Xt.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=a;break;case"left":n.scrollLeft-=a;break;case"right":n.scrollLeft+=a;break;case"bottom":n.scrollTop+=a;break}requestAnimationFrame(e._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.mimeData=t.mimeData,this.dragImage=t.dragImage||null,this.proposedAction=t.proposedAction||"copy",this.supportedActions=t.supportedActions||"all",this.source=t.source||null}return t.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var t=Xt.createMouseEvent("pointerup",-1,-1);Xt.dispatchDragLeave(this,this._currentTarget,null,t)}this._finalize("none")}},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.start=function(t,e){var n=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(t,e),this._promise=new Promise((function(t,e){n._resolve=t}));var i=Xt.createMouseEvent("pointermove",t,e);return document.dispatchEvent(i),this._promise},t.prototype.handleEvent=function(t){switch(t.type){case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"pointermove":this._evtMouseMove(t);break;case"pointerup":this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;default:t.preventDefault(),t.stopPropagation();break}},t.prototype.moveDragImage=function(t,e){if(this.dragImage){var n=this.dragImage.style;n.top=e+"px",n.left=t+"px"}},t.prototype._evtMouseMove=function(t){t.preventDefault(),t.stopPropagation(),this._updateCurrentTarget(t),this._updateDragScroll(t),this.moveDragImage(t.clientX,t.clientY)},t.prototype._evtMouseUp=function(t){if(t.preventDefault(),t.stopPropagation(),0===t.button)if(this._updateCurrentTarget(t),this._currentTarget){if("none"===this._dropAction)return Xt.dispatchDragLeave(this,this._currentTarget,null,t),void this._finalize("none");var e=Xt.dispatchDrop(this,this._currentTarget,t);this._finalize(e)}else this._finalize("none")},t.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation(),27===t.keyCode&&this.dispose()},t.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},t.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},t.prototype._updateDragScroll=function(t){var e=Xt.findScrollTarget(t);(this._scrollTarget||e)&&(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=e)},t.prototype._updateCurrentTarget=function(t){var e=this._currentTarget,n=this._currentTarget,i=this._currentElement,o=document.elementFromPoint(t.clientX,t.clientY);this._currentElement=o,o!==i&&o!==n&&Xt.dispatchDragExit(this,n,o,t),o!==i&&o!==n&&(n=Xt.dispatchDragEnter(this,o,n,t)),n!==e&&(this._currentTarget=n,Xt.dispatchDragLeave(this,e,n,t));var r=Xt.dispatchDragOver(this,n,t);this._setDropAction(r)},t.prototype._attachDragImage=function(t,e){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var n=this.dragImage.style;n.pointerEvents="none",n.position="fixed",n.top=e+"px",n.left=t+"px",document.body.appendChild(this.dragImage)}},t.prototype._detachDragImage=function(){if(this.dragImage){var t=this.dragImage.parentNode;t&&t.removeChild(this.dragImage)}},t.prototype._setDropAction=function(e){if(e=Xt.validateAction(e,this.supportedActions),!this._override||this._dropAction!==e)switch(e){case"none":this._dropAction=e,this._override=t.overrideCursor("no-drop");break;case"copy":this._dropAction=e,this._override=t.overrideCursor("copy");break;case"link":this._dropAction=e,this._override=t.overrideCursor("alias");break;case"move":this._dropAction=e,this._override=t.overrideCursor("move");break}},t.prototype._finalize=function(t){var e=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,e&&e(t)},t}();(function(t){function e(t){var e=++n;return document.body.style.cursor=t,document.body.classList.add("lm-mod-override-cursor"),document.body.classList.add("p-mod-override-cursor"),new Kt((function(){e===n&&(document.body.style.cursor="",document.body.classList.remove("lm-mod-override-cursor"),document.body.classList.remove("p-mod-override-cursor"))}))}t.overrideCursor=e;var n=0})($t||($t={})),function(t){function e(t,e){return u[t]&h[e]?t:"none"}function n(t,e,n){var i=document.createEvent("MouseEvent");return i.initMouseEvent(t,!0,!0,window,0,0,0,e,n,!1,!1,!1,!1,0,null),i}function i(e){for(var n=e.clientX,i=e.clientY,o=document.elementFromPoint(n,i);o;o=o.parentElement){var r=o.hasAttribute("data-lm-dragscroll");if(r=r||o.hasAttribute("data-p-dragscroll"),r){var s=0,a=0;o===document.body&&(s=window.pageXOffset,a=window.pageYOffset);var c=o.getBoundingClientRect(),u=c.top+a,h=c.left+s,l=h+c.width,d=u+c.height;if(!(n<h||n>=l||i<u||i>=d)){var p=n-h+1,f=i-u+1,m=l-n,v=d-i,_=Math.min(p,f,m,v);if(!(_>t.SCROLL_EDGE_SIZE)){var g=void 0;switch(_){case v:g="bottom";break;case f:g="top";break;case m:g="right";break;case p:g="left";break;default:throw"unreachable"}var y=o.scrollWidth-o.clientWidth,b=o.scrollHeight-o.clientHeight,x=void 0;switch(g){case"top":x=b>0&&o.scrollTop>0;break;case"left":x=y>0&&o.scrollLeft>0;break;case"right":x=y>0&&o.scrollLeft<y;break;case"bottom":x=b>0&&o.scrollTop<b;break;default:throw"unreachable"}if(x)return{element:o,edge:g,distance:_}}}}}return null}function o(t,e,n,i){if(!e)return null;var o=l("lm-dragenter",t,i,n),r=!e.dispatchEvent(o);return r?e:(o=l("p-dragenter",t,i,n),r=!e.dispatchEvent(o),r?e:e===document.body?n:(o=l("lm-dragenter",t,i,n),document.body.dispatchEvent(o),o=l("p-dragenter",t,i,n),document.body.dispatchEvent(o),document.body))}function r(t,e,n,i){if(e){var o=l("lm-dragexit",t,i,n);e.dispatchEvent(o),o=l("p-dragexit",t,i,n),e.dispatchEvent(o)}}function s(t,e,n,i){if(e){var o=l("lm-dragleave",t,i,n);e.dispatchEvent(o),o=l("p-dragleave",t,i,n),e.dispatchEvent(o)}}function a(t,e,n){if(!e)return"none";var i=l("lm-dragover",t,n,null),o=!e.dispatchEvent(i);return o?i.dropAction:(i=l("p-dragover",t,n,null),o=!e.dispatchEvent(i),o?i.dropAction:"none")}function c(t,e,n){if(!e)return"none";var i=l("lm-drop",t,n,null),o=!e.dispatchEvent(i);return o?i.dropAction:(i=l("p-drop",t,n,null),o=!e.dispatchEvent(i),o?i.dropAction:"none")}t.SCROLL_EDGE_SIZE=20,t.validateAction=e,t.createMouseEvent=n,t.findScrollTarget=i,t.dispatchDragEnter=o,t.dispatchDragExit=r,t.dispatchDragLeave=s,t.dispatchDragOver=a,t.dispatchDrop=c;var u={none:0,copy:1,link:2,move:4},h={none:u["none"],copy:u["copy"],link:u["link"],move:u["move"],"copy-link":u["copy"]|u["link"],"copy-move":u["copy"]|u["move"],"link-move":u["link"]|u["move"],all:u["copy"]|u["link"]|u["move"]};function l(t,e,n,i){var o=document.createEvent("MouseEvent");return o.initMouseEvent(t,!0,!0,window,0,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,i),o.dropAction="none",o.mimeData=e.mimeData,o.proposedAction=e.proposedAction,o.supportedActions=e.supportedActions,o.source=e.source,o}}(Xt||(Xt={})),function(t){function e(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t}function n(t){return Array.isArray(t)}function i(t){return!e(t)&&!n(t)}function o(t,i){if(t===i)return!0;if(e(t)||e(i))return!1;var o=n(t),r=n(i);return o===r&&(o&&r?s(t,i):a(t,i))}function r(t){return e(t)?t:n(t)?c(t):u(t)}function s(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;++n)if(!o(t[n],e[n]))return!1;return!0}function a(t,e){if(t===e)return!0;for(var n in t)if(void 0!==t[n]&&!(n in e))return!1;for(var n in e)if(void 0!==e[n]&&!(n in t))return!1;for(var n in t){var i=t[n],r=e[n];if(void 0!==i||void 0!==r){if(void 0===i||void 0===r)return!1;if(!o(i,r))return!1}}return!0}function c(t){for(var e=new Array(t.length),n=0,i=t.length;n<i;++n)e[n]=r(t[n]);return e}function u(t){var e={};for(var n in t){var i=t[n];void 0!==i&&(e[n]=r(i))}return e}t.emptyObject=Object.freeze({}),t.emptyArray=Object.freeze([]),t.isPrimitive=e,t.isArray=n,t.isObject=i,t.deepEqual=o,t.deepCopy=r}(Gt||(Gt={}));var Zt,Jt=function(){function t(){this._types=[],this._values=[]}return t.prototype.types=function(){return this._types.slice()},t.prototype.hasData=function(t){return-1!==this._types.indexOf(t)},t.prototype.getData=function(t){var e=this._types.indexOf(t);return-1!==e?this._values[e]:void 0},t.prototype.setData=function(t,e){this.clearData(t),this._types.push(t),this._values.push(e)},t.prototype.clearData=function(t){var e=this._types.indexOf(t);-1!==e&&(this._types.splice(e,1),this._values.splice(e,1))},t.prototype.clear=function(){this._types.length=0,this._values.length=0},t}();(function(){function t(){var t=this;this.promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))}t.prototype.resolve=function(t){var e=this._resolve;e(t)},t.prototype.reject=function(t){var e=this._reject;e(t)}})();(function(t){t.getRandomValues=function(){var t="undefined"!==typeof window&&(window.crypto||window.msCrypto)||n(1)||null;return t&&"function"===typeof t.getRandomValues?function(e){return t.getRandomValues(e)}:t&&"function"===typeof t.randomFillSync?function(e){return t.randomFillSync(e)}:t&&"function"===typeof t.randomBytes?function(e){for(var n=t.randomBytes(e.length),i=0,o=n.length;i<o;++i)e[i]=n[i]}:function(t){for(var e=0,n=0,i=t.length;n<i;++n)n%4===0&&(e=4294967295*Math.random()>>>0),t[n]=255&e,e>>>=8}}()})(Zt||(Zt={}));var Qt,te;(function(){function t(t){this.name=t,this._tokenStructuralPropertyT=null}})();(function(t){t.uuid4=function(){for(var t=new Uint8Array(16),e=new Array(256),n=0;n<16;++n)e[n]="0"+n.toString(16);for(n=16;n<256;++n)e[n]=n.toString(16);return function(){return Zt.getRandomValues(t),t[6]=64|15&t[6],t[8]=128|63&t[8],e[t[0]]+e[t[1]]+e[t[2]]+e[t[3]]+"-"+e[t[4]]+e[t[5]]+"-"+e[t[6]]+e[t[7]]+"-"+e[t[8]]+e[t[9]]+"-"+e[t[10]]+e[t[11]]+e[t[12]]+e[t[13]]+e[t[14]]+e[t[15]]}}()})(Qt||(Qt={})),function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w}(te||(te={}));(function(){function t(t){this._index=0,this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();(function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())}})();(function(){function t(){}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){}})();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)}})();var ee;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=ee.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(ee||(ee={}));(function(){function t(t,e){this._value=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}})();(function(){function t(t){this._source=t,this._index=t.length-1}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}})();var ne;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(ne||(ne={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();function ie(){return re.keyboardLayout}var oe=function(){function t(e,n){this.name=e,this._codes=n,this._keys=t.extractKeys(n)}return t.prototype.keys=function(){return Object.keys(this._keys)},t.prototype.isValidKey=function(t){return t in this._keys},t.prototype.keyForKeydownEvent=function(t){return this._codes[t.keyCode]||""},t}();(function(t){function e(t){var e=Object.create(null);for(var n in t)e[t[n]]=!0;return e}t.extractKeys=e})(oe||(oe={}));var re,se=new oe("en-us",{8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"});(function(t){t.keyboardLayout=se})(re||(re={}));var ae,ce,ue=function(){function t(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new Rt(this),this._commandExecuted=new Rt(this),this._keyBindingChanged=new Rt(this)}return Object.defineProperty(t.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),t.prototype.listCommands=function(){return Object.keys(this._commands)},t.prototype.hasCommand=function(t){return t in this._commands},t.prototype.addCommand=function(t,e){var n=this;if(t in this._commands)throw new Error("Command '"+t+"' already registered.");return this._commands[t]=ae.createCommand(e),this._commandChanged.emit({id:t,type:"added"}),new Kt((function(){delete n._commands[t],n._commandChanged.emit({id:t,type:"removed"})}))},t.prototype.notifyCommandChanged=function(t){if(void 0!==t&&!(t in this._commands))throw new Error("Command '"+t+"' is not registered.");this._commandChanged.emit({id:t,type:t?"changed":"many-changed"})},t.prototype.label=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.label.call(void 0,e):""},t.prototype.mnemonic=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.mnemonic.call(void 0,e):-1},t.prototype.icon=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.icon.call(void 0,e):""},t.prototype.iconClass=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.iconClass.call(void 0,e):""},t.prototype.iconLabel=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.iconLabel.call(void 0,e):""},t.prototype.caption=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.caption.call(void 0,e):""},t.prototype.usage=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.usage.call(void 0,e):""},t.prototype.className=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.className.call(void 0,e):""},t.prototype.dataset=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return n?n.dataset.call(void 0,e):{}},t.prototype.isEnabled=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return!!n&&n.isEnabled.call(void 0,e)},t.prototype.isToggled=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return!!n&&n.isToggled.call(void 0,e)},t.prototype.isToggleable=function(t,e){var n=this._commands[t];return!!n&&n.isToggleable},t.prototype.isVisible=function(t,e){void 0===e&&(e=Gt.emptyObject);var n=this._commands[t];return!!n&&n.isVisible.call(void 0,e)},t.prototype.execute=function(t,e){void 0===e&&(e=Gt.emptyObject);var n,i=this._commands[t];if(!i)return Promise.reject(new Error("Command '"+t+"' not registered."));try{n=i.execute.call(void 0,e)}catch(r){n=Promise.reject(r)}var o=Promise.resolve(n);return this._commandExecuted.emit({id:t,args:e,result:o}),o},t.prototype.addKeyBinding=function(t){var e=this,n=ae.createKeyBinding(t);return this._keyBindings.push(n),this._keyBindingChanged.emit({binding:n,type:"added"}),new Kt((function(){te.removeFirstOf(e._keyBindings,n),e._keyBindingChanged.emit({binding:n,type:"removed"})}))},t.prototype.processKeydownEvent=function(e){if(!this._replaying){var n=t.keystrokeForKeydownEvent(e);if(!n)return this._replayKeydownEvents(),void this._clearPendingState();this._keystrokes.push(n);var i=ae.matchKeyBinding(this._keyBindings,this._keystrokes,e),o=i.exact,r=i.partial;if(!o&&!r)return this._replayKeydownEvents(),void this._clearPendingState();if(e.preventDefault(),e.stopPropagation(),o&&!r)return this._executeKeyBinding(o),void this._clearPendingState();o&&(this._exactKeyMatch=o),this._keydownEvents.push(e),this._startTimer()}},t.prototype._startTimer=function(){var t=this;this._clearTimer(),this._timerID=window.setTimeout((function(){t._onPendingTimeout()}),ae.CHORD_TIMEOUT)},t.prototype._clearTimer=function(){0!==this._timerID&&(clearTimeout(this._timerID),this._timerID=0)},t.prototype._replayKeydownEvents=function(){0!==this._keydownEvents.length&&(this._replaying=!0,this._keydownEvents.forEach(ae.replayKeyEvent),this._replaying=!1)},t.prototype._executeKeyBinding=function(t){var e=t.command,n=t.args;if(this.hasCommand(e)&&this.isEnabled(e,n))this.execute(e,n);else{var i=this.hasCommand(e)?"enabled":"registered",o=t.keys.join(", "),r="Cannot execute key binding '"+o+"':",s="command '"+e+"' is not "+i+".";console.warn(r+" "+s)}},t.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},t.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},t}();(function(t){function e(t){for(var e="",n=!1,i=!1,o=!1,r=!1,s=0,a=t.split(/\s+/);s<a.length;s++){var c=a[s];"Accel"===c?$.IS_MAC?i=!0:o=!0:"Alt"===c?n=!0:"Cmd"===c?i=!0:"Ctrl"===c?o=!0:"Shift"===c?r=!0:c.length>0&&(e=c)}return{cmd:i,ctrl:o,alt:n,shift:r,key:e}}function n(t){var n="",i=e(t);return i.ctrl&&(n+="Ctrl "),i.alt&&(n+="Alt "),i.shift&&(n+="Shift "),i.cmd&&$.IS_MAC&&(n+="Cmd "),n+i.key}function i(t){var e;return e=$.IS_WIN?t.winKeys||t.keys:$.IS_MAC?t.macKeys||t.keys:t.linuxKeys||t.keys,e.map(n)}function o(t){var n="",i=e(t);return $.IS_MAC?(i.ctrl&&(n+="⌃ "),i.alt&&(n+="⌥ "),i.shift&&(n+="⇧ "),i.cmd&&(n+="⌘ ")):(i.ctrl&&(n+="Ctrl+"),i.alt&&(n+="Alt+"),i.shift&&(n+="Shift+")),n+i.key}function r(t){var e=ie().keyForKeydownEvent(t);if(!e)return"";var n="";return t.ctrlKey&&(n+="Ctrl "),t.altKey&&(n+="Alt "),t.shiftKey&&(n+="Shift "),t.metaKey&&$.IS_MAC&&(n+="Cmd "),n+e}t.parseKeystroke=e,t.normalizeKeystroke=n,t.normalizeKeys=i,t.formatKeystroke=o,t.keystrokeForKeydownEvent=r})(ue||(ue={})),function(t){function e(t){var e,n;return t.icon&&"string"!==typeof t.icon?(n=l(t.iconClass,r),e=l(t.icon,h)):(n=l(t.iconClass||t.icon,r),e=n),{execute:t.execute,label:l(t.label,r),mnemonic:l(t.mnemonic,s),icon:e,iconClass:n,iconLabel:l(t.iconLabel,r),caption:l(t.caption,r),usage:l(t.usage,r),className:l(t.className,r),dataset:l(t.dataset,u),isEnabled:t.isEnabled||a,isToggled:t.isToggled||c,isToggleable:t.isToggleable||!!t.isToggled,isVisible:t.isVisible||a}}function n(t){return{keys:ue.normalizeKeys(t),selector:d(t),command:t.command,args:t.args||Gt.emptyObject}}function i(t,e,n){for(var i=null,o=!1,r=1/0,s=0,a=0,c=t.length;a<c;++a){var u=t[a],h=p(u.keys,e);if(0!==h)if(2!==h){var l=f(u.selector,n);if(!(-1===l||l>r)){var d=Z.calculateSpecificity(u.selector);(!i||l<r||d>=s)&&(i=u,r=l,s=d)}}else o||-1===f(u.selector,n)||(o=!0)}return{exact:i,partial:o}}function o(t){t.target.dispatchEvent(m(t))}t.CHORD_TIMEOUT=1e3,t.createCommand=e,t.createKeyBinding=n,t.matchKeyBinding=i,t.replayKeyEvent=o;var r=function(){return""},s=function(){return-1},a=function(){return!0},c=function(){return!1},u=function(){return{}},h=function(){};function l(t,e){return void 0===t?e:"function"===typeof t?t:function(){return t}}function d(t){if(-1!==t.selector.indexOf(","))throw new Error("Selector cannot contain commas: "+t.selector);if(!Z.isValid(t.selector))throw new Error("Invalid selector: "+t.selector);return t.selector}function p(t,e){if(t.length<e.length)return 0;for(var n=0,i=e.length;n<i;++n)if(t[n]!==e[n])return 0;return t.length>e.length?2:1}function f(t,e){for(var n=e.target,i=e.currentTarget,o=0;null!==n;n=n.parentElement,++o){if(n.hasAttribute("data-lm-suppress-shortcuts"))return-1;if(n.hasAttribute("data-p-suppress-shortcuts"))return-1;if(Z.matches(n,t))return o;if(n===i)return-1}return-1}function m(t){var e=document.createEvent("Event"),n=t.bubbles||!0,i=t.cancelable||!0;return e.initEvent(t.type||"keydown",n,i),e.key=t.key||"",e.keyCode=t.keyCode||0,e.which=t.keyCode||0,e.ctrlKey=t.ctrlKey||!1,e.altKey=t.altKey||!1,e.shiftKey=t.shiftKey||!1,e.metaKey=t.metaKey||!1,e.view=t.view||window,e}}(ae||(ae={})),function(t){function e(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t[a]===e)return a}return-1}function n(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t[a]===e)return a}return-1}function i(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e(t[a],a))return a}return-1}function o(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=t.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e(t[a],a))return a}return-1}function r(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(t,e,n,o);return-1!==r?t[r]:void 0}function s(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(t,e,n,i);return-1!==r?t[r]:void 0}function a(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)<0?(s=u+1,a-=c+1):a=c}return s}function c(t,e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,u=s+c;n(t[u],e)>0?a=c:(s=u+1,a-=c+1)}return s}function u(t,e,n){if(t===e)return!0;if(t.length!==e.length)return!1;for(var i=0,o=t.length;i<o;++i)if(n?!n(t[i],e[i]):t[i]!==e[i])return!1;return!0}function h(t,e){void 0===e&&(e={});var n=e.start,i=e.stop,o=e.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=t.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=t[n+c*o];return a}function l(t,e,n){var i=t.length;if(!(i<=1)&&(e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),e!==n)){for(var o=t[e],r=e<n?1:-1,s=e;s!==n;s+=r)t[s]=t[s+r];t[n]=o}}function d(t,e,n){void 0===e&&(e=0),void 0===n&&(n=-1);var i=t.length;if(!(i<=1)){e=e<0?Math.max(0,e+i):Math.min(e,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(e<n){var o=t[e],r=t[n];t[e++]=r,t[n--]=o}}}function p(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(e>0?e%=r:e<0&&(e=(e%r+r)%r),0!==e){var s=n+e;d(t,n,s-1),d(t,s,i),d(t,n,i)}}}function f(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)t[(n+s)%o]=e}}function m(t,e,n){var i=t.length;e=e<0?Math.max(0,e+i):Math.min(e,i);for(var o=i;o>e;--o)t[o]=t[o-1];t[e]=n}function v(t,e){var n=t.length;if(e<0&&(e+=n),!(e<0||e>=n)){for(var i=t[e],o=e+1;o<n;++o)t[o-1]=t[o];return t.length=n-1,i}}function _(t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e(t,n,i,o);return-1!==r&&v(t,r),r}function g(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(t,e,i,o);return-1!==r&&v(t,r),r}function y(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t[s]===e||i<n&&(s<=i||s>=n)&&t[s]===e?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}function b(t,e,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(t,e,n,o);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function x(t,e,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(t,e,n,i);return-1!==s&&(r=v(t,s)),{index:s,value:r}}function w(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=t.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e(t[s],s)||i<n&&(s<=i||s>=n)&&e(t[s],s)?r++:r>0&&(t[s-r]=t[s]);return r>0&&(t.length=o-r),r}t.firstIndexOf=e,t.lastIndexOf=n,t.findFirstIndex=i,t.findLastIndex=o,t.findFirstValue=r,t.findLastValue=s,t.lowerBound=a,t.upperBound=c,t.shallowEqual=u,t.slice=h,t.move=l,t.reverse=d,t.rotate=p,t.fill=f,t.insert=m,t.removeAt=v,t.removeFirstOf=_,t.removeLastOf=g,t.removeAllOf=y,t.removeFirstWhere=b,t.removeLastWhere=x,t.removeAllWhere=w}(ce||(ce={}));(function(){function t(t){this._index=0,this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]}})(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?t:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?this._source[t]:this.next()}}}(),function(){function t(t,e){void 0===e&&(e=Object.keys(t)),this._index=0,this._source=t,this._keys=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source,this._keys);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._keys.length)){var t=this._keys[this._index++];return t in this._source?[t,this._source[t]]:this.next()}}}(),function(){function t(t){this._fn=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},t.prototype.next=function(){return this._fn.call(void 0)}}();(function(){function t(t){this._cloned=!1,this._source=t,this._active=void 0}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone());return e._active=this._active&&this._active.clone(),e._cloned=!0,this._cloned=!0,e},t.prototype.next=function(){if(void 0===this._active){var t=this._source.next();if(void 0===t)return;this._active=this._cloned?t.clone():t}var e=this._active.next();return void 0!==e?e:(this._active=void 0,this.next())}})();(function(){function t(){}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t},t.prototype.next=function(){}})();(function(){function t(t,e){this._source=t,this._index=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._index)},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return[this._index++,t]}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t,e=this._fn,n=this._source;while(void 0!==(t=n.next()))if(e(t,this._index++))return t}})();(function(){function t(t,e){this._index=0,this._source=t,this._fn=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source.clone(),this._fn);return e._index=this._index,e},t.prototype.next=function(){var t=this._source.next();if(void 0!==t)return this._fn.call(void 0,t,this._index++)}})();var he;(function(){function t(t,e,n){this._index=0,this._start=t,this._stop=e,this._step=n,this._length=he.rangeLength(t,e,n)}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._start,this._stop,this._step);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();(function(t){function e(t,e,n){return 0===n?1/0:t>e&&n>0||t<e&&n<0?0:Math.ceil((e-t)/n)}t.rangeLength=e})(he||(he={}));(function(){function t(t,e){this._value=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._value,this._count)},t.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value}})();(function(){function t(t){this._source=t,this._index=t.length-1}t.prototype.iter=function(){return this},t.prototype.clone=function(){var e=new t(this._source);return e._index=this._index,e},t.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]}})();var le;(function(){function t(t,e){this._source=t,this._step=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._step)},t.prototype.next=function(){for(var t=this._source.next(),e=this._step-1;e>0;--e)this._source.next();return t}})();(function(t){function e(t,e,n){void 0===n&&(n=0);for(var i=new Array(e.length),o=0,r=n,s=e.length;o<s;++o,++r){if(r=t.indexOf(e[o],r),-1===r)return null;i[o]=r}return i}function n(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(t,n,i){void 0===i&&(i=0);var o=e(t,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var u=o[a];r+=u-s-1,s=u}return{score:r,indices:o}}function o(t,e,n){var i=[],o=0,r=0,s=e.length;while(o<s){var a=e[o],c=e[o];while(++o<s&&e[o]===c+1)c++;r<a&&i.push(t.slice(r,a)),a<c+1&&i.push(n(t.slice(a,c+1))),r=c+1}return r<t.length&&i.push(t.slice(r)),i}function r(t,e){return t<e?-1:t>e?1:0}t.findIndices=e,t.matchSumOfSquares=n,t.matchSumOfDeltas=i,t.highlight=o,t.cmp=r})(le||(le={}));(function(){function t(t,e){this._source=t,this._count=e}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.clone(),this._count)},t.prototype.next=function(){if(!(this._count<=0)){var t=this._source.next();if(void 0!==t)return this._count--,t}}})();(function(){function t(t){this._source=t}t.prototype.iter=function(){return this},t.prototype.clone=function(){return new t(this._source.map((function(t){return t.clone()})))},t.prototype.next=function(){for(var t=new Array(this._source.length),e=0,n=this._source.length;e<n;++e){var i=this._source[e].next();if(void 0===i)return;t[e]=i}return t}})();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var de=function(t,e){return de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},de(t,e)};function pe(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}de(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var fe,me,ve=function(){function t(t){this.type="text",this.content=t}return t}(),_e=function(){function t(t,e,n,i){this.type="element",this.tag=t,this.attrs=e,this.children=n,this.renderer=i}return t}();(function(t){function e(e,n,i){return t.call(this,e,n,[],i||void 0)||this}pe(e,t)})(_e);function ge(t){for(var e,n={},i=[],o=1,r=arguments.length;o<r;++o){var s=arguments[o];"string"===typeof s?i.push(new ve(s)):s instanceof ve||s instanceof _e?i.push(s):s instanceof Array?a(i,s):1!==o&&2!==o||!s||"object"!==typeof s||("render"in s?e=s:n=s)}return new _e(t,n,i,e);function a(t,e){for(var n=0,i=e;n<i.length;n++){var o=i[n];"string"===typeof o?t.push(new ve(o)):(o instanceof ve||o instanceof _e)&&t.push(o)}}}(function(t){t.a=t.bind(void 0,"a"),t.abbr=t.bind(void 0,"abbr"),t.address=t.bind(void 0,"address"),t.area=t.bind(void 0,"area"),t.article=t.bind(void 0,"article"),t.aside=t.bind(void 0,"aside"),t.audio=t.bind(void 0,"audio"),t.b=t.bind(void 0,"b"),t.bdi=t.bind(void 0,"bdi"),t.bdo=t.bind(void 0,"bdo"),t.blockquote=t.bind(void 0,"blockquote"),t.br=t.bind(void 0,"br"),t.button=t.bind(void 0,"button"),t.canvas=t.bind(void 0,"canvas"),t.caption=t.bind(void 0,"caption"),t.cite=t.bind(void 0,"cite"),t.code=t.bind(void 0,"code"),t.col=t.bind(void 0,"col"),t.colgroup=t.bind(void 0,"colgroup"),t.data=t.bind(void 0,"data"),t.datalist=t.bind(void 0,"datalist"),t.dd=t.bind(void 0,"dd"),t.del=t.bind(void 0,"del"),t.dfn=t.bind(void 0,"dfn"),t.div=t.bind(void 0,"div"),t.dl=t.bind(void 0,"dl"),t.dt=t.bind(void 0,"dt"),t.em=t.bind(void 0,"em"),t.embed=t.bind(void 0,"embed"),t.fieldset=t.bind(void 0,"fieldset"),t.figcaption=t.bind(void 0,"figcaption"),t.figure=t.bind(void 0,"figure"),t.footer=t.bind(void 0,"footer"),t.form=t.bind(void 0,"form"),t.h1=t.bind(void 0,"h1"),t.h2=t.bind(void 0,"h2"),t.h3=t.bind(void 0,"h3"),t.h4=t.bind(void 0,"h4"),t.h5=t.bind(void 0,"h5"),t.h6=t.bind(void 0,"h6"),t.header=t.bind(void 0,"header"),t.hr=t.bind(void 0,"hr"),t.i=t.bind(void 0,"i"),t.iframe=t.bind(void 0,"iframe"),t.img=t.bind(void 0,"img"),t.input=t.bind(void 0,"input"),t.ins=t.bind(void 0,"ins"),t.kbd=t.bind(void 0,"kbd"),t.label=t.bind(void 0,"label"),t.legend=t.bind(void 0,"legend"),t.li=t.bind(void 0,"li"),t.main=t.bind(void 0,"main"),t.map=t.bind(void 0,"map"),t.mark=t.bind(void 0,"mark"),t.meter=t.bind(void 0,"meter"),t.nav=t.bind(void 0,"nav"),t.noscript=t.bind(void 0,"noscript"),t.object=t.bind(void 0,"object"),t.ol=t.bind(void 0,"ol"),t.optgroup=t.bind(void 0,"optgroup"),t.option=t.bind(void 0,"option"),t.output=t.bind(void 0,"output"),t.p=t.bind(void 0,"p"),t.param=t.bind(void 0,"param"),t.pre=t.bind(void 0,"pre"),t.progress=t.bind(void 0,"progress"),t.q=t.bind(void 0,"q"),t.rp=t.bind(void 0,"rp"),t.rt=t.bind(void 0,"rt"),t.ruby=t.bind(void 0,"ruby"),t.s=t.bind(void 0,"s"),t.samp=t.bind(void 0,"samp"),t.section=t.bind(void 0,"section"),t.select=t.bind(void 0,"select"),t.small=t.bind(void 0,"small"),t.source=t.bind(void 0,"source"),t.span=t.bind(void 0,"span"),t.strong=t.bind(void 0,"strong"),t.sub=t.bind(void 0,"sub"),t.summary=t.bind(void 0,"summary"),t.sup=t.bind(void 0,"sup"),t.table=t.bind(void 0,"table"),t.tbody=t.bind(void 0,"tbody"),t.td=t.bind(void 0,"td"),t.textarea=t.bind(void 0,"textarea"),t.tfoot=t.bind(void 0,"tfoot"),t.th=t.bind(void 0,"th"),t.thead=t.bind(void 0,"thead"),t.time=t.bind(void 0,"time"),t.title=t.bind(void 0,"title"),t.tr=t.bind(void 0,"tr"),t.track=t.bind(void 0,"track"),t.u=t.bind(void 0,"u"),t.ul=t.bind(void 0,"ul"),t.var_=t.bind(void 0,"var"),t.video=t.bind(void 0,"video"),t.wbr=t.bind(void 0,"wbr")})(ge||(ge={})),function(t){function e(t){return me.createDOMNode(t)}function n(t,e){var n=me.hostMap.get(e)||[],i=me.asContentArray(t);me.hostMap.set(e,i),me.updateContent(e,n,i)}t.realize=e,t.render=n}(fe||(fe={})),function(t){function e(t){return t?t instanceof Array?t:[t]:[]}function n(t){var e=arguments[1]||null,i=arguments[2]||null;if(e)e.insertBefore(n(t),i);else{if("text"===t.type)return document.createTextNode(t.content);if(e=document.createElement(t.tag),s(e,t.attrs),t.renderer)return t.renderer.render(e,{attrs:t.attrs,children:t.children}),e;for(var o=0,r=t.children.length;o<r;++o)n(t.children[o],e)}return e}function i(t,e,r){if(e!==r){for(var s=d(t,e),c=e.slice(),u=t.firstChild,h=r.length,l=0;l<h;++l)if(l>=c.length)n(r[l],t);else{var p=c[l],f=r[l];if(p!==f)if("text"!==p.type||"text"!==f.type)if("text"!==p.type&&"text"!==f.type)if(!p.renderer==!f.renderer){var m=f.attrs.key;if(m&&m in s){var v=s[m];v.vNode!==p&&(ce.move(c,c.indexOf(v.vNode,l+1),l),t.insertBefore(v.element,u),p=v.vNode,u=v.element)}if(p!==f){var _=p.attrs.key;_&&_!==m?(ce.insert(c,l,f),n(f,t,u)):p.tag===f.tag?(a(u,p.attrs,f.attrs),f.renderer?f.renderer.render(u,{attrs:f.attrs,children:f.children}):i(u,p.children,f.children),u=u.nextSibling):(ce.insert(c,l,f),n(f,t,u))}else u=u.nextSibling}else ce.insert(c,l,f),n(f,t,u);else ce.insert(c,l,f),n(f,t,u);else u.textContent=f.content,u=u.nextSibling;else u=u.nextSibling}o(t,c,h,!0)}}function o(t,e,n,i){for(var r=e.length-1;r>=n;--r){var s=e[r],a=i?t.lastChild:t.childNodes[r];"text"===s.type||(s.renderer&&s.renderer.unrender?s.renderer.unrender(a,{attrs:s.attrs,children:s.children}):o(a,s.children,0,!1)),i&&t.removeChild(a)}}t.hostMap=new WeakMap,t.asContentArray=e,t.createDOMNode=n,t.updateContent=i;var r={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function s(t,e){for(var n in e)n in r||("on"===n.substr(0,2)?t[n]=e[n]:t.setAttribute(n,e[n]));void 0!==e.className&&t.setAttribute("class",e.className),void 0!==e.htmlFor&&t.setAttribute("for",e.htmlFor),e.dataset&&c(t,e.dataset),e.style&&h(t,e.style)}function a(t,e,n){if(e!==n){var i;for(i in e)i in r||i in n||("on"===i.substr(0,2)?t[i]=null:t.removeAttribute(i));for(i in n)i in r||e[i]===n[i]||("on"===i.substr(0,2)?t[i]=n[i]:t.setAttribute(i,n[i]));e.className!==n.className&&(void 0!==n.className?t.setAttribute("class",n.className):t.removeAttribute("class")),e.htmlFor!==n.htmlFor&&(void 0!==n.htmlFor?t.setAttribute("for",n.htmlFor):t.removeAttribute("for")),e.dataset!==n.dataset&&u(t,e.dataset||{},n.dataset||{}),e.style!==n.style&&l(t,e.style||{},n.style||{})}}function c(t,e){for(var n in e)t.setAttribute("data-"+n,e[n])}function u(t,e,n){for(var i in e)i in n||t.removeAttribute("data-"+i);for(var o in n)e[o]!==n[o]&&t.setAttribute("data-"+o,n[o])}function h(t,e){var n,i=t.style;for(n in e)i[n]=e[n]}function l(t,e,n){var i,o=t.style;for(i in e)i in n||(o[i]="");for(i in n)e[i]!==n[i]&&(o[i]=n[i])}function d(t,e){for(var n=t.firstChild,i=Object.create(null),o=0,r=e;o<r.length;o++){var s=r[o];"element"===s.type&&s.attrs.key&&(i[s.attrs.key]={vNode:s,element:n}),n=n.nextSibling}return i}}(me||(me={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ye=function(t,e){return ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ye(t,e)};function be(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var xe=function(){return xe=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xe.apply(this,arguments)};function we(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}var Me,ke=function(){function t(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}return t}();(function(t){function e(t,e){var n=t.length;if(0===n)return e;for(var i=0,o=0,r=0,s=0,a=0,c=0;c<n;++c){var u=t[c],h=u.minSize,l=u.maxSize,d=u.sizeHint;u.done=!1,u.size=Math.max(h,Math.min(d,l)),r+=u.size,i+=h,o+=l,u.stretch>0&&(s+=u.stretch,a++)}if(e===r)return 0;if(e<=i){for(c=0;c<n;++c){u=t[c];u.size=u.minSize}return e-i}if(e>=o){for(c=0;c<n;++c){u=t[c];u.size=u.maxSize}return e-o}var p=.01,f=n;if(e<r){var m=r-e;while(a>0&&m>p){var v=m,_=s;for(c=0;c<n;++c){u=t[c];if(!u.done&&0!==u.stretch){var g=u.stretch*v/_;u.size-g<=u.minSize?(m-=u.size-u.minSize,s-=u.stretch,u.size=u.minSize,u.done=!0,f--,a--):(m-=g,u.size-=g)}}}while(f>0&&m>p)for(g=m/f,c=0;c<n;++c){u=t[c];u.done||(u.size-g<=u.minSize?(m-=u.size-u.minSize,u.size=u.minSize,u.done=!0,f--):(m-=g,u.size-=g))}}else{m=e-r;while(a>0&&m>p)for(v=m,_=s,c=0;c<n;++c){u=t[c];if(!u.done&&0!==u.stretch){g=u.stretch*v/_;u.size+g>=u.maxSize?(m-=u.maxSize-u.size,s-=u.stretch,u.size=u.maxSize,u.done=!0,f--,a--):(m-=g,u.size+=g)}}while(f>0&&m>p)for(g=m/f,c=0;c<n;++c){u=t[c];u.done||(u.size+g>=u.maxSize?(m-=u.maxSize-u.size,u.size=u.maxSize,u.done=!0,f--):(m-=g,u.size+=g))}}return 0}function n(t,e,n){0!==t.length&&0!==n&&(n>0?i(t,e,n):o(t,e,-n))}function i(t,e,n){for(var i=0,o=0;o<=e;++o){var r=t[o];i+=r.maxSize-r.size}for(var s=0,a=(o=e+1,t.length);o<a;++o){r=t[o];s+=r.size-r.minSize}n=Math.min(n,i,s);var c=n;for(o=e;o>=0&&c>0;--o){r=t[o];var u=r.maxSize-r.size;u>=c?(r.sizeHint=r.size+c,c=0):(r.sizeHint=r.size+u,c-=u)}var h=n;for(o=e+1,a=t.length;o<a&&h>0;++o){r=t[o],u=r.size-r.minSize;u>=h?(r.sizeHint=r.size-h,h=0):(r.sizeHint=r.size-u,h-=u)}}function o(t,e,n){for(var i=0,o=e+1,r=t.length;o<r;++o){var s=t[o];i+=s.maxSize-s.size}var a=0;for(o=0;o<=e;++o){s=t[o];a+=s.size-s.minSize}n=Math.min(n,i,a);var c=n;for(o=e+1,r=t.length;o<r&&c>0;++o){s=t[o];var u=s.maxSize-s.size;u>=c?(s.sizeHint=s.size+c,c=0):(s.sizeHint=s.size+u,c-=u)}var h=n;for(o=e;o>=0&&h>0;--o){s=t[o],u=s.size-s.minSize;u>=h?(s.sizeHint=s.size-h,h=0):(s.sizeHint=s.size-u,h-=u)}}t.calc=e,t.adjust=n})(Me||(Me={}));var Ce,Ie=function(){function t(t){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new Rt(this),this.owner=t.owner,void 0!==t.label&&(this._label=t.label),void 0!==t.mnemonic&&(this._mnemonic=t.mnemonic),void 0!==t.icon?"string"===typeof t.icon?(this._icon=null,this._iconClass=t.icon):this._icon=t.icon:this._icon=null,void 0!==t.iconClass&&(this._iconClass=t.iconClass),void 0!==t.iconLabel&&(this._iconLabel=t.iconLabel),void 0!==t.iconRenderer&&(this._icon=t.iconRenderer),void 0!==t.caption&&(this._caption=t.caption),void 0!==t.className&&(this._className=t.className),void 0!==t.closable&&(this._closable=t.closable),this._dataset=t.dataset||{}}return Object.defineProperty(t.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(t){this._label!==t&&(this._label=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(t){this._mnemonic!==t&&(this._mnemonic=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return null===this._icon?this.iconClass:this._icon},set:function(t){if("string"===typeof t)this._icon=null,this.iconClass=t;else{if(this._icon===t)return;this._icon=t,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._iconClass},set:function(t){this._iconClass!==t&&(this._iconClass=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(t){this._iconLabel!==t&&(this._iconLabel=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(t){this.icon=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._caption},set:function(t){this._caption!==t&&(this._caption=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(t){this._className!==t&&(this._className=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this._closable},set:function(t){this._closable!==t&&(this._closable=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._dataset},set:function(t){this._dataset!==t&&(this._dataset=t,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),t}(),Ee=function(){function t(t){void 0===t&&(t={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new Rt(this),this.node=Ce.createNode(t),this.addClass("lm-Widget"),this.addClass("p-Widget")}return t.prototype.dispose=function(){this.isDisposed||(this.setFlag(t.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&t.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),Rt.clearData(this),Mt.clearData(this),St.clearData(this))},Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this.testFlag(t.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.testFlag(t.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.testFlag(t.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.testFlag(t.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return Ce.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.node.id},set:function(t){this.node.id=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(e&&this.contains(e))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new t.ChildMessage("child-removed",this);Mt.sendMessage(this._parent,n)}if(this._parent=e,this._parent&&!this._parent.isDisposed){n=new t.ChildMessage("child-added",this);Mt.sendMessage(this._parent,n)}this.isDisposed||Mt.sendMessage(this,t.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(e){if(this._layout!==e){if(this.testFlag(t.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(e.parent)throw new Error("Cannot change layout parent.");this._layout=e,e.parent=this}},enumerable:!0,configurable:!0}),t.prototype.children=function(){return this._layout?this._layout.iter():D()},t.prototype.contains=function(t){for(var e=t;e;e=e._parent)if(e===this)return!0;return!1},t.prototype.hasClass=function(t){return this.node.classList.contains(t)},t.prototype.addClass=function(t){this.node.classList.add(t)},t.prototype.removeClass=function(t){this.node.classList.remove(t)},t.prototype.toggleClass=function(t,e){return!0===e?(this.node.classList.add(t),!0):!1===e?(this.node.classList.remove(t),!1):this.node.classList.toggle(t)},t.prototype.update=function(){Mt.postMessage(this,t.Msg.UpdateRequest)},t.prototype.fit=function(){Mt.postMessage(this,t.Msg.FitRequest)},t.prototype.activate=function(){Mt.postMessage(this,t.Msg.ActivateRequest)},t.prototype.close=function(){Mt.sendMessage(this,t.Msg.CloseRequest)},t.prototype.show=function(){if(this.testFlag(t.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||Mt.sendMessage(this,t.Msg.BeforeShow),this.clearFlag(t.Flag.IsHidden),this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||Mt.sendMessage(this,t.Msg.AfterShow),this.parent)){var e=new t.ChildMessage("child-shown",this);Mt.sendMessage(this.parent,e)}},t.prototype.hide=function(){if(!this.testFlag(t.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||Mt.sendMessage(this,t.Msg.BeforeHide),this.setFlag(t.Flag.IsHidden),this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||Mt.sendMessage(this,t.Msg.AfterHide),this.parent)){var e=new t.ChildMessage("child-hidden",this);Mt.sendMessage(this.parent,e)}},t.prototype.setHidden=function(t){t?this.hide():this.show()},t.prototype.testFlag=function(t){return 0!==(this._flags&t)},t.prototype.setFlag=function(t){this._flags|=t},t.prototype.clearFlag=function(t){this._flags&=~t},t.prototype.processMessage=function(e){switch(e.type){case"resize":this.notifyLayout(e),this.onResize(e);break;case"update-request":this.notifyLayout(e),this.onUpdateRequest(e);break;case"fit-request":this.notifyLayout(e),this.onFitRequest(e);break;case"before-show":this.notifyLayout(e),this.onBeforeShow(e);break;case"after-show":this.setFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterShow(e);break;case"before-hide":this.notifyLayout(e),this.onBeforeHide(e);break;case"after-hide":this.clearFlag(t.Flag.IsVisible),this.notifyLayout(e),this.onAfterHide(e);break;case"before-attach":this.notifyLayout(e),this.onBeforeAttach(e);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(t.Flag.IsVisible),this.setFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterAttach(e);break;case"before-detach":this.notifyLayout(e),this.onBeforeDetach(e);break;case"after-detach":this.clearFlag(t.Flag.IsVisible),this.clearFlag(t.Flag.IsAttached),this.notifyLayout(e),this.onAfterDetach(e);break;case"activate-request":this.notifyLayout(e),this.onActivateRequest(e);break;case"close-request":this.notifyLayout(e),this.onCloseRequest(e);break;case"child-added":this.notifyLayout(e),this.onChildAdded(e);break;case"child-removed":this.notifyLayout(e),this.onChildRemoved(e);break;default:this.notifyLayout(e);break}},t.prototype.notifyLayout=function(t){this._layout&&this._layout.processParentMessage(t)},t.prototype.onCloseRequest=function(e){this.parent?this.parent=null:this.isAttached&&t.detach(this)},t.prototype.onResize=function(t){},t.prototype.onUpdateRequest=function(t){},t.prototype.onFitRequest=function(t){},t.prototype.onActivateRequest=function(t){},t.prototype.onBeforeShow=function(t){},t.prototype.onAfterShow=function(t){},t.prototype.onBeforeHide=function(t){},t.prototype.onAfterHide=function(t){},t.prototype.onBeforeAttach=function(t){},t.prototype.onAfterAttach=function(t){},t.prototype.onBeforeDetach=function(t){},t.prototype.onAfterDetach=function(t){},t.prototype.onChildAdded=function(t){},t.prototype.onChildRemoved=function(t){},t}();(function(t){(function(t){t[t["IsDisposed"]=1]="IsDisposed",t[t["IsAttached"]=2]="IsAttached",t[t["IsHidden"]=4]="IsHidden",t[t["IsVisible"]=8]="IsVisible",t[t["DisallowLayout"]=16]="DisallowLayout"})(t.Flag||(t.Flag={})),function(t){t.BeforeShow=new kt("before-show"),t.AfterShow=new kt("after-show"),t.BeforeHide=new kt("before-hide"),t.AfterHide=new kt("after-hide"),t.BeforeAttach=new kt("before-attach"),t.AfterAttach=new kt("after-attach"),t.BeforeDetach=new kt("before-detach"),t.AfterDetach=new kt("after-detach"),t.ParentChanged=new kt("parent-changed"),t.UpdateRequest=new Ct("update-request"),t.FitRequest=new Ct("fit-request"),t.ActivateRequest=new Ct("activate-request"),t.CloseRequest=new Ct("close-request")}(t.Msg||(t.Msg={}));var e=function(t){function e(e,n){var i=t.call(this,e)||this;return i.child=n,i}return be(e,t),e}(kt);t.ChildMessage=e;var n=function(t){function e(e,n){var i=t.call(this,"resize")||this;return i.width=e,i.height=n,i}return be(e,t),e}(kt);function i(e,n,i){if(void 0===i&&(i=null),e.parent)throw new Error("Cannot attach a child widget.");if(e.isAttached||document.body.contains(e.node))throw new Error("Widget is already attached.");if(!document.body.contains(n))throw new Error("Host is not attached.");Mt.sendMessage(e,t.Msg.BeforeAttach),n.insertBefore(e.node,i),Mt.sendMessage(e,t.Msg.AfterAttach)}function o(e){if(e.parent)throw new Error("Cannot detach a child widget.");if(!e.isAttached||!document.body.contains(e.node))throw new Error("Widget is not attached.");Mt.sendMessage(e,t.Msg.BeforeDetach),e.node.parentNode.removeChild(e.node),Mt.sendMessage(e,t.Msg.AfterDetach)}t.ResizeMessage=n,function(t){t.UnknownSize=new t(-1,-1)}(n=t.ResizeMessage||(t.ResizeMessage={})),t.attach=i,t.detach=o})(Ee||(Ee={})),function(t){function e(t){return t.node||document.createElement(t.tag||"div")}t.titleProperty=new St({name:"title",create:function(t){return new Ie({owner:t})}}),t.createNode=e}(Ce||(Ce={}));var Se=function(){function t(t){void 0===t&&(t={}),this._disposed=!1,this._parent=null,this._fitPolicy=t.fitPolicy||"set-min-size"}return t.prototype.dispose=function(){this._parent=null,this._disposed=!0,Rt.clearData(this),St.clearData(this)},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent!==t){if(this._parent)throw new Error("Cannot change parent widget.");if(t.layout!==this)throw new Error("Invalid parent widget.");this._parent=t,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(t){if(this._fitPolicy!==t&&(this._fitPolicy=t,this._parent)){var e=this._parent.node.style;e.minWidth="",e.minHeight="",e.maxWidth="",e.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),t.prototype.processParentMessage=function(t){switch(t.type){case"resize":this.onResize(t);break;case"update-request":this.onUpdateRequest(t);break;case"fit-request":this.onFitRequest(t);break;case"before-show":this.onBeforeShow(t);break;case"after-show":this.onAfterShow(t);break;case"before-hide":this.onBeforeHide(t);break;case"after-hide":this.onAfterHide(t);break;case"before-attach":this.onBeforeAttach(t);break;case"after-attach":this.onAfterAttach(t);break;case"before-detach":this.onBeforeDetach(t);break;case"after-detach":this.onAfterDetach(t);break;case"child-removed":this.onChildRemoved(t);break;case"child-shown":this.onChildShown(t);break;case"child-hidden":this.onChildHidden(t);break}},t.prototype.init=function(){var t=this;L(this,(function(e){e.parent=t.parent}))},t.prototype.onResize=function(t){L(this,(function(t){Mt.sendMessage(t,Ee.ResizeMessage.UnknownSize)}))},t.prototype.onUpdateRequest=function(t){L(this,(function(t){Mt.sendMessage(t,Ee.ResizeMessage.UnknownSize)}))},t.prototype.onBeforeAttach=function(t){L(this,(function(e){Mt.sendMessage(e,t)}))},t.prototype.onAfterAttach=function(t){L(this,(function(e){Mt.sendMessage(e,t)}))},t.prototype.onBeforeDetach=function(t){L(this,(function(e){Mt.sendMessage(e,t)}))},t.prototype.onAfterDetach=function(t){L(this,(function(e){Mt.sendMessage(e,t)}))},t.prototype.onBeforeShow=function(t){L(this,(function(e){e.isHidden||Mt.sendMessage(e,t)}))},t.prototype.onAfterShow=function(t){L(this,(function(e){e.isHidden||Mt.sendMessage(e,t)}))},t.prototype.onBeforeHide=function(t){L(this,(function(e){e.isHidden||Mt.sendMessage(e,t)}))},t.prototype.onAfterHide=function(t){L(this,(function(e){e.isHidden||Mt.sendMessage(e,t)}))},t.prototype.onChildRemoved=function(t){this.removeWidget(t.child)},t.prototype.onFitRequest=function(t){},t.prototype.onChildShown=function(t){},t.prototype.onChildHidden=function(t){},t}();(function(t){function e(t){return Ae.horizontalAlignmentProperty.get(t)}function n(t,e){Ae.horizontalAlignmentProperty.set(t,e)}function i(t){return Ae.verticalAlignmentProperty.get(t)}function o(t,e){Ae.verticalAlignmentProperty.set(t,e)}t.getHorizontalAlignment=e,t.setHorizontalAlignment=n,t.getVerticalAlignment=i,t.setVerticalAlignment=o})(Se||(Se={}));var Ae,Le=function(){function t(t){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=t,this.widget.node.style.position="absolute"}return t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var t=this.widget.node.style;t.position="",t.top="",t.left="",t.width="",t.height=""}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),t.prototype.fit=function(){var t=G.sizeLimits(this.widget.node);this._minWidth=t.minWidth,this._minHeight=t.minHeight,this._maxWidth=t.maxWidth,this._maxHeight=t.maxHeight},t.prototype.update=function(t,e,n,i){var o=Math.max(this._minWidth,Math.min(n,this._maxWidth)),r=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(o<n)switch(Se.getHorizontalAlignment(this.widget)){case"left":break;case"center":t+=(n-o)/2;break;case"right":t+=n-o;break;default:throw"unreachable"}if(r<i)switch(Se.getVerticalAlignment(this.widget)){case"top":break;case"center":e+=(i-r)/2;break;case"bottom":e+=i-r;break;default:throw"unreachable"}var s=!1,a=this.widget.node.style;if(this._top!==e&&(this._top=e,a.top=e+"px"),this._left!==t&&(this._left=t,a.left=t+"px"),this._width!==o&&(s=!0,this._width=o,a.width=o+"px"),this._height!==r&&(s=!0,this._height=r,a.height=r+"px"),s){var c=new Ee.ResizeMessage(o,r);Mt.sendMessage(this.widget,c)}},t}();(function(t){function e(t){t.parent&&t.parent.layout&&t.parent.update()}t.horizontalAlignmentProperty=new St({name:"horizontalAlignment",create:function(){return"center"},changed:e}),t.verticalAlignmentProperty=new St({name:"verticalAlignment",create:function(){return"top"},changed:e})})(Ae||(Ae={}));var ze,Pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._widgets=[],e}return be(e,t),e.prototype.dispose=function(){while(this._widgets.length>0)this._widgets.pop().dispose();t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return A(this._widgets)},e.prototype.addWidget=function(t){this.insertWidget(this._widgets.length,t)},e.prototype.insertWidget=function(t,e){e.parent=this.parent;var n=this._widgets.indexOf(e),i=Math.max(0,Math.min(t,this._widgets.length));if(-1===n)return I.insert(this._widgets,i,e),void(this.parent&&this.attachWidget(i,e));i===this._widgets.length&&i--,n!==i&&(I.move(this._widgets,n,i),this.parent&&this.moveWidget(n,i,e))},e.prototype.removeWidget=function(t){this.removeWidgetAt(this._widgets.indexOf(t))},e.prototype.removeWidgetAt=function(t){var e=I.removeAt(this._widgets,t);e&&this.parent&&this.detachWidget(t,e)},e.prototype.init=function(){var e=this;t.prototype.init.call(this),L(this,(function(t,n){e.attachWidget(n,t)}))},e.prototype.attachWidget=function(t,e){var n=this.parent.node.children[t];this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeAttach),this.parent.node.insertBefore(e.node,n),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterAttach)},e.prototype.moveWidget=function(t,e,n){this.parent.isAttached&&Mt.sendMessage(n,Ee.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&Mt.sendMessage(n,Ee.Msg.AfterDetach);var i=this.parent.node.children[e];this.parent.isAttached&&Mt.sendMessage(n,Ee.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&Mt.sendMessage(n,Ee.Msg.AfterAttach)},e.prototype.detachWidget=function(t,e){this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterDetach)},e}(Se);(function(t){function e(t){return Math.max(0,Math.floor(t))}t.clampDimension=e})(ze||(ze={}));var Oe,Te=ze,De=function(t){function e(e){var n=t.call(this)||this;return n.widgetOffset=0,n._fixed=0,n._spacing=4,n._dirty=!1,n._hasNormedSizes=!1,n._sizers=[],n._items=[],n._handles=[],n._box=null,n._alignment="start",n._orientation="horizontal",n.renderer=e.renderer,void 0!==e.orientation&&(n._orientation=e.orientation),void 0!==e.alignment&&(n._alignment=e.alignment),void 0!==e.spacing&&(n._spacing=ze.clampDimension(e.spacing)),n}return be(e,t),e.prototype.dispose=function(){L(this._items,(function(t){t.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._orientation=t,this.parent&&(this.parent.dataset["orientation"]=t,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment!==t&&(this._alignment=t,this.parent&&(this.parent.dataset["alignment"]=t,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=ze.clampDimension(t),this._spacing!==t&&(this._spacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),e.prototype.relativeSizes=function(){return Oe.normalize(this._sizers.map((function(t){return t.size})))},e.prototype.setRelativeSizes=function(t){var e=this._sizers.length,n=t.slice(0,e);while(n.length<e)n.push(0);for(var i=Oe.normalize(n),o=0;o<e;++o){var r=this._sizers[o];r.sizeHint=i[o],r.size=i[o]}this._hasNormedSizes=!0,this.parent&&this.parent.update()},e.prototype.moveHandle=function(t,e){var n,i=this._handles[t];if(i&&!i.classList.contains("lm-mod-hidden")&&(n="horizontal"===this._orientation?e-i.offsetLeft:e-i.offsetTop,0!==n)){for(var o=0,r=this._sizers;o<r.length;o++){var s=r[o];s.size>0&&(s.sizeHint=s.size)}Me.adjust(this._sizers,t,n),this.parent&&this.parent.update()}},e.prototype.init=function(){this.parent.dataset["orientation"]=this.orientation,this.parent.dataset["alignment"]=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(t,e){var n=new Le(e),i=Oe.createHandle(this.renderer),o=Oe.averageSize(this._sizers),r=Oe.createSizer(o);I.insert(this._items,t,n),I.insert(this._sizers,t,r),I.insert(this._handles,t,i),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.node.appendChild(i),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(t,e,n){I.move(this._items,t,e),I.move(this._sizers,t,e),I.move(this._handles,t,e),this.parent.fit()},e.prototype.detachWidget=function(t,e){var n=I.removeAt(this._items,t),i=I.removeAt(this._handles,t);I.removeAt(this._sizers,t),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.node.removeChild(i),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterDetach),n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype.updateItemPosition=function(t,e,n,i,o,r,s){var a=this._items[t];if(!a.isHidden){var c=this._handles[t].style;e?(n+=this.widgetOffset,a.update(n,i,s,o),n+=s,c.top=i+"px",c.left=n+"px",c.width=this._spacing+"px",c.height=o+"px"):(i+=this.widgetOffset,a.update(n,i,r,s),i+=s,c.top=i+"px",c.left=n+"px",c.width=r+"px",c.height=this._spacing+"px")}},e.prototype._fit=function(){for(var t=0,n=-1,i=0,o=this._items.length;i<o;++i)this._items[i].isHidden?(this._handles[i].classList.add("lm-mod-hidden"),this._handles[i].classList.add("p-mod-hidden")):(this._handles[i].classList.remove("lm-mod-hidden"),this._handles[i].classList.remove("p-mod-hidden"),n=i,t++);-1!==n&&(this._handles[n].classList.add("lm-mod-hidden"),this._handles[n].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,t-1)+this.widgetOffset*this._items.length;var r="horizontal"===this._orientation,s=r?this._fixed:0,a=r?0:this._fixed;for(i=0,o=this._items.length;i<o;++i){var c=this._items[i],u=this._sizers[i];u.size>0&&(u.sizeHint=u.size),c.isHidden?(u.minSize=0,u.maxSize=0):(c.fit(),u.stretch=e.getStretch(c.widget),r?(u.minSize=c.minWidth,u.maxSize=c.maxWidth,s+=c.minWidth,a=Math.max(a,c.minHeight)):(u.minSize=c.minHeight,u.maxSize=c.maxHeight,a+=c.minHeight,s=Math.max(s,c.minWidth)))}var h=this._box=G.boxSizing(this.parent.node);s+=h.horizontalSum,a+=h.verticalSum;var l=this.parent.node.style;l.minWidth=s+"px",l.minHeight=a+"px",this._dirty=!0,this.parent.parent&&Mt.sendMessage(this.parent.parent,Ee.Msg.FitRequest),this._dirty&&Mt.sendMessage(this.parent,Ee.Msg.UpdateRequest)},e.prototype._update=function(t,e){this._dirty=!1;for(var n=0,i=0,o=this._items.length;i<o;++i)n+=+!this._items[i].isHidden;if(0!==n||0!==this.widgetOffset){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=G.boxSizing(this.parent.node));var r=this._box.paddingTop,s=this._box.paddingLeft,a=t-this._box.horizontalSum,c=e-this._box.verticalSum,u=0,h=0,l="horizontal"===this._orientation;if(n>0){var d=void 0;if(d=l?Math.max(0,a-this._fixed):Math.max(0,c-this._fixed),this._hasNormedSizes){for(var p=0,f=this._sizers;p<f.length;p++){var m=f[p];m.sizeHint*=d}this._hasNormedSizes=!1}var v=Me.calc(this._sizers,d);if(v>0)switch(this._alignment){case"start":break;case"center":u=0,h=v/2;break;case"end":u=0,h=v;break;case"justify":u=v/n,h=0;break;default:throw"unreachable"}}for(i=0,o=this._items.length;i<o;++i){var _=this._items[i],g=_.isHidden?0:this._sizers[i].size+u;this.updateItemPosition(i,l,l?s+h:s,l?r:r+h,c,a,g);var y=this.widgetOffset+(this._handles[i].classList.contains("lm-mod-hidden")?0:this._spacing);l?s+=g+y:r+=g+y}}},e}(Pe);(function(t){function e(t){return Oe.stretchProperty.get(t)}function n(t,e){Oe.stretchProperty.set(t,e)}t.getStretch=e,t.setStretch=n})(De||(De={})),function(t){function e(t){var e=new ke;return e.sizeHint=Math.floor(t),e}function n(t){var e=t.createHandle();return e.style.position="absolute",e}function i(t){return t.reduce((function(t,e){return t+e.size}),0)/t.length||0}function o(t){var e=t.length;if(0===e)return[];var n=t.reduce((function(t,e){return t+Math.abs(e)}),0);return 0===n?t.map((function(t){return 1/e})):t.map((function(t){return t/n}))}function r(t){t.parent&&t.parent.layout instanceof De&&t.parent.fit()}t.stretchProperty=new St({name:"stretch",create:function(){return 0},coerce:function(t,e){return Math.max(0,Math.floor(e))},changed:r}),t.createSizer=e,t.createHandle=n,t.averageSize=i,t.normalize=o}(Oe||(Oe={}));var Be,Re=function(t){function e(e){var n=t.call(this,xe(xe({},e),{orientation:e.orientation||"vertical"}))||this;return n._titles=[],n.titleSpace=e.titleSpace||22,n}return be(e,t),Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(t){t=Te.clampDimension(t),this.widgetOffset!==t&&(this.widgetOffset=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,t.prototype.dispose.call(this))},e.prototype.attachWidget=function(e,n){var i=Be.createTitle(this.renderer,n.title);i.style.position="absolute",i.setAttribute("aria-label",n.title.label+" Section"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-controls",n.id),i.classList.add("lm-mod-expanded"),I.insert(this._titles,e,i),this.parent.node.appendChild(i),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",i.id),t.prototype.attachWidget.call(this,e,n)},e.prototype.moveWidget=function(e,n,i){I.move(this._titles,e,n),t.prototype.moveWidget.call(this,e,n,i)},e.prototype.detachWidget=function(e,n){var i=I.removeAt(this._titles,e);this.parent.node.removeChild(i),t.prototype.detachWidget.call(this,e,n)},e.prototype.updateItemPosition=function(e,n,i,o,r,s,a){var c=this._titles[e].style;c.top=o+"px",c.left=i+"px",c.height=this.widgetOffset+"px",c.width=n?r+"px":s+"px",t.prototype.updateItemPosition.call(this,e,n,i,o,r,s,a)},e}(De);(function(t){function e(t,e){return t.createSectionTitle(e)}t.createTitle=e})(Be||(Be={}));var je,Ne=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n.addClass("lm-Panel"),n.addClass("p-Panel"),n.layout=je.createLayout(e),n}return be(e,t),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(t){this.layout.addWidget(t)},e.prototype.insertWidget=function(t,e){this.layout.insertWidget(t,e)},e}(Ee);(function(t){function e(t){return t.layout||new Pe}t.createLayout=e})(je||(je={}));var We,He=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{layout:We.createLayout(e)})||this;return n._pressData=null,n.addClass("lm-SplitPanel"),n.addClass("p-SplitPanel"),n}return be(e,t),e.prototype.dispose=function(){this._releaseMouse(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(t){this.layout.orientation=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(t){this.layout.alignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),e.prototype.relativeSizes=function(){return this.layout.relativeSizes()},e.prototype.setRelativeSizes=function(t){this.layout.setRelativeSizes(t)},e.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation();break}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("mousedown",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this._releaseMouse()},e.prototype.onChildAdded=function(t){t.child.addClass("lm-SplitPanel-child"),t.child.addClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype.onChildRemoved=function(t){t.child.removeClass("lm-SplitPanel-child"),t.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},e.prototype._evtKeyDown=function(t){this._pressData&&(t.preventDefault(),t.stopPropagation()),27===t.keyCode&&this._releaseMouse()},e.prototype._evtMouseDown=function(t){if(0===t.button){var e=this.layout,n=I.findFirstIndex(e.handles,(function(e){return e.contains(t.target)}));if(-1!==n){var i;t.preventDefault(),t.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var o=e.handles[n],r=o.getBoundingClientRect();i="horizontal"===e.orientation?t.clientX-r.left:t.clientY-r.top;var s=window.getComputedStyle(o),a=$t.overrideCursor(s.cursor);this._pressData={index:n,delta:i,override:a}}}},e.prototype._evtMouseMove=function(t){var e;t.preventDefault(),t.stopPropagation();var n=this.layout,i=this.node.getBoundingClientRect();e="horizontal"===n.orientation?t.clientX-i.left-this._pressData.delta:t.clientY-i.top-this._pressData.delta,n.moveHandle(this._pressData.index,e)},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0))},e}(Ne);(function(t){var e=function(){function t(){}return t.prototype.createHandle=function(){var t=document.createElement("div");return t.className="lm-SplitPanel-handle",t.classList.add("p-SplitPanel-handle"),t},t}();function n(t){return De.getStretch(t)}function i(t,e){De.setStretch(t,e)}t.Renderer=e,t.defaultRenderer=new e,t.getStretch=n,t.setStretch=i})(He||(He={})),function(t){function e(t){return t.layout||new De({renderer:t.renderer||He.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing})}t.createLayout=e}(We||(We={}));var Fe,qe=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,xe(xe({},e),{layout:Fe.createLayout(e)}))||this;return n.addClass("lm-AccordionPanel"),n}return be(e,t),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(t){this.layout.titleSpace=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(e){switch(t.prototype.handleEvent.call(this,e),e.type){case"click":this._evtClick(e);break;case"keydown":this._eventKeyDown(e);break}},e.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),t.prototype.onBeforeAttach.call(this,e)},e.prototype.onAfterDetach=function(e){t.prototype.onAfterDetach.call(this,e),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},e.prototype._evtClick=function(t){var e=t.target;if(e){var n=I.findFirstIndex(this.titles,(function(t){return t.contains(e)}));if(n>=0){t.preventDefault(),t.stopPropagation();var i=this.titles[n],o=this.layout.widgets[n];o.isHidden?(i.classList.add("lm-mod-expanded"),i.setAttribute("aria-expanded","true"),o.show()):(i.classList.remove("lm-mod-expanded"),i.setAttribute("aria-expanded","false"),o.hide())}}},e.prototype._eventKeyDown=function(t){if(!t.defaultPrevented){var e=t.target,n=!1;if(e){var i=I.findFirstIndex(this.titles,(function(t){return t.contains(e)}));if(i>=0){var o=t.keyCode.toString();if(t.key.match(/Space|Enter/)||o.match(/13|32/))e.click(),n=!0;else if("horizontal"===this.orientation?t.key.match(/ArrowLeft|ArrowRight/)||o.match(/37|39/):t.key.match(/ArrowUp|ArrowDown/)||o.match(/38|40/)){var r=t.key.match(/ArrowLeft|ArrowUp/)||o.match(/37|38/)?-1:1,s=this.titles.length,a=(i+s+r)%s;this.titles[a].focus(),n=!0}else"End"===t.key||"35"===o?(this.titles[this.titles.length-1].focus(),n=!0):"Home"!==t.key&&"36"!==o||(this.titles[0].focus(),n=!0)}n&&t.preventDefault()}}},e}(He);(function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleClassName="lm-AccordionPanel-title",e._titleID=0,e._titleKeys=new WeakMap,e}return be(e,t),e.prototype.createCollapseIcon=function(t){return document.createElement("span")},e.prototype.createSectionTitle=function(t){var e=document.createElement("h3");for(var n in e.setAttribute("role","button"),e.setAttribute("tabindex","0"),e.id=this.createTitleKey(t),e.className=this.titleClassName,e.title=t.caption,t.dataset)e.dataset[n]=t.dataset[n];var i=e.appendChild(this.createCollapseIcon(t));i.className="lm-AccordionPanel-titleCollapser";var o=e.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=t.label,e},e.prototype.createTitleKey=function(t){var e=this._titleKeys.get(t);return void 0===e&&(e="title-key-"+this._titleID++,this._titleKeys.set(t,e)),e},e}(He.Renderer);t.Renderer=e,t.defaultRenderer=new e})(qe||(qe={})),function(t){function e(t){return t.layout||new Re({renderer:t.renderer||qe.defaultRenderer,orientation:t.orientation,alignment:t.alignment,spacing:t.spacing,titleSpace:t.titleSpace})}t.createLayout=e}(Fe||(Fe={}));var Ve,Ke=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._sizers=[],n._items=[],n._box=null,n._alignment="start",n._direction="top-to-bottom",void 0!==e.direction&&(n._direction=e.direction),void 0!==e.alignment&&(n._alignment=e.alignment),void 0!==e.spacing&&(n._spacing=Te.clampDimension(e.spacing)),n}return be(e,t),e.prototype.dispose=function(){L(this._items,(function(t){t.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction!==t&&(this._direction=t,this.parent&&(this.parent.dataset["direction"]=t,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},set:function(t){this._alignment!==t&&(this._alignment=t,this.parent&&(this.parent.dataset["alignment"]=t,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=Te.clampDimension(t),this._spacing!==t&&(this._spacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.parent.dataset["direction"]=this.direction,this.parent.dataset["alignment"]=this.alignment,t.prototype.init.call(this)},e.prototype.attachWidget=function(t,e){I.insert(this._items,t,new Le(e)),I.insert(this._sizers,t,new ke),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(t,e,n){I.move(this._items,t,e),I.move(this._sizers,t,e),this.parent.update()},e.prototype.detachWidget=function(t,e){var n=I.removeAt(this._items,t);I.removeAt(this._sizers,t),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterDetach),n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var t=0,n=0,i=this._items.length;n<i;++n)t+=+!this._items[n].isHidden;this._fixed=this._spacing*Math.max(0,t-1);var o=Ve.isHorizontal(this._direction),r=o?this._fixed:0,s=o?0:this._fixed;for(n=0,i=this._items.length;n<i;++n){var a=this._items[n],c=this._sizers[n];a.isHidden?(c.minSize=0,c.maxSize=0):(a.fit(),c.sizeHint=e.getSizeBasis(a.widget),c.stretch=e.getStretch(a.widget),o?(c.minSize=a.minWidth,c.maxSize=a.maxWidth,r+=a.minWidth,s=Math.max(s,a.minHeight)):(c.minSize=a.minHeight,c.maxSize=a.maxHeight,s+=a.minHeight,r=Math.max(r,a.minWidth)))}var u=this._box=G.boxSizing(this.parent.node);r+=u.horizontalSum,s+=u.verticalSum;var h=this.parent.node.style;h.minWidth=r+"px",h.minHeight=s+"px",this._dirty=!0,this.parent.parent&&Mt.sendMessage(this.parent.parent,Ee.Msg.FitRequest),this._dirty&&Mt.sendMessage(this.parent,Ee.Msg.UpdateRequest)},e.prototype._update=function(t,e){this._dirty=!1;for(var n=0,i=0,o=this._items.length;i<o;++i)n+=+!this._items[i].isHidden;if(0!==n){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=G.boxSizing(this.parent.node));var r,s=this._box.paddingTop,a=this._box.paddingLeft,c=t-this._box.horizontalSum,u=e-this._box.verticalSum;switch(this._direction){case"left-to-right":r=Me.calc(this._sizers,Math.max(0,c-this._fixed));break;case"top-to-bottom":r=Me.calc(this._sizers,Math.max(0,u-this._fixed));break;case"right-to-left":r=Me.calc(this._sizers,Math.max(0,c-this._fixed)),a+=c;break;case"bottom-to-top":r=Me.calc(this._sizers,Math.max(0,u-this._fixed)),s+=u;break;default:throw"unreachable"}var h=0,l=0;if(r>0)switch(this._alignment){case"start":break;case"center":h=0,l=r/2;break;case"end":h=0,l=r;break;case"justify":h=r/n,l=0;break;default:throw"unreachable"}for(i=0,o=this._items.length;i<o;++i){var d=this._items[i];if(!d.isHidden){var p=this._sizers[i].size;switch(this._direction){case"left-to-right":d.update(a+l,s,p+h,u),a+=p+h+this._spacing;break;case"top-to-bottom":d.update(a,s+l,c,p+h),s+=p+h+this._spacing;break;case"right-to-left":d.update(a-l-p-h,s,p+h,u),a-=p+h+this._spacing;break;case"bottom-to-top":d.update(a,s-l-p-h,c,p+h),s-=p+h+this._spacing;break;default:throw"unreachable"}}}}},e}(Pe);(function(t){function e(t){return Ve.stretchProperty.get(t)}function n(t,e){Ve.stretchProperty.set(t,e)}function i(t){return Ve.sizeBasisProperty.get(t)}function o(t,e){Ve.sizeBasisProperty.set(t,e)}t.getStretch=e,t.setStretch=n,t.getSizeBasis=i,t.setSizeBasis=o})(Ke||(Ke={})),function(t){function e(t){return"left-to-right"===t||"right-to-left"===t}function n(t){return Math.max(0,Math.floor(t))}function i(t){t.parent&&t.parent.layout instanceof Ke&&t.parent.fit()}t.stretchProperty=new St({name:"stretch",create:function(){return 0},coerce:function(t,e){return Math.max(0,Math.floor(e))},changed:i}),t.sizeBasisProperty=new St({name:"sizeBasis",create:function(){return 0},coerce:function(t,e){return Math.max(0,Math.floor(e))},changed:i}),t.isHorizontal=e,t.clampSpacing=n}(Ve||(Ve={}));var Ue,Ye=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{layout:Ue.createLayout(e)})||this;return n.addClass("lm-BoxPanel"),n.addClass("p-BoxPanel"),n}return be(e,t),Object.defineProperty(e.prototype,"direction",{get:function(){return this.layout.direction},set:function(t){this.layout.direction=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(t){this.layout.alignment=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(t){t.child.addClass("lm-BoxPanel-child"),t.child.addClass("p-BoxPanel-child")},e.prototype.onChildRemoved=function(t){t.child.removeClass("lm-BoxPanel-child"),t.child.removeClass("p-BoxPanel-child")},e}(Ne);(function(t){function e(t){return Ke.getStretch(t)}function n(t,e){Ke.setStretch(t,e)}function i(t){return Ke.getSizeBasis(t)}function o(t,e){Ke.setSizeBasis(t,e)}t.getStretch=e,t.setStretch=n,t.getSizeBasis=i,t.setSizeBasis=o})(Ye||(Ye={})),function(t){function e(t){return t.layout||new Ke(t)}t.createLayout=e}(Ue||(Ue={}));var Xe,Ge=function(t){function e(n){var i=t.call(this,{node:Xe.createNode()})||this;return i._activeIndex=-1,i._items=[],i._results=null,i.addClass("lm-CommandPalette"),i.addClass("p-CommandPalette"),i.setFlag(Ee.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||e.defaultRenderer,i.commands.commandChanged.connect(i._onGenericChange,i),i.commands.keyBindingChanged.connect(i._onGenericChange,i),i}return be(e,t),e.prototype.dispose=function(){this._items.length=0,this._results=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.addItem=function(t){var e=Xe.createItem(this.commands,t);return this._items.push(e),this.refresh(),e},e.prototype.addItems=function(t){var e=this,n=t.map((function(t){return Xe.createItem(e.commands,t)}));return n.forEach((function(t){return e._items.push(t)})),this.refresh(),n},e.prototype.removeItem=function(t){this.removeItemAt(this._items.indexOf(t))},e.prototype.removeItemAt=function(t){var e=I.removeAt(this._items,t);e&&this.refresh()},e.prototype.clearItems=function(){0!==this._items.length&&(this._items.length=0,this.refresh())},e.prototype.refresh=function(){if(this._results=null,""!==this.inputNode.value){var t=this.node.getElementsByClassName("lm-close-icon")[0];t.style.display="inherit"}else{t=this.node.getElementsByClassName("lm-close-icon")[0];t.style.display="none"}this.update()},e.prototype.handleEvent=function(t){switch(t.type){case"click":this._evtClick(t);break;case"keydown":this._evtKeyDown(t);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},e.prototype.onActivateRequest=function(t){if(this.isAttached){var e=this.inputNode;e.focus(),e.select()}},e.prototype.onUpdateRequest=function(t){var e=this.inputNode.value,n=this.contentNode,i=this._results;if(i||(i=this._results=Xe.search(this._items,e),this._activeIndex=e?I.findFirstIndex(i,Xe.canActivate):-1),e||0!==i.length)if(e&&0===i.length){var o=this.renderer.renderEmptyMessage({query:e});fe.render(o,n)}else{for(var r=this.renderer,s=this._activeIndex,a=new Array(i.length),c=0,u=i.length;c<u;++c){var h=i[c];if("header"===h.type){var l=h.indices,d=h.category;a[c]=r.renderHeader({category:d,indices:l})}else{var p=h.item,f=(l=h.indices,c===s);a[c]=r.renderItem({item:p,indices:l,active:f})}}if(fe.render(a,n),s<0||s>=i.length)n.scrollTop=0;else{var m=n.children[s];G.scrollIntoViewIfNeeded(n,m)}}else fe.render(null,n)},e.prototype._evtClick=function(t){if(0===t.button){if(t.target.classList.contains("lm-close-icon"))return this.inputNode.value="",void this.refresh();var e=I.findFirstIndex(this.contentNode.children,(function(e){return e.contains(t.target)}));-1!==e&&(t.preventDefault(),t.stopPropagation(),this._execute(e))}},e.prototype._evtKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey))switch(t.keyCode){case 13:t.preventDefault(),t.stopPropagation(),this._execute(this._activeIndex);break;case 38:t.preventDefault(),t.stopPropagation(),this._activatePreviousItem();break;case 40:t.preventDefault(),t.stopPropagation(),this._activateNextItem();break}},e.prototype._activateNextItem=function(){if(this._results&&0!==this._results.length){var t=this._activeIndex,e=this._results.length,n=t<e-1?t+1:0,i=0===n?e-1:n-1;this._activeIndex=I.findFirstIndex(this._results,Xe.canActivate,n,i),this.update()}},e.prototype._activatePreviousItem=function(){if(this._results&&0!==this._results.length){var t=this._activeIndex,e=this._results.length,n=t<=0?e-1:t-1,i=n===e-1?0:n+1;this._activeIndex=I.findLastIndex(this._results,Xe.canActivate,n,i),this.update()}},e.prototype._execute=function(t){if(this._results){var e=this._results[t];if(e){if("header"===e.type){var n=this.inputNode;return n.value=e.category.toLowerCase()+" ",n.focus(),void this.refresh()}e.item.isEnabled&&(this.commands.execute(e.item.command,e.item.args),this.inputNode.value="",this.refresh())}}},e.prototype._toggleFocused=function(){var t=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",t),this.toggleClass("p-mod-focused",t)},e.prototype._onGenericChange=function(){this.refresh()},e}(Ee);(function(t){var e=function(){function t(){}return t.prototype.renderHeader=function(t){var e=this.formatHeader(t);return ge.li({className:"lm-CommandPalette-header p-CommandPalette-header"},e)},t.prototype.renderItem=function(t){var e=this.createItemClass(t),n=this.createItemDataset(t);return t.item.isToggleable?ge.li({className:e,dataset:n,role:"checkbox","aria-checked":""+t.item.isToggled},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t)):ge.li({className:e,dataset:n},this.renderItemIcon(t),this.renderItemContent(t),this.renderItemShortcut(t))},t.prototype.renderEmptyMessage=function(t){var e=this.formatEmptyMessage(t);return ge.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},e)},t.prototype.renderItemIcon=function(t){var e=this.createIconClass(t);return"string"===typeof t.item.icon?ge.div({className:e},t.item.iconLabel):ge.div({className:e},t.item.icon,t.item.iconLabel)},t.prototype.renderItemContent=function(t){return ge.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(t),this.renderItemCaption(t))},t.prototype.renderItemLabel=function(t){var e=this.formatItemLabel(t);return ge.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},e)},t.prototype.renderItemCaption=function(t){var e=this.formatItemCaption(t);return ge.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},e)},t.prototype.renderItemShortcut=function(t){var e=this.formatItemShortcut(t);return ge.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},e)},t.prototype.createItemClass=function(t){var e="lm-CommandPalette-item";e+=" p-CommandPalette-item",t.item.isEnabled||(e+=" lm-mod-disabled",e+=" p-mod-disabled"),t.item.isToggled&&(e+=" lm-mod-toggled",e+=" p-mod-toggled"),t.active&&(e+=" lm-mod-active",e+=" p-mod-active");var n=t.item.className;return n&&(e+=" "+n),e},t.prototype.createItemDataset=function(t){return xe(xe({},t.item.dataset),{command:t.item.command})},t.prototype.createIconClass=function(t){var e="lm-CommandPalette-itemIcon";e+=" p-CommandPalette-itemIcon";var n=t.item.iconClass;return n?e+" "+n:e},t.prototype.formatHeader=function(t){return t.indices&&0!==t.indices.length?Y.highlight(t.category,t.indices,ge.mark):t.category},t.prototype.formatEmptyMessage=function(t){return"No commands found that match '"+t.query+"'"},t.prototype.formatItemShortcut=function(t){var e=t.item.keyBinding;return e?e.keys.map(ue.formatKeystroke).join(", "):null},t.prototype.formatItemLabel=function(t){return t.indices&&0!==t.indices.length?Y.highlight(t.item.label,t.indices,ge.mark):t.item.label},t.prototype.formatItemCaption=function(t){return t.item.caption},t}();t.Renderer=e,t.defaultRenderer=new e})(Ge||(Ge={})),function(t){function e(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("input"),o=document.createElement("ul"),r=document.createElement("button");return e.className="lm-CommandPalette-search",n.className="lm-CommandPalette-wrapper",i.className="lm-CommandPalette-input",r.className="lm-close-icon",o.className="lm-CommandPalette-content",e.classList.add("p-CommandPalette-search"),n.classList.add("p-CommandPalette-wrapper"),i.classList.add("p-CommandPalette-input"),o.classList.add("p-CommandPalette-content"),i.spellcheck=!1,n.appendChild(i),n.appendChild(r),e.appendChild(n),t.appendChild(e),t.appendChild(o),t}function n(t,e){return new l(t,e)}function i(t,e){var n=a(t,e);return n.sort(u),h(n)}function o(t){return"item"===t.type&&t.item.isEnabled}function r(t){return t.trim().replace(/\s+/g," ")}function s(t){return t.replace(/\s+/g,"").toLowerCase()}function a(t,e){e=s(e);for(var n=[],i=0,o=t.length;i<o;++i){var r=t[i];if(r.isVisible)if(e){var a=c(r,e);a&&(r.isEnabled||(a.score+=1e3),n.push(a))}else n.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:r})}return n}function c(t,e){var n=t.category.toLowerCase(),i=t.label.toLowerCase(),o=n+" "+i,r=1/0,s=null,a=/\b\w/g;while(1){var c=a.exec(o);if(!c)break;var u=Y.matchSumOfDeltas(o,e,c.index);if(!u)break;u&&u.score<=r&&(r=u.score,s=u.indices)}if(!s||r===1/0)return null;for(var h=n.length+1,l=I.lowerBound(s,h,(function(t,e){return t-e})),d=s.slice(0,l),p=s.slice(l),f=0,m=p.length;f<m;++f)p[f]-=h;return 0===d.length?{matchType:0,categoryIndices:null,labelIndices:p,score:r,item:t}:0===p.length?{matchType:1,categoryIndices:d,labelIndices:null,score:r,item:t}:{matchType:2,categoryIndices:d,labelIndices:p,score:r,item:t}}function u(t,e){var n=t.matchType-e.matchType;if(0!==n)return n;var i=t.score-e.score;if(0!==i)return i;var o=0,r=0;switch(t.matchType){case 0:o=t.labelIndices[0],r=e.labelIndices[0];break;case 1:case 2:o=t.categoryIndices[0],r=e.categoryIndices[0];break}if(o!==r)return o-r;var s=t.item.category.localeCompare(e.item.category);if(0!==s)return s;var a=t.item.rank,c=e.item.rank;return a!==c?a<c?-1:1:t.item.label.localeCompare(e.item.label)}function h(t){var e=new Array(t.length);I.fill(e,!1);for(var n=[],i=0,o=t.length;i<o;++i)if(!e[i]){var r=t[i],s=r.item,a=r.categoryIndices,c=s.category;n.push({type:"header",category:c,indices:a});for(var u=i;u<o;++u)if(!e[u]){var h=t[u],l=h.item,d=h.labelIndices;l.category===c&&(n.push({type:"item",item:l,indices:d}),e[u]=!0)}}return n}t.createNode=e,t.createItem=n,t.search=i,t.canActivate=o;var l=function(){function t(t,e){this._commands=t,this.category=r(e.category),this.command=e.command,this.args=e.args||Gt.emptyObject,this.rank=void 0!==e.rank?e.rank:1/0}return Object.defineProperty(t.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBinding",{get:function(){var t=this,e=t.command,n=t.args;return I.findLastValue(this._commands.keyBindings,(function(t){return t.command===e&&Gt.deepEqual(t.args,n)}))||null},enumerable:!0,configurable:!0}),t}()}(Xe||(Xe={}));var $e,Ze=function(t){function e(n){var i=t.call(this,{node:$e.createNode()})||this;return i._childIndex=-1,i._activeIndex=-1,i._openTimerID=0,i._closeTimerID=0,i._items=[],i._childMenu=null,i._parentMenu=null,i._aboutToClose=new Rt(i),i._menuRequested=new Rt(i),i.addClass("lm-Menu"),i.addClass("p-Menu"),i.setFlag(Ee.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||e.defaultRenderer,i}return be(e,t),e.prototype.dispose=function(){this.close(),this._items.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootMenu",{get:function(){var t=this;while(t._parentMenu)t=t._parentMenu;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leafMenu",{get:function(){var t=this;while(t._childMenu)t=t._childMenu;return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(t){this.activeIndex=t?this._items.indexOf(t):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){(t<0||t>=this._items.length)&&(t=-1),-1===t||$e.canActivate(this._items[t])||(t=-1),this._activeIndex!==t&&(this._activeIndex=t,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),e.prototype.activateNextItem=function(){var t=this._items.length,e=this._activeIndex,n=e<t-1?e+1:0,i=0===n?t-1:n-1;this.activeIndex=I.findFirstIndex(this._items,$e.canActivate,n,i)},e.prototype.activatePreviousItem=function(){var t=this._items.length,e=this._activeIndex,n=e<=0?t-1:e-1,i=n===t-1?0:n+1;this.activeIndex=I.findLastIndex(this._items,$e.canActivate,n,i)},e.prototype.triggerActiveItem=function(){if(this.isAttached){var t=this.activeItem;if(t)if(this._cancelOpenTimer(),this._cancelCloseTimer(),"submenu"!==t.type){this.rootMenu.close();var e=t.command,n=t.args;this.commands.isEnabled(e,n)?this.commands.execute(e,n):console.log("Command '"+e+"' is disabled.")}else this._openChildMenu(!0)}},e.prototype.addItem=function(t){return this.insertItem(this._items.length,t)},e.prototype.insertItem=function(t,e){this.isAttached&&this.close(),this.activeIndex=-1;var n=Math.max(0,Math.min(t,this._items.length)),i=$e.createItem(this,e);return I.insert(this._items,n,i),this.update(),i},e.prototype.removeItem=function(t){this.removeItemAt(this._items.indexOf(t))},e.prototype.removeItemAt=function(t){this.isAttached&&this.close(),this.activeIndex=-1;var e=I.removeAt(this._items,t);e&&this.update()},e.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,0!==this._items.length&&(this._items.length=0,this.update())},e.prototype.open=function(t,e,n){if(void 0===n&&(n={}),!this.isAttached){var i=n.forceX||!1,o=n.forceY||!1;$e.openRootMenu(this,t,e,i,o),this.activate()}},e.prototype.handleEvent=function(t){switch(t.type){case"keydown":this._evtKeyDown(t);break;case"mouseup":this._evtMouseUp(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseenter":this._evtMouseEnter(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"mousedown":this._evtMouseDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation();break}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},e.prototype.onActivateRequest=function(t){this.isAttached&&this.node.focus()},e.prototype.onUpdateRequest=function(t){for(var e=this,n=this._items,i=this.renderer,o=this._activeIndex,r=$e.computeCollapsed(n),s=new Array(n.length),a=function(t,a){var c=n[t],u=t===o,h=r[t];s[t]=i.renderItem({item:c,active:u,collapsed:h,onfocus:function(){e.activeIndex=t}})},c=0,u=n.length;c<u;++c)a(c);fe.render(s,this.contentNode)},e.prototype.onCloseRequest=function(e){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());var i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),t.prototype.onCloseRequest.call(this,e)},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation();var e=t.keyCode;if(13!==e)if(27!==e)if(37!==e)if(38!==e)if(39!==e)if(40!==e){var n=ie().keyForKeydownEvent(t);if(n){var i=this._activeIndex+1,o=$e.findMnemonic(this._items,n,i);-1===o.index||o.multiple?-1!==o.index?this.activeIndex=o.index:-1!==o.auto&&(this.activeIndex=o.auto):(this.activeIndex=o.index,this.triggerActiveItem())}}else this.activateNextItem();else{var r=this.activeItem;r&&"submenu"===r.type?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next")}else this.activatePreviousItem();else this._parentMenu?this.close():this._menuRequested.emit("previous");else this.close();else this.triggerActiveItem()},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this.triggerActiveItem())},e.prototype._evtMouseMove=function(t){var e=I.findFirstIndex(this.contentNode.children,(function(e){return G.hitTest(e,t.clientX,t.clientY)}));if(e!==this._activeIndex){if(this.activeIndex=e,e=this.activeIndex,e===this._childIndex)return this._cancelOpenTimer(),void this._cancelCloseTimer();-1!==this._childIndex&&this._startCloseTimer(),this._cancelOpenTimer();var n=this.activeItem;n&&"submenu"===n.type&&n.submenu&&this._startOpenTimer()}},e.prototype._evtMouseEnter=function(t){for(var e=this._parentMenu;e;e=e._parentMenu)e._cancelOpenTimer(),e._cancelCloseTimer(),e.activeIndex=e._childIndex},e.prototype._evtMouseLeave=function(t){if(this._cancelOpenTimer(),this._childMenu){var e=t.clientX,n=t.clientY;G.hitTest(this._childMenu.node,e,n)?this._cancelCloseTimer():(this.activeIndex=-1,this._startCloseTimer())}else this.activeIndex=-1},e.prototype._evtMouseDown=function(t){this._parentMenu||($e.hitTestMenus(this,t.clientX,t.clientY)?(t.preventDefault(),t.stopPropagation()):this.close())},e.prototype._openChildMenu=function(t){void 0===t&&(t=!1);var e=this.activeItem;if(e&&"submenu"===e.type&&e.submenu){var n=e.submenu;if(n!==this._childMenu){this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,Mt.sendMessage(this,Ee.Msg.UpdateRequest);var i=this.contentNode.children[this._activeIndex];$e.openSubmenu(n,i),t&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}}else this._closeChildMenu()},e.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},e.prototype._startOpenTimer=function(){var t=this;0===this._openTimerID&&(this._openTimerID=window.setTimeout((function(){t._openTimerID=0,t._openChildMenu()}),$e.TIMER_DELAY))},e.prototype._startCloseTimer=function(){var t=this;0===this._closeTimerID&&(this._closeTimerID=window.setTimeout((function(){t._closeTimerID=0,t._closeChildMenu()}),$e.TIMER_DELAY))},e.prototype._cancelOpenTimer=function(){0!==this._openTimerID&&(clearTimeout(this._openTimerID),this._openTimerID=0)},e.prototype._cancelCloseTimer=function(){0!==this._closeTimerID&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},e}(Ee);(function(t){var e=function(){function t(){}return t.prototype.renderItem=function(t){var e=this.createItemClass(t),n=this.createItemDataset(t),i=this.createItemARIA(t);return ge.li(xe({className:e,dataset:n,tabindex:"0",onfocus:t.onfocus},i),this.renderIcon(t),this.renderLabel(t),this.renderShortcut(t),this.renderSubmenu(t))},t.prototype.renderIcon=function(t){var e=this.createIconClass(t);return"string"===typeof t.item.icon?ge.div({className:e},t.item.iconLabel):ge.div({className:e},t.item.icon,t.item.iconLabel)},t.prototype.renderLabel=function(t){var e=this.formatLabel(t);return ge.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},e)},t.prototype.renderShortcut=function(t){var e=this.formatShortcut(t);return ge.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},e)},t.prototype.renderSubmenu=function(t){return ge.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},t.prototype.createItemClass=function(t){var e="lm-Menu-item";e+=" p-Menu-item",t.item.isEnabled||(e+=" lm-mod-disabled",e+=" p-mod-disabled"),t.item.isToggled&&(e+=" lm-mod-toggled",e+=" p-mod-toggled"),t.item.isVisible||(e+=" lm-mod-hidden",e+=" p-mod-hidden"),t.active&&(e+=" lm-mod-active",e+=" p-mod-active"),t.collapsed&&(e+=" lm-mod-collapsed",e+=" p-mod-collapsed");var n=t.item.className;return n&&(e+=" "+n),e},t.prototype.createItemDataset=function(t){var e,n=t.item,i=n.type,o=n.command,r=n.dataset;return e=xe(xe({},r),"command"===i?{type:i,command:o}:{type:i}),e},t.prototype.createIconClass=function(t){var e="lm-Menu-itemIcon";e+=" p-Menu-itemIcon";var n=t.item.iconClass;return n?e+" "+n:e},t.prototype.createItemARIA=function(t){var e={};switch(t.item.type){case"separator":e.role="presentation";break;case"submenu":e["aria-haspopup"]="true",t.item.isEnabled||(e["aria-disabled"]="true");break;default:t.item.isEnabled||(e["aria-disabled"]="true"),e.role="menuitem"}return e},t.prototype.formatLabel=function(t){var e=t.item,n=e.label,i=e.mnemonic;if(i<0||i>=n.length)return n;var o=n.slice(0,i),r=n.slice(i+1),s=n[i],a=ge.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},s);return[o,a,r]},t.prototype.formatShortcut=function(t){var e=t.item.keyBinding;return e?e.keys.map(ue.formatKeystroke).join(", "):null},t}();t.Renderer=e,t.defaultRenderer=new e})(Ze||(Ze={})),function(t){function e(){var t=document.createElement("div"),e=document.createElement("ul");return e.className="lm-Menu-content",e.classList.add("p-Menu-content"),t.appendChild(e),e.setAttribute("role","menu"),t.tabIndex=0,t}function n(t){return"separator"!==t.type&&t.isEnabled&&t.isVisible}function i(t,e){return new u(t.commands,e)}function o(t,e,n){for(var i=t;i;i=i.childMenu)if(G.hitTest(i.node,e,n))return!0;return!1}function r(t){var e=new Array(t.length);I.fill(e,!1);for(var n=0,i=t.length;n<i;++n){var o=t[n];if(o.isVisible){if("separator"!==o.type)break;e[n]=!0}}for(var r=i-1;r>=0;--r){o=t[r];if(o.isVisible){if("separator"!==o.type)break;e[r]=!0}}var s=!1;while(++n<r){o=t[n];o.isVisible&&("separator"!==o.type?s=!1:s?e[n]=!0:s=!0)}return e}function s(t,e,n,i,o){Mt.sendMessage(t,Ee.Msg.UpdateRequest);var r=window.pageXOffset,s=window.pageYOffset,a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=c-(o?n:0),h=t.node,l=h.style;l.top="",l.left="",l.width="",l.height="",l.visibility="hidden",l.maxHeight=u+"px",Ee.attach(t,document.body);var d=h.getBoundingClientRect(),p=d.width,f=d.height;!i&&e+p>r+a&&(e=r+a-p),!o&&n+f>s+c&&(n>s+c?n=s+c-f:n-=f),l.top=Math.max(0,n)+"px",l.left=Math.max(0,e)+"px",l.visibility=""}function a(e,n){Mt.sendMessage(e,Ee.Msg.UpdateRequest);var i=window.pageXOffset,o=window.pageYOffset,r=document.documentElement.clientWidth,s=document.documentElement.clientHeight,a=s,c=e.node,u=c.style;u.top="",u.left="",u.width="",u.height="",u.visibility="hidden",u.maxHeight=a+"px",Ee.attach(e,document.body);var h=c.getBoundingClientRect(),l=h.width,d=h.height,p=G.boxSizing(e.node),f=n.getBoundingClientRect(),m=f.right-t.SUBMENU_OVERLAP;m+l>i+r&&(m=f.left+t.SUBMENU_OVERLAP-l);var v=f.top-p.borderTop-p.paddingTop;v+d>o+s&&(v=f.bottom+p.borderBottom+p.paddingBottom-d),u.top=Math.max(0,v)+"px",u.left=Math.max(0,m)+"px",u.visibility=""}function c(t,e,i){for(var o=-1,r=-1,s=!1,a=e.toUpperCase(),c=0,u=t.length;c<u;++c){var h=(c+i)%u,l=t[h];if(n(l)){var d=l.label;if(0!==d.length){var p=l.mnemonic;p>=0&&p<d.length?d[p].toUpperCase()===a&&(-1===o?o=h:s=!0):-1===r&&d[0].toUpperCase()===a&&(r=h)}}}return{index:o,multiple:s,auto:r}}t.TIMER_DELAY=300,t.SUBMENU_OVERLAP=3,t.createNode=e,t.canActivate=n,t.createItem=i,t.hitTestMenus=o,t.computeCollapsed=r,t.openRootMenu=s,t.openSubmenu=a,t.findMnemonic=c;var u=function(){function t(t,e){this._commands=t,this.type=e.type||"command",this.command=e.command||"",this.args=e.args||Gt.emptyObject,this.submenu=e.submenu||null}return Object.defineProperty(t.prototype,"label",{get:function(){return"command"===this.type?this._commands.label(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mnemonic",{get:function(){return"command"===this.type?this._commands.mnemonic(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return"command"===this.type?this._commands.icon(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconClass",{get:function(){return"command"===this.type?this._commands.iconClass(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconLabel",{get:function(){return"command"===this.type?this._commands.iconLabel(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caption",{get:function(){return"command"===this.type?this._commands.caption(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"className",{get:function(){return"command"===this.type?this._commands.className(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataset",{get:function(){return"command"===this.type?this._commands.dataset(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return"command"===this.type?this._commands.isEnabled(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isToggled",{get:function(){return"command"===this.type&&this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return"command"===this.type?this._commands.isVisible(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyBinding",{get:function(){if("command"===this.type){var t=this,e=t.command,n=t.args;return I.findLastValue(this._commands.keyBindings,(function(t){return t.command===e&&Gt.deepEqual(t.args,n)}))||null}return null},enumerable:!0,configurable:!0}),t}()}($e||($e={}));var Je;(function(){function t(t){this._groupByTarget=!0,this._idTick=0,this._items=[],this._sortBySelector=!0;var e=t.groupByTarget,n=t.sortBySelector,i=we(t,["groupByTarget","sortBySelector"]);this.menu=new Ze(i),this._groupByTarget=!1!==e,this._sortBySelector=!1!==n}t.prototype.addItem=function(t){var e=this,n=Je.createItem(t,this._idTick++);return this._items.push(n),new Kt((function(){I.removeFirstOf(e._items,n)}))},t.prototype.open=function(t){var e=this;if(this.menu.clearItems(),0===this._items.length)return!1;var n=Je.matchItems(this._items,t,this._groupByTarget,this._sortBySelector);return!(!n||0===n.length)&&(L(n,(function(t){e.menu.addItem(t)})),this.menu.open(t.clientX,t.clientY),!0)}})();(function(t){function e(t,e){var n=i(t.selector),o=void 0!==t.rank?t.rank:1/0;return xe(xe({},t),{selector:n,rank:o,id:e})}function n(t,e,n,i){var s=e.target;if(!s)return null;var a=e.currentTarget;if(!a)return null;if(!a.contains(s)&&(s=document.elementFromPoint(e.clientX,e.clientY),!s||!a.contains(s)))return null;var c=[],u=t.slice();while(null!==s){for(var h=[],l=0,d=u.length;l<d;++l){var p=u[l];p&&(Z.matches(s,p.selector)&&(h.push(p),u[l]=null))}if(0!==h.length&&(n&&h.sort(i?r:o),c.push.apply(c,h)),s===a)break;s=s.parentElement}return n||c.sort(i?r:o),c}function i(t){if(-1!==t.indexOf(","))throw new Error("Selector cannot contain commas: "+t);if(!Z.isValid(t))throw new Error("Invalid selector: "+t);return t}function o(t,e){var n=t.rank,i=e.rank;return n!==i?n<i?-1:1:t.id-e.id}function r(t,e){var n=Z.calculateSpecificity(t.selector),i=Z.calculateSpecificity(e.selector);return n!==i?i-n:o(t,e)}t.createItem=e,t.matchItems=n})(Je||(Je={}));var Qe,tn=function(t){function e(n){void 0===n&&(n={});var i=t.call(this,{node:Qe.createNode()})||this;return i._currentIndex=-1,i._titles=[],i._titlesEditable=!1,i._previousTitle=null,i._dragData=null,i._addButtonEnabled=!1,i._tabMoved=new Rt(i),i._currentChanged=new Rt(i),i._addRequested=new Rt(i),i._tabCloseRequested=new Rt(i),i._tabDetachRequested=new Rt(i),i._tabActivateRequested=new Rt(i),i.addClass("lm-TabBar"),i.addClass("p-TabBar"),i.contentNode.setAttribute("role","tablist"),i.setFlag(Ee.Flag.DisallowLayout),i.tabsMovable=n.tabsMovable||!1,i.titlesEditable=n.titlesEditable||!1,i.allowDeselect=n.allowDeselect||!1,i.addButtonEnabled=n.addButtonEnabled||!1,i.insertBehavior=n.insertBehavior||"select-tab-if-needed",i.name=n.name||"",i.orientation=n.orientation||"horizontal",i.removeBehavior=n.removeBehavior||"select-tab-after",i.renderer=n.renderer||e.defaultRenderer,i}return be(e,t),e.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(t){this._titlesEditable=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(t){this.currentIndex=t?this._titles.indexOf(t):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(t){if((t<0||t>=this._titles.length)&&(t=-1),this._currentIndex!==t){var e=this._currentIndex,n=this._titles[e]||null,i=t,o=this._titles[i]||null;this._currentIndex=i,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:e,previousTitle:n,currentIndex:i,currentTitle:o})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t,t?this.contentNode.setAttribute("aria-label",t):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._releaseMouse(),this._orientation=t,this.dataset["orientation"]=t,this.contentNode.setAttribute("aria-orientation",t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(t){this._addButtonEnabled!==t&&(this._addButtonEnabled=t,t?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),e.prototype.addTab=function(t){return this.insertTab(this._titles.length,t)},e.prototype.insertTab=function(t,e){this._releaseMouse();var n=Qe.asTitle(e),i=this._titles.indexOf(n),o=Math.max(0,Math.min(t,this._titles.length));return-1===i?(I.insert(this._titles,o,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(o,n),n):(o===this._titles.length&&o--,i===o||(I.move(this._titles,i,o),this.update(),this._adjustCurrentForMove(i,o)),n)},e.prototype.removeTab=function(t){this.removeTabAt(this._titles.indexOf(t))},e.prototype.removeTabAt=function(t){this._releaseMouse();var e=I.removeAt(this._titles,t);e&&(e.changed.disconnect(this._onTitleChanged,this),e===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(t,e))},e.prototype.clearTabs=function(){if(0!==this._titles.length){this._releaseMouse();for(var t=0,e=this._titles;t<e.length;t++){var n=e[t];n.changed.disconnect(this._onTitleChanged,this)}var i=this.currentIndex,o=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),-1!==i&&this._currentChanged.emit({previousIndex:i,previousTitle:o,currentIndex:-1,currentTitle:null})}},e.prototype.releaseMouse=function(){this._releaseMouse()},e.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"pointerdown":this._evtMouseDown(t);break;case"pointermove":this._evtMouseMove(t);break;case"pointerup":this._evtMouseUp(t);break;case"dblclick":this._evtDblClick(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation();break}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(t){for(var e=this._titles,n=this.renderer,i=this.currentTitle,o=new Array(e.length),r=0,s=e.length;r<s;++r){var a=e[r],c=a===i,u=c?s:s-r-1;o[r]=n.renderTab({title:a,current:c,zIndex:u})}fe.render(o,this.contentNode)},e.prototype._evtDblClick=function(t){if(this.titlesEditable){var e=this.contentNode.children,n=I.findFirstIndex(e,(function(e){return G.hitTest(e,t.clientX,t.clientY)}));if(-1!==n){var i=this.titles[n],o=e[n].querySelector(".lm-TabBar-tabLabel");if(o&&o.contains(t.target)){var r=i.label||"",s=o.innerHTML;o.innerHTML="";var a=document.createElement("input");a.classList.add("lm-TabBar-tabInput"),a.value=r,o.appendChild(a);var c=function(){a.removeEventListener("blur",c),o.innerHTML=s};a.addEventListener("dblclick",(function(t){return t.stopPropagation()})),a.addEventListener("blur",c),a.addEventListener("keydown",(function(t){"Enter"===t.key?(""!==a.value&&(i.label=i.caption=a.value),c()):"Escape"===t.key&&c()})),a.select(),a.focus(),o.children.length>0&&o.children[0].focus()}}}},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation(),27===t.keyCode&&this._releaseMouse()},e.prototype._evtMouseDown=function(t){if((0===t.button||1===t.button)&&!this._dragData){var e=this.addButtonEnabled&&this.addButtonNode.contains(t.target),n=this.contentNode.children,i=I.findFirstIndex(n,(function(e){return G.hitTest(e,t.clientX,t.clientY)}));if((-1!==i||e)&&(t.preventDefault(),t.stopPropagation(),this._dragData={tab:n[i],index:i,pressX:t.clientX,pressY:t.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},document.addEventListener("mouseup",this,!0),document.addEventListener("pointerup",this,!0),1!==t.button&&!e)){var o=n[i].querySelector(this.renderer.closeIconSelector);o&&o.contains(t.target)||(this.tabsMovable&&(document.addEventListener("mousemove",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===i?this.currentIndex=-1:this.currentIndex=i,-1!==this.currentIndex&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},e.prototype._evtMouseMove=function(t){var e=this._dragData;if(e){t.preventDefault(),t.stopPropagation();var n=this.contentNode.children;if(e.dragActive||Qe.dragExceeded(e,t)){if(!e.dragActive){var i=e.tab.getBoundingClientRect();"horizontal"===this._orientation?(e.tabPos=e.tab.offsetLeft,e.tabSize=i.width,e.tabPressPos=e.pressX-i.left):(e.tabPos=e.tab.offsetTop,e.tabSize=i.height,e.tabPressPos=e.pressY-i.top),e.tabLayout=Qe.snapTabLayout(n,this._orientation),e.contentRect=this.contentNode.getBoundingClientRect(),e.override=$t.overrideCursor("default"),e.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),e.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),e.dragActive=!0}if(!e.detachRequested&&Qe.detachExceeded(e,t)){e.detachRequested=!0;var o=e.index,r=t.clientX,s=t.clientY,a=n[o],c=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:c,tab:a,clientX:r,clientY:s}),e.dragAborted)return}Qe.layoutTabs(n,e,t,this._orientation)}}},e.prototype._evtMouseUp=function(t){var e=this;if(0===t.button||1===t.button){var n=this._dragData;if(n){if(t.preventDefault(),t.stopPropagation(),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),!n.dragActive){this._dragData=null;var i=this.addButtonEnabled&&this.addButtonNode.contains(t.target);if(i)return void this._addRequested.emit(void 0);var o=this.contentNode.children,r=I.findFirstIndex(o,(function(e){return G.hitTest(e,t.clientX,t.clientY)}));if(r!==n.index)return;var s=this._titles[r];if(!s.closable)return;if(1===t.button)return void this._tabCloseRequested.emit({index:r,title:s});var a=o[r].querySelector(this.renderer.closeIconSelector);return a&&a.contains(t.target)?void this._tabCloseRequested.emit({index:r,title:s}):void 0}if(0===t.button){Qe.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging"),n.tab.classList.remove("p-mod-dragging");var c=Qe.parseTransitionDuration(n.tab);setTimeout((function(){if(!n.dragAborted){e._dragData=null,Qe.resetTabPositions(e.contentNode.children,e._orientation),n.override.dispose(),e.removeClass("lm-mod-dragging"),e.removeClass("p-mod-dragging");var t=n.index,i=n.targetIndex;-1!==i&&t!==i&&(I.move(e._titles,t,i),e._adjustCurrentForMove(t,i),e._tabMoved.emit({fromIndex:t,toIndex:i,title:e._titles[i]}),Mt.sendMessage(e,Ee.Msg.UpdateRequest))}}),c)}}}},e.prototype._releaseMouse=function(){var t=this._dragData;t&&(this._dragData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),t.dragAborted=!0,t.dragActive&&(Qe.resetTabPositions(this.contentNode.children,this._orientation),t.override.dispose(),t.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),t.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},e.prototype._adjustCurrentForInsert=function(t,e){var n=this.currentTitle,i=this._currentIndex,o=this.insertBehavior;if("select-tab"===o||"select-tab-if-needed"===o&&-1===i)return this._currentIndex=t,this._previousTitle=n,void this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:t,currentTitle:e});i>=t&&this._currentIndex++},e.prototype._adjustCurrentForMove=function(t,e){this._currentIndex===t?this._currentIndex=e:this._currentIndex<t&&this._currentIndex>=e?this._currentIndex++:this._currentIndex>t&&this._currentIndex<=e&&this._currentIndex--},e.prototype._adjustCurrentForRemove=function(t,e){var n=this._currentIndex,i=this.removeBehavior;if(n===t){if(0===this._titles.length)return this._currentIndex=-1,void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:-1,currentTitle:null});if("select-tab-after"===i)return this._currentIndex=Math.min(t,this._titles.length-1),void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-tab-before"===i)return this._currentIndex=Math.max(0,t-1),void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-previous-tab"===i)return this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(t,this._titles.length-1),void this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:this._currentIndex,currentTitle:this.currentTitle});this._currentIndex=-1,this._currentChanged.emit({previousIndex:t,previousTitle:e,currentIndex:-1,currentTitle:null})}else n>t&&this._currentIndex--},e.prototype._onTitleChanged=function(t){this.update()},e}(Ee);(function(t){var e=function(){function t(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap}return t.prototype.renderTab=function(t){var e=t.title.caption,n=this.createTabKey(t),i=n,o=this.createTabStyle(t),r=this.createTabClass(t),s=this.createTabDataset(t),a=this.createTabARIA(t);return t.title.closable?ge.li(xe({id:i,key:n,className:r,title:e,style:o,dataset:s},a),this.renderIcon(t),this.renderLabel(t),this.renderCloseIcon(t)):ge.li(xe({id:i,key:n,className:r,title:e,style:o,dataset:s},a),this.renderIcon(t),this.renderLabel(t))},t.prototype.renderIcon=function(t){var e=t.title,n=this.createIconClass(t);return"string"===typeof e.icon?ge.div({className:n},e.iconLabel):ge.div({className:n},e.icon,e.iconLabel)},t.prototype.renderLabel=function(t){return ge.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},t.title.label)},t.prototype.renderCloseIcon=function(t){return ge.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},t.prototype.createTabKey=function(t){var e=this._tabKeys.get(t.title);return void 0===e&&(e="tab-key-"+this._tabID++,this._tabKeys.set(t.title,e)),e},t.prototype.createTabStyle=function(t){return{zIndex:""+t.zIndex}},t.prototype.createTabClass=function(t){var e="lm-TabBar-tab";return e+=" p-TabBar-tab",t.title.className&&(e+=" "+t.title.className),t.title.closable&&(e+=" lm-mod-closable",e+=" p-mod-closable"),t.current&&(e+=" lm-mod-current",e+=" p-mod-current"),e},t.prototype.createTabDataset=function(t){return t.title.dataset},t.prototype.createTabARIA=function(t){return{role:"tab","aria-selected":t.current.toString()}},t.prototype.createIconClass=function(t){var e="lm-TabBar-tabIcon";e+=" p-TabBar-tabIcon";var n=t.title.iconClass;return n?e+" "+n:e},t}();t.Renderer=e,t.defaultRenderer=new e,t.addButtonSelector=".lm-TabBar-addButton"})(tn||(tn={})),function(t){function e(){var t=document.createElement("div"),e=document.createElement("ul");e.setAttribute("role","tablist"),e.className="lm-TabBar-content",e.classList.add("p-TabBar-content"),t.appendChild(e);var n=document.createElement("div");return n.className="lm-TabBar-addButton lm-mod-hidden",t.appendChild(n),t}function n(t){return t instanceof Ie?t:new Ie(t)}function i(t){var e=window.getComputedStyle(t);return 1e3*(parseFloat(e.transitionDuration)||0)}function o(t,e){for(var n=new Array(t.length),i=0,o=t.length;i<o;++i){var r=t[i],s=window.getComputedStyle(r);n[i]="horizontal"===e?{pos:r.offsetLeft,size:r.offsetWidth,margin:parseFloat(s.marginLeft)||0}:{pos:r.offsetTop,size:r.offsetHeight,margin:parseFloat(s.marginTop)||0}}return n}function r(e,n){var i=Math.abs(n.clientX-e.pressX),o=Math.abs(n.clientY-e.pressY);return i>=t.DRAG_THRESHOLD||o>=t.DRAG_THRESHOLD}function s(e,n){var i=e.contentRect;return n.clientX<i.left-t.DETACH_THRESHOLD||n.clientX>=i.right+t.DETACH_THRESHOLD||n.clientY<i.top-t.DETACH_THRESHOLD||n.clientY>=i.bottom+t.DETACH_THRESHOLD}function a(t,e,n,i){var o,r,s,a;"horizontal"===i?(o=e.pressX,r=n.clientX-e.contentRect.left,s=n.clientX,a=e.contentRect.width):(o=e.pressY,r=n.clientY-e.contentRect.top,s=n.clientY,a=e.contentRect.height);for(var c=e.index,u=r-e.tabPressPos,h=u+e.tabSize,l=0,d=t.length;l<d;++l){var p=void 0,f=e.tabLayout[l],m=f.pos+(f.size>>1);if(l<e.index&&u<m)p=e.tabSize+e.tabLayout[l+1].margin+"px",c=Math.min(c,l);else if(l>e.index&&h>m)p=-e.tabSize-f.margin+"px",c=Math.max(c,l);else if(l===e.index){var v=s-o,_=a-(e.tabPos+e.tabSize);p=Math.max(-e.tabPos,Math.min(v,_))+"px"}else p="";"horizontal"===i?t[l].style.left=p:t[l].style.top=p}e.targetIndex=c}function c(t,e){var n,i;if(n="horizontal"===e?t.contentRect.width:t.contentRect.height,t.targetIndex===t.index)i=0;else if(t.targetIndex>t.index){var o=t.tabLayout[t.targetIndex];i=o.pos+o.size-t.tabSize-t.tabPos}else{o=t.tabLayout[t.targetIndex];i=o.pos-t.tabPos}var r=n-(t.tabPos+t.tabSize),s=Math.max(-t.tabPos,Math.min(i,r));"horizontal"===e?t.tab.style.left=s+"px":t.tab.style.top=s+"px"}function u(t,e){L(t,(function(t){"horizontal"===e?t.style.left="":t.style.top=""}))}t.DRAG_THRESHOLD=5,t.DETACH_THRESHOLD=20,t.createNode=e,t.asTitle=n,t.parseTransitionDuration=i,t.snapTabLayout=o,t.dragExceeded=r,t.detachExceeded=s,t.layoutTabs=a,t.finalizeTabPosition=c,t.resetTabPositions=u}(Qe||(Qe={}));var en,nn=function(t){function e(e){var n=t.call(this)||this;return n._spacing=4,n._dirty=!1,n._root=null,n._box=null,n._items=new Map,n.renderer=e.renderer,void 0!==e.spacing&&(n._spacing=Te.clampDimension(e.spacing)),n}return be(e,t),e.prototype.dispose=function(){var e=this.iter();this._items.forEach((function(t){t.dispose()})),this._box=null,this._root=null,this._items.clear(),L(e,(function(t){t.dispose()})),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t=Te.clampDimension(t),this._spacing!==t&&(this._spacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return null===this._root},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._root?this._root.iterAllWidgets():D()},e.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():D()},e.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():D()},e.prototype.tabBars=function(){return this._root?this._root.iterTabBars():D()},e.prototype.handles=function(){return this._root?this._root.iterHandles():D()},e.prototype.moveHandle=function(t,e,n){var i=t.classList.contains("lm-mod-hidden");if(i=i||t.classList.contains("p-mod-hidden"),this._root&&!i){var o,r=this._root.findSplitNode(t);if(r)o="horizontal"===r.node.orientation?e-t.offsetLeft:n-t.offsetTop,0!==o&&(r.node.holdSizes(),Me.adjust(r.node.sizers,r.index,o),this.parent&&this.parent.update())}},e.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},e.prototype.restoreLayout=function(t){var e,n=this,i=new Set;e=t.main?en.normalizeAreaConfig(t.main,i):null;var o=this.widgets(),r=this.tabBars(),s=this.handles();this._root=null,L(o,(function(t){i.has(t)||(t.parent=null)})),L(r,(function(t){t.dispose()})),L(s,(function(t){t.parentNode&&t.parentNode.removeChild(t)})),i.forEach((function(t){t.parent=n.parent})),this._root=e?en.realizeAreaConfig(e,{createTabBar:function(){return n._createTabBar()},createHandle:function(){return n._createHandle()}}):null,this.parent&&(i.forEach((function(t){n.attachWidget(t)})),this.parent.fit())},e.prototype.addWidget=function(t,e){void 0===e&&(e={});var n=e.ref||null,i=e.mode||"tab-after",o=null;if(this._root&&n&&(o=this._root.findTabNode(n)),n&&!o)throw new Error("Reference widget is not in the layout.");switch(t.parent=this.parent,i){case"tab-after":this._insertTab(t,n,o,!0);break;case"tab-before":this._insertTab(t,n,o,!1);break;case"split-top":this._insertSplit(t,n,o,"vertical",!1);break;case"split-left":this._insertSplit(t,n,o,"horizontal",!1);break;case"split-right":this._insertSplit(t,n,o,"horizontal",!0);break;case"split-bottom":this._insertSplit(t,n,o,"vertical",!0);break}this.parent&&(this.attachWidget(t),this.parent.fit())},e.prototype.removeWidget=function(t){this._removeWidget(t),this.parent&&(this.detachWidget(t),this.parent.fit())},e.prototype.hitTestTabAreas=function(t,e){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=G.boxSizing(this.parent.node));var n=this.parent.node.getBoundingClientRect(),i=t-n.left-this._box.borderLeft,o=e-n.top-this._box.borderTop,r=this._root.hitTestTabNodes(i,o);if(!r)return null;var s=r.tabBar,a=r.top,c=r.left,u=r.width,h=r.height,l=this._box.borderLeft+this._box.borderRight,d=this._box.borderTop+this._box.borderBottom,p=n.width-l-(c+u),f=n.height-d-(a+h);return{tabBar:s,x:i,y:o,top:a,left:c,right:p,bottom:f,width:u,height:h}},e.prototype.init=function(){var e=this;t.prototype.init.call(this),L(this,(function(t){e.attachWidget(t)})),L(this.handles(),(function(t){e.parent.node.appendChild(t)})),this.parent.fit()},e.prototype.attachWidget=function(t){this.parent.node!==t.node.parentNode&&(this._items.set(t,new Le(t)),this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.AfterAttach))},e.prototype.detachWidget=function(t){if(this.parent.node===t.node.parentNode){this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.AfterDetach);var e=this._items.get(t);e&&(this._items.delete(t),e.dispose())}},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._removeWidget=function(t){if(this._root){var e=this._root.findTabNode(t);if(e)if(en.removeAria(t),e.tabBar.titles.length>1)e.tabBar.removeTab(t.title);else if(e.tabBar.dispose(),this._root!==e){this._root.holdAllSizes();var n=e.parent;e.parent=null;var i=I.removeFirstOf(n.children,e),o=I.removeAt(n.handles,i);if(I.removeAt(n.sizers,i),o.parentNode&&o.parentNode.removeChild(o),n.children.length>1)n.syncHandles();else{var r=n.parent;n.parent=null;var s=n.children[0],a=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,a.parentNode&&a.parentNode.removeChild(a),this._root===n)return s.parent=null,void(this._root=s);var c=r,u=c.children.indexOf(n);if(s instanceof en.TabLayoutNode)return s.parent=c,void(c.children[u]=s);var h=I.removeAt(c.handles,u);I.removeAt(c.children,u),I.removeAt(c.sizers,u),h.parentNode&&h.parentNode.removeChild(h);for(var l=0,d=s.children.length;l<d;++l){var p=s.children[l],f=s.handles[l],m=s.sizers[l];I.insert(c.children,u+l,p),I.insert(c.handles,u+l,f),I.insert(c.sizers,u+l,m),p.parent=c}s.children.length=0,s.handles.length=0,s.sizers.length=0,s.parent=null,c.syncHandles()}}else this._root=null}},e.prototype._insertTab=function(t,e,n,i){if(t!==e){if(!this._root){var o=new en.TabLayoutNode(this._createTabBar());return o.tabBar.addTab(t.title),this._root=o,void en.addAria(t,o.tabBar)}var r;n||(n=this._root.findFirstTabNode()),-1===n.tabBar.titles.indexOf(t.title)&&(this._removeWidget(t),t.hide()),r=e?n.tabBar.titles.indexOf(e.title):n.tabBar.currentIndex,n.tabBar.insertTab(r+(i?1:0),t.title),en.addAria(t,n.tabBar)}},e.prototype._insertSplit=function(t,e,n,i,o){if(t!==e||!n||1!==n.tabBar.titles.length){this._removeWidget(t);var r=new en.TabLayoutNode(this._createTabBar());if(r.tabBar.addTab(t.title),en.addAria(t,r.tabBar),this._root){if(!n||!n.parent){var s=this._splitRoot(i),a=o?s.children.length:0;s.normalizeSizes();var c=en.createSizer(n?1:en.GOLDEN_RATIO);return I.insert(s.children,a,r),I.insert(s.sizers,a,c),I.insert(s.handles,a,this._createHandle()),r.parent=s,s.normalizeSizes(),void s.syncHandles()}var u=n.parent;if(u.orientation===i){var h=u.children.indexOf(n);u.normalizeSizes();var l=u.sizers[h].sizeHint/=2,d=h+(o?1:0);return I.insert(u.children,d,r),I.insert(u.sizers,d,en.createSizer(l)),I.insert(u.handles,d,this._createHandle()),r.parent=u,void u.syncHandles()}var p=I.removeFirstOf(u.children,n),f=new en.SplitLayoutNode(i);f.normalized=!0,f.children.push(n),f.sizers.push(en.createSizer(.5)),f.handles.push(this._createHandle()),n.parent=f;var m=o?1:0;I.insert(f.children,m,r),I.insert(f.sizers,m,en.createSizer(.5)),I.insert(f.handles,m,this._createHandle()),r.parent=f,f.syncHandles(),I.insert(u.children,p,f),f.parent=u}else this._root=r}},e.prototype._splitRoot=function(t){var e=this._root;if(e instanceof en.SplitLayoutNode&&e.orientation===t)return e;var n=this._root=new en.SplitLayoutNode(t);return e&&(n.children.push(e),n.sizers.push(en.createSizer(0)),n.handles.push(this._createHandle()),e.parent=n),n},e.prototype._fit=function(){var t=0,e=0;if(this._root){var n=this._root.fit(this._spacing,this._items);t=n.minWidth,e=n.minHeight}var i=this._box=G.boxSizing(this.parent.node);t+=i.horizontalSum,e+=i.verticalSum;var o=this.parent.node.style;o.minWidth=t+"px",o.minHeight=e+"px",this._dirty=!0,this.parent.parent&&Mt.sendMessage(this.parent.parent,Ee.Msg.FitRequest),this._dirty&&Mt.sendMessage(this.parent,Ee.Msg.UpdateRequest)},e.prototype._update=function(t,e){if(this._dirty=!1,this._root){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=G.boxSizing(this.parent.node));var n=this._box.paddingTop,i=this._box.paddingLeft,o=t-this._box.horizontalSum,r=e-this._box.verticalSum;this._root.update(n,i,o,r,this._spacing,this._items)}},e.prototype._createTabBar=function(){var t=this.renderer.createTabBar();return t.orientation="horizontal",this.parent&&(t.parent=this.parent,this.attachWidget(t)),t},e.prototype._createHandle=function(){var t=this.renderer.createHandle(),e=t.style;return e.position="absolute",e.top="0",e.left="0",e.width="0",e.height="0",this.parent&&this.parent.node.appendChild(t),t},e}(Se);(function(t){function e(t){var e=new ke;return e.sizeHint=t,e.size=t,e}function n(t,e){var n;return n="tab-area"===t.type?c(t,e):u(t,e),n}function i(t,e){var n;return n="tab-area"===t.type?h(t,e):l(t,e),n}t.GOLDEN_RATIO=.618,t.createSizer=e,t.normalizeAreaConfig=n,t.realizeAreaConfig=i;var o=function(){function t(t){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var e=new ke,n=new ke;e.stretch=0,n.stretch=1,this.tabBar=t,this.sizers=[e,n]}return Object.defineProperty(t.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),t.prototype.iterAllWidgets=function(){return O(K(this.tabBar),this.iterUserWidgets())},t.prototype.iterUserWidgets=function(){return H(this.tabBar.titles,(function(t){return t.owner}))},t.prototype.iterSelectedWidgets=function(){var t=this.tabBar.currentTitle;return t?K(t.owner):D()},t.prototype.iterTabBars=function(){return K(this.tabBar)},t.prototype.iterHandles=function(){return D()},t.prototype.findTabNode=function(t){return-1!==this.tabBar.titles.indexOf(t.title)?this:null},t.prototype.findSplitNode=function(t){return null},t.prototype.findFirstTabNode=function(){return this},t.prototype.hitTestTabNodes=function(t,e){return t<this._left||t>=this._left+this._width||e<this._top||e>=this._top+this._height?null:this},t.prototype.createConfig=function(){var t=this.tabBar.titles.map((function(t){return t.owner})),e=this.tabBar.currentIndex;return{type:"tab-area",widgets:t,currentIndex:e}},t.prototype.holdAllSizes=function(){},t.prototype.fit=function(t,e){var n=0,i=0,o=1/0,r=1/0,s=e.get(this.tabBar),a=this.tabBar.currentTitle,c=a?e.get(a.owner):void 0,u=this.sizers,h=u[0],l=u[1];return s&&s.fit(),c&&c.fit(),s&&!s.isHidden?(n=Math.max(n,s.minWidth),i+=s.minHeight,h.minSize=s.minHeight,h.maxSize=s.maxHeight):(h.minSize=0,h.maxSize=0),c&&!c.isHidden?(n=Math.max(n,c.minWidth),i+=c.minHeight,l.minSize=c.minHeight,l.maxSize=1/0):(l.minSize=0,l.maxSize=1/0),{minWidth:n,minHeight:i,maxWidth:o,maxHeight:r}},t.prototype.update=function(t,e,n,i,o,r){this._top=e,this._left=t,this._width=n,this._height=i;var s=r.get(this.tabBar),a=this.tabBar.currentTitle,c=a?r.get(a.owner):void 0;if(Me.calc(this.sizers,i),s&&!s.isHidden){var u=this.sizers[0].size;s.update(t,e,n,u),e+=u}if(c&&!c.isHidden){u=this.sizers[1].size;c.update(t,e,n,u)}},t}();t.TabLayoutNode=o;var r=function(){function t(t){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=t}return t.prototype.iterAllWidgets=function(){var t=H(this.children,(function(t){return t.iterAllWidgets()}));return new T(t)},t.prototype.iterUserWidgets=function(){var t=H(this.children,(function(t){return t.iterUserWidgets()}));return new T(t)},t.prototype.iterSelectedWidgets=function(){var t=H(this.children,(function(t){return t.iterSelectedWidgets()}));return new T(t)},t.prototype.iterTabBars=function(){var t=H(this.children,(function(t){return t.iterTabBars()}));return new T(t)},t.prototype.iterHandles=function(){var t=H(this.children,(function(t){return t.iterHandles()}));return O(this.handles,new T(t))},t.prototype.findTabNode=function(t){for(var e=0,n=this.children.length;e<n;++e){var i=this.children[e].findTabNode(t);if(i)return i}return null},t.prototype.findSplitNode=function(t){var e=this.handles.indexOf(t);if(-1!==e)return{index:e,node:this};for(var n=0,i=this.children.length;n<i;++n){var o=this.children[n].findSplitNode(t);if(o)return o}return null},t.prototype.findFirstTabNode=function(){return 0===this.children.length?null:this.children[0].findFirstTabNode()},t.prototype.hitTestTabNodes=function(t,e){for(var n=0,i=this.children.length;n<i;++n){var o=this.children[n].hitTestTabNodes(t,e);if(o)return o}return null},t.prototype.createConfig=function(){var t=this.orientation,e=this.createNormalizedSizes(),n=this.children.map((function(t){return t.createConfig()}));return{type:"split-area",orientation:t,children:n,sizes:e}},t.prototype.syncHandles=function(){var t=this;L(this.handles,(function(e,n){e.setAttribute("data-orientation",t.orientation),n===t.handles.length-1?(e.classList.add("lm-mod-hidden"),e.classList.add("p-mod-hidden")):(e.classList.remove("lm-mod-hidden"),e.classList.remove("p-mod-hidden"))}))},t.prototype.holdSizes=function(){L(this.sizers,(function(t){t.sizeHint=t.size}))},t.prototype.holdAllSizes=function(){L(this.children,(function(t){return t.holdAllSizes()})),this.holdSizes()},t.prototype.normalizeSizes=function(){var t=this.sizers.length;if(0!==t){this.holdSizes();var e=V(this.sizers,(function(t,e){return t+e.sizeHint}),0);L(this.sizers,0===e?function(e){e.size=e.sizeHint=1/t}:function(t){t.size=t.sizeHint/=e}),this.normalized=!0}},t.prototype.createNormalizedSizes=function(){var t=this.sizers.length;if(0===t)return[];var e=this.sizers.map((function(t){return t.size})),n=V(e,(function(t,e){return t+e}),0);return L(e,0===n?function(n,i){e[i]=1/t}:function(t,i){e[i]=t/n}),e},t.prototype.fit=function(t,e){for(var n="horizontal"===this.orientation,i=Math.max(0,this.children.length-1)*t,o=n?i:0,r=n?0:i,s=1/0,a=1/0,c=0,u=this.children.length;c<u;++c){var h=this.children[c].fit(t,e);n?(r=Math.max(r,h.minHeight),o+=h.minWidth,this.sizers[c].minSize=h.minWidth):(o=Math.max(o,h.minWidth),r+=h.minHeight,this.sizers[c].minSize=h.minHeight)}return{minWidth:o,minHeight:r,maxWidth:s,maxHeight:a}},t.prototype.update=function(t,e,n,i,o,r){var s="horizontal"===this.orientation,a=Math.max(0,this.children.length-1)*o,c=Math.max(0,(s?n:i)-a);this.normalized&&(L(this.sizers,(function(t){t.sizeHint*=c})),this.normalized=!1),Me.calc(this.sizers,c);for(var u=0,h=this.children.length;u<h;++u){var l=this.children[u],d=this.sizers[u].size,p=this.handles[u].style;s?(l.update(t,e,d,i,o,r),t+=d,p.top=e+"px",p.left=t+"px",p.width=o+"px",p.height=i+"px",t+=o):(l.update(t,e,n,d,o,r),e+=d,p.top=e+"px",p.left=t+"px",p.width=n+"px",p.height=o+"px",e+=o)}},t}();function s(t,e){t.node.setAttribute("role","tabpanel");var n=e.renderer;if(n instanceof tn.Renderer){var i=n.createTabKey({title:t.title,current:!1,zIndex:0});t.node.setAttribute("aria-labelledby",i)}}function a(t){t.node.removeAttribute("role"),t.node.removeAttribute("aria-labelledby")}function c(t,e){if(0===t.widgets.length)return null;var n=[];if(L(t.widgets,(function(t){e.has(t)||(e.add(t),n.push(t))})),0===n.length)return null;var i=t.currentIndex;return-1!==i&&(i<0||i>=n.length)&&(i=0),{type:"tab-area",widgets:n,currentIndex:i}}function u(t,e){for(var i=t.orientation,o=[],r=[],s=0,a=t.children.length;s<a;++s){var c=n(t.children[s],e);c&&("tab-area"===c.type||c.orientation!==i?(o.push(c),r.push(Math.abs(t.sizes[s]||0))):(o.push.apply(o,c.children),r.push.apply(r,c.sizes)))}return 0===o.length?null:1===o.length?o[0]:{type:"split-area",orientation:i,children:o,sizes:r}}function h(e,n){var i=n.createTabBar();return L(e.widgets,(function(e){e.hide(),i.addTab(e.title),t.addAria(e,i)})),i.currentIndex=e.currentIndex,new o(i)}function l(t,n){var o=new r(t.orientation);return L(t.children,(function(r,s){var a=i(r,n),c=e(t.sizes[s]),u=n.createHandle();o.children.push(a),o.handles.push(u),o.sizers.push(c),a.parent=o})),o.syncHandles(),o.normalizeSizes(),o}t.SplitLayoutNode=r,t.addAria=s,t.removeAria=a})(en||(en={}));var on,rn=function(t){function e(n){void 0===n&&(n={});var i=t.call(this)||this;i._drag=null,i._tabsMovable=!0,i._tabsConstrained=!1,i._addButtonEnabled=!1,i._pressData=null,i._layoutModified=new Rt(i),i._addRequested=new Rt(i),i.addClass("lm-DockPanel"),i.addClass("p-DockPanel"),i._mode=n.mode||"multiple-document",i._renderer=n.renderer||e.defaultRenderer,i._edges=n.edges||on.DEFAULT_EDGES,void 0!==n.tabsMovable&&(i._tabsMovable=n.tabsMovable),void 0!==n.tabsConstrained&&(i._tabsConstrained=n.tabsConstrained),void 0!==n.addButtonEnabled&&(i._addButtonEnabled=n.addButtonEnabled),i.dataset["mode"]=i._mode;var o={createTabBar:function(){return i._createTabBar()},createHandle:function(){return i._createHandle()}};return i.layout=new nn({renderer:o,spacing:n.spacing}),i.overlay=n.overlay||new e.Overlay,i.node.appendChild(i.overlay.node),i}return be(e,t),e.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(t){this.layout.spacing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(t){if(this._mode!==t){this._mode=t,this.dataset["mode"]=t;var e=this.layout;switch(t){case"multiple-document":L(e.tabBars(),(function(t){t.show()}));break;case"single-document":e.restoreLayout(on.createSingleDocumentConfig(this));break;default:throw"unreachable"}Mt.postMessage(this,on.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(t){this._tabsMovable=t,L(this.tabBars(),(function(e){e.tabsMovable=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(t){this._tabsConstrained=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(t){this._addButtonEnabled=t,L(this.tabBars(),(function(e){e.addButtonEnabled=t}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),e.prototype.widgets=function(){return this.layout.widgets()},e.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},e.prototype.tabBars=function(){return this.layout.tabBars()},e.prototype.handles=function(){return this.layout.handles()},e.prototype.selectWidget=function(t){var e=N(this.tabBars(),(function(e){return-1!==e.titles.indexOf(t.title)}));if(!e)throw new Error("Widget is not contained in the dock panel.");e.currentTitle=t.title},e.prototype.activateWidget=function(t){this.selectWidget(t),t.activate()},e.prototype.saveLayout=function(){return this.layout.saveLayout()},e.prototype.restoreLayout=function(t){this._mode="multiple-document",this.layout.restoreLayout(t),($.IS_EDGE||$.IS_IE)&&Mt.flush(),Mt.postMessage(this,on.LayoutModified)},e.prototype.addWidget=function(t,e){void 0===e&&(e={}),"single-document"===this._mode?this.layout.addWidget(t):this.layout.addWidget(t,e),Mt.postMessage(this,on.LayoutModified)},e.prototype.processMessage=function(e){"layout-modified"===e.type?this._layoutModified.emit(void 0):t.prototype.processMessage.call(this,e)},e.prototype.handleEvent=function(t){switch(t.type){case"lm-dragenter":this._evtDragEnter(t);break;case"lm-dragleave":this._evtDragLeave(t);break;case"lm-dragover":this._evtDragOver(t);break;case"lm-drop":this._evtDrop(t);break;case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"pointerdown":this._evtMouseDown(t);break;case"pointermove":this._evtMouseMove(t);break;case"pointerup":this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation();break}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},e.prototype.onChildAdded=function(t){on.isGeneratedTabBarProperty.get(t.child)||(t.child.addClass("lm-DockPanel-widget"),t.child.addClass("p-DockPanel-widget"))},e.prototype.onChildRemoved=function(t){on.isGeneratedTabBarProperty.get(t.child)||(t.child.removeClass("lm-DockPanel-widget"),t.child.removeClass("p-DockPanel-widget"),Mt.postMessage(this,on.LayoutModified))},e.prototype._evtDragEnter=function(t){t.mimeData.hasData("application/vnd.lumino.widget-factory")&&(t.preventDefault(),t.stopPropagation())},e.prototype._evtDragLeave=function(t){t.preventDefault(),t.stopPropagation(),this.overlay.hide(1)},e.prototype._evtDragOver=function(t){t.preventDefault(),t.stopPropagation(),this._tabsConstrained&&t.source!==this||"invalid"===this._showOverlay(t.clientX,t.clientY)?t.dropAction="none":t.dropAction=t.proposedAction},e.prototype._evtDrop=function(t){if(t.preventDefault(),t.stopPropagation(),this.overlay.hide(0),"none"!==t.proposedAction){var e=t.clientX,n=t.clientY,i=on.findDropTarget(this,e,n,this._edges),o=i.zone,r=i.target;if("invalid"!==o){var s=t.mimeData,a=s.getData("application/vnd.lumino.widget-factory");if("function"===typeof a){var c=a();if(c instanceof Ee)if(c.contains(this))t.dropAction="none";else{var u=r?on.getDropRef(r.tabBar):null;switch(o){case"root-all":this.addWidget(c);break;case"root-top":this.addWidget(c,{mode:"split-top"});break;case"root-left":this.addWidget(c,{mode:"split-left"});break;case"root-right":this.addWidget(c,{mode:"split-right"});break;case"root-bottom":this.addWidget(c,{mode:"split-bottom"});break;case"widget-all":this.addWidget(c,{mode:"tab-after",ref:u});break;case"widget-top":this.addWidget(c,{mode:"split-top",ref:u});break;case"widget-left":this.addWidget(c,{mode:"split-left",ref:u});break;case"widget-right":this.addWidget(c,{mode:"split-right",ref:u});break;case"widget-bottom":this.addWidget(c,{mode:"split-bottom",ref:u});break;case"widget-tab":this.addWidget(c,{mode:"tab-after",ref:u});break;default:throw"unreachable"}t.dropAction=t.proposedAction,this.activateWidget(c)}else t.dropAction="none"}else t.dropAction="none"}else t.dropAction="none"}else t.dropAction="none"},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation(),27===t.keyCode&&(this._releaseMouse(),Mt.postMessage(this,on.LayoutModified))},e.prototype._evtMouseDown=function(t){if(0===t.button){var e=this.layout,n=t.target,i=N(e.handles(),(function(t){return t.contains(n)}));if(i){t.preventDefault(),t.stopPropagation(),document.addEventListener("keydown",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("contextmenu",this,!0);var o=i.getBoundingClientRect(),r=t.clientX-o.left,s=t.clientY-o.top,a=window.getComputedStyle(i),c=$t.overrideCursor(a.cursor);this._pressData={handle:i,deltaX:r,deltaY:s,override:c}}}},e.prototype._evtMouseMove=function(t){if(this._pressData){t.preventDefault(),t.stopPropagation();var e=this.node.getBoundingClientRect(),n=t.clientX-e.left-this._pressData.deltaX,i=t.clientY-e.top-this._pressData.deltaY,o=this.layout;o.moveHandle(this._pressData.handle,n,i)}},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse(),Mt.postMessage(this,on.LayoutModified))},e.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("keydown",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))},e.prototype._showOverlay=function(t,e){var n,i,o,r,s=on.findDropTarget(this,t,e,this._edges),a=s.zone,c=s.target;if("invalid"===a)return this.overlay.hide(100),a;var u=G.boxSizing(this.node),h=this.node.getBoundingClientRect();switch(a){case"root-all":n=u.paddingTop,i=u.paddingLeft,o=u.paddingRight,r=u.paddingBottom;break;case"root-top":n=u.paddingTop,i=u.paddingLeft,o=u.paddingRight,r=h.height*on.GOLDEN_RATIO;break;case"root-left":n=u.paddingTop,i=u.paddingLeft,o=h.width*on.GOLDEN_RATIO,r=u.paddingBottom;break;case"root-right":n=u.paddingTop,i=h.width*on.GOLDEN_RATIO,o=u.paddingRight,r=u.paddingBottom;break;case"root-bottom":n=h.height*on.GOLDEN_RATIO,i=u.paddingLeft,o=u.paddingRight,r=u.paddingBottom;break;case"widget-all":n=c.top,i=c.left,o=c.right,r=c.bottom;break;case"widget-top":n=c.top,i=c.left,o=c.right,r=c.bottom+c.height/2;break;case"widget-left":n=c.top,i=c.left,o=c.right+c.width/2,r=c.bottom;break;case"widget-right":n=c.top,i=c.left+c.width/2,o=c.right,r=c.bottom;break;case"widget-bottom":n=c.top+c.height/2,i=c.left,o=c.right,r=c.bottom;break;case"widget-tab":var l=c.tabBar.node.getBoundingClientRect().height;n=c.top,i=c.left,o=c.right,r=c.bottom+c.height-l;break;default:throw"unreachable"}return this.overlay.show({top:n,left:i,right:o,bottom:r}),a},e.prototype._createTabBar=function(){var t=this._renderer.createTabBar();return on.isGeneratedTabBarProperty.set(t,!0),"single-document"===this._mode&&t.hide(),t.tabsMovable=this._tabsMovable,t.allowDeselect=!1,t.addButtonEnabled=this._addButtonEnabled,t.removeBehavior="select-previous-tab",t.insertBehavior="select-tab-if-needed",t.tabMoved.connect(this._onTabMoved,this),t.currentChanged.connect(this._onCurrentChanged,this),t.tabCloseRequested.connect(this._onTabCloseRequested,this),t.tabDetachRequested.connect(this._onTabDetachRequested,this),t.tabActivateRequested.connect(this._onTabActivateRequested,this),t.addRequested.connect(this._onTabAddRequested,this),t},e.prototype._createHandle=function(){return this._renderer.createHandle()},e.prototype._onTabMoved=function(){Mt.postMessage(this,on.LayoutModified)},e.prototype._onCurrentChanged=function(t,e){var n=e.previousTitle,i=e.currentTitle;n&&n.owner.hide(),i&&i.owner.show(),($.IS_EDGE||$.IS_IE)&&Mt.flush(),Mt.postMessage(this,on.LayoutModified)},e.prototype._onTabAddRequested=function(t){this._addRequested.emit(t)},e.prototype._onTabActivateRequested=function(t,e){e.title.owner.activate()},e.prototype._onTabCloseRequested=function(t,e){e.title.owner.close()},e.prototype._onTabDetachRequested=function(t,e){var n=this;if(!this._drag){t.releaseMouse();var i=e.title,o=e.tab,r=e.clientX,s=e.clientY,a=new Jt,c=function(){return i.owner};a.setData("application/vnd.lumino.widget-factory",c);var u=o.cloneNode(!0);this._drag=new $t({mimeData:a,dragImage:u,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden"),o.classList.add("p-mod-hidden");var h=function(){n._drag=null,o.classList.remove("lm-mod-hidden"),o.classList.remove("p-mod-hidden")};this._drag.start(r,s).then(h)}},e}(Ee);(function(t){var e=function(){function t(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return t.prototype.show=function(t){var e=this.node.style;e.top=t.top+"px",e.left=t.left+"px",e.right=t.right+"px",e.bottom=t.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},t.prototype.hide=function(t){var e=this;if(!this._hidden)return t<=0?(clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),void this.node.classList.add("p-mod-hidden")):void(-1===this._timer&&(this._timer=window.setTimeout((function(){e._timer=-1,e._hidden=!0,e.node.classList.add("lm-mod-hidden"),e.node.classList.add("p-mod-hidden")}),t)))},t}();t.Overlay=e;var n=function(){function t(){}return t.prototype.createTabBar=function(){var t=new tn;return t.addClass("lm-DockPanel-tabBar"),t.addClass("p-DockPanel-tabBar"),t},t.prototype.createHandle=function(){var t=document.createElement("div");return t.className="lm-DockPanel-handle",t.classList.add("p-DockPanel-handle"),t},t}();t.Renderer=n,t.defaultRenderer=new n})(rn||(rn={})),function(t){function e(t){if(t.isEmpty)return{main:null};var e=z(t.widgets()),n=t.selectedWidgets().next(),i=n?e.indexOf(n):-1;return{main:{type:"tab-area",widgets:e,currentIndex:i}}}function n(t,e,n,i){if(!G.hitTest(t.node,e,n))return{zone:"invalid",target:null};var o=t.layout;if(o.isEmpty)return{zone:"root-all",target:null};if("multiple-document"===t.mode){var r=t.node.getBoundingClientRect(),s=e-r.left+1,a=n-r.top+1,c=r.right-e,u=r.bottom-n,h=Math.min(a,c,u,s);switch(h){case a:if(a<i.top)return{zone:"root-top",target:null};break;case c:if(c<i.right)return{zone:"root-right",target:null};break;case u:if(u<i.bottom)return{zone:"root-bottom",target:null};break;case s:if(s<i.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var l=o.hitTestTabAreas(e,n);if(!l)return{zone:"invalid",target:null};if("single-document"===t.mode)return{zone:"widget-all",target:l};var d=l.x-l.left+1,p=l.y-l.top+1,f=l.left+l.width-l.x,m=l.top+l.height-l.y,v=l.tabBar.node.getBoundingClientRect().height;if(p<v)return{zone:"widget-tab",target:l};var _=Math.round(l.width/3),g=Math.round(l.height/3);if(d>_&&f>_&&p>g&&m>g)return{zone:"widget-all",target:l};d/=_,p/=g,f/=_,m/=g;var y,b=Math.min(d,p,f,m);switch(b){case d:y="widget-left";break;case p:y="widget-top";break;case f:y="widget-right";break;case m:y="widget-bottom";break;default:throw"unreachable"}return{zone:y,target:l}}function i(t){return 0===t.titles.length?null:t.currentTitle?t.currentTitle.owner:t.titles[t.titles.length-1].owner}t.GOLDEN_RATIO=.618,t.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},t.LayoutModified=new Ct("layout-modified"),t.isGeneratedTabBarProperty=new St({name:"isGeneratedTabBar",create:function(){return!1}}),t.createSingleDocumentConfig=e,t.findDropTarget=n,t.getDropRef=i}(on||(on={}));(function(){function t(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new Rt(this),this._currentChanged=new Rt(this)}t.prototype.dispose=function(){var t=this;this._counter<0||(this._counter=-1,Rt.clearData(this),L(this._widgets,(function(e){e.node.removeEventListener("focus",t,!0),e.node.removeEventListener("blur",t,!0)})),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.focusNumber=function(t){var e=this._numbers.get(t);return void 0===e?-1:e},t.prototype.has=function(t){return this._numbers.has(t)},t.prototype.add=function(t){if(!this._numbers.has(t)){var e=t.node.contains(document.activeElement),n=e?this._counter++:-1;this._widgets.push(t),this._numbers.set(t,n),this._nodes.set(t.node,t),t.node.addEventListener("focus",this,!0),t.node.addEventListener("blur",this,!0),t.disposed.connect(this._onWidgetDisposed,this),e&&this._setWidgets(t,t)}},t.prototype.remove=function(t){var e=this;if(this._numbers.has(t)&&(t.disposed.disconnect(this._onWidgetDisposed,this),t.node.removeEventListener("focus",this,!0),t.node.removeEventListener("blur",this,!0),I.removeFirstOf(this._widgets,t),this._nodes.delete(t.node),this._numbers.delete(t),this._currentWidget===t)){var n=R(this._widgets,(function(t){return-1!==e._numbers.get(t)})),i=W(n,(function(t,n){var i=e._numbers.get(t),o=e._numbers.get(n);return i-o}))||null;this._setWidgets(i,null)}},t.prototype.handleEvent=function(t){switch(t.type){case"focus":this._evtFocus(t);break;case"blur":this._evtBlur(t);break}},t.prototype._setWidgets=function(t,e){var n=this._currentWidget;this._currentWidget=t;var i=this._activeWidget;this._activeWidget=e,n!==t&&this._currentChanged.emit({oldValue:n,newValue:t}),i!==e&&this._activeChanged.emit({oldValue:i,newValue:e})},t.prototype._evtFocus=function(t){var e=this._nodes.get(t.currentTarget);e!==this._currentWidget&&this._numbers.set(e,this._counter++),this._setWidgets(e,e)},t.prototype._evtBlur=function(t){var e=this._nodes.get(t.currentTarget),n=t.relatedTarget;n&&(e.node.contains(n)||N(this._widgets,(function(t){return t.node.contains(n)})))||this._setWidgets(this._currentWidget,null)},t.prototype._onWidgetDisposed=function(t){this.remove(t)}})();var sn,an=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n._dirty=!1,n._rowSpacing=4,n._columnSpacing=4,n._items=[],n._rowStarts=[],n._columnStarts=[],n._rowSizers=[new ke],n._columnSizers=[new ke],n._box=null,void 0!==e.rowCount&&sn.reallocSizers(n._rowSizers,e.rowCount),void 0!==e.columnCount&&sn.reallocSizers(n._columnSizers,e.columnCount),void 0!==e.rowSpacing&&(n._rowSpacing=sn.clampValue(e.rowSpacing)),void 0!==e.columnSpacing&&(n._columnSpacing=sn.clampValue(e.columnSpacing)),n}return be(e,t),e.prototype.dispose=function(){L(this._items,(function(t){var e=t.widget;t.dispose(),e.dispose()})),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(t){t!==this.rowCount&&(sn.reallocSizers(this._rowSizers,t),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(t){t!==this.columnCount&&(sn.reallocSizers(this._columnSizers,t),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(t){t=sn.clampValue(t),this._rowSpacing!==t&&(this._rowSpacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(t){t=sn.clampValue(t),this._columnSpacing!==t&&(this._columnSpacing=t,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),e.prototype.rowStretch=function(t){var e=this._rowSizers[t];return e?e.stretch:-1},e.prototype.setRowStretch=function(t,e){var n=this._rowSizers[t];n&&(e=sn.clampValue(e),n.stretch!==e&&(n.stretch=e,this.parent&&this.parent.update()))},e.prototype.columnStretch=function(t){var e=this._columnSizers[t];return e?e.stretch:-1},e.prototype.setColumnStretch=function(t,e){var n=this._columnSizers[t];n&&(e=sn.clampValue(e),n.stretch!==e&&(n.stretch=e,this.parent&&this.parent.update()))},e.prototype.iter=function(){return H(this._items,(function(t){return t.widget}))},e.prototype.addWidget=function(t){var e=I.findFirstIndex(this._items,(function(e){return e.widget===t}));-1===e&&(this._items.push(new Le(t)),this.parent&&this.attachWidget(t))},e.prototype.removeWidget=function(t){var e=I.findFirstIndex(this._items,(function(e){return e.widget===t}));if(-1!==e){var n=I.removeAt(this._items,e);this.parent&&this.detachWidget(t),n.dispose()}},e.prototype.init=function(){var e=this;t.prototype.init.call(this),L(this,(function(t){e.attachWidget(t)}))},e.prototype.attachWidget=function(t){this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.AfterAttach),this.parent.fit()},e.prototype.detachWidget=function(t){this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.AfterDetach),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var t=0,n=this.rowCount;t<n;++t)this._rowSizers[t].minSize=0;for(t=0,n=this.columnCount;t<n;++t)this._columnSizers[t].minSize=0;var i=this._items.filter((function(t){return!t.isHidden}));for(t=0,n=i.length;t<n;++t)i[t].fit();var o=this.rowCount-1,r=this.columnCount-1;i.sort(sn.rowSpanCmp);for(t=0,n=i.length;t<n;++t){var s=i[t],a=e.getCellConfig(s.widget),c=Math.min(a.row,o),u=Math.min(a.row+a.rowSpan-1,o);sn.distributeMin(this._rowSizers,c,u,s.minHeight)}i.sort(sn.columnSpanCmp);for(t=0,n=i.length;t<n;++t){s=i[t],a=e.getCellConfig(s.widget);var h=Math.min(a.column,r),l=Math.min(a.column+a.columnSpan-1,r);sn.distributeMin(this._columnSizers,h,l,s.minWidth)}if("set-no-constraint"!==this.fitPolicy){var d=o*this._rowSpacing,p=r*this._columnSpacing;for(t=0,n=this.rowCount;t<n;++t)d+=this._rowSizers[t].minSize;for(t=0,n=this.columnCount;t<n;++t)p+=this._columnSizers[t].minSize;var f=this._box=G.boxSizing(this.parent.node);p+=f.horizontalSum,d+=f.verticalSum;var m=this.parent.node.style;m.minWidth=p+"px",m.minHeight=d+"px",this._dirty=!0,this.parent.parent&&Mt.sendMessage(this.parent.parent,Ee.Msg.FitRequest),this._dirty&&Mt.sendMessage(this.parent,Ee.Msg.UpdateRequest)}else Mt.sendMessage(this.parent,Ee.Msg.UpdateRequest)},e.prototype._update=function(t,n){this._dirty=!1,t<0&&(t=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=G.boxSizing(this.parent.node));var i=this._box.paddingTop,o=this._box.paddingLeft,r=t-this._box.horizontalSum,s=n-this._box.verticalSum,a=this.rowCount-1,c=this.columnCount-1,u=a*this._rowSpacing,h=c*this._columnSpacing;Me.calc(this._rowSizers,Math.max(0,s-u)),Me.calc(this._columnSizers,Math.max(0,r-h));for(var l=0,d=i,p=this.rowCount;l<p;++l)this._rowStarts[l]=d,d+=this._rowSizers[l].size+this._rowSpacing;for(l=0,d=o,p=this.columnCount;l<p;++l)this._columnStarts[l]=d,d+=this._columnSizers[l].size+this._columnSpacing;for(l=0,p=this._items.length;l<p;++l){var f=this._items[l];if(!f.isHidden){var m=e.getCellConfig(f.widget),v=Math.min(m.row,a),_=Math.min(m.column,c),g=Math.min(m.row+m.rowSpan-1,a),y=Math.min(m.column+m.columnSpan-1,c),b=this._columnStarts[_],x=this._rowStarts[v],w=this._columnStarts[y]+this._columnSizers[y].size-b,M=this._rowStarts[g]+this._rowSizers[g].size-x;f.update(b,x,w,M)}}},e}(Se);(function(t){function e(t){return sn.cellConfigProperty.get(t)}function n(t,e){sn.cellConfigProperty.set(t,sn.normalizeConfig(e))}t.getCellConfig=e,t.setCellConfig=n})(an||(an={})),function(t){function e(t){var e=Math.max(0,Math.floor(t.row||0)),n=Math.max(0,Math.floor(t.column||0)),i=Math.max(1,Math.floor(t.rowSpan||0)),o=Math.max(1,Math.floor(t.columnSpan||0));return{row:e,column:n,rowSpan:i,columnSpan:o}}function n(t){return Math.max(0,Math.floor(t))}function i(e,n){var i=t.cellConfigProperty.get(e.widget),o=t.cellConfigProperty.get(n.widget);return i.rowSpan-o.rowSpan}function o(e,n){var i=t.cellConfigProperty.get(e.widget),o=t.cellConfigProperty.get(n.widget);return i.columnSpan-o.columnSpan}function r(t,e){e=Math.max(1,Math.floor(e));while(t.length<e)t.push(new ke);t.length>e&&(t.length=e)}function s(t,e,n,i){if(!(n<e))if(e!==n){for(var o=0,r=e;r<=n;++r)o+=t[r].minSize;if(!(o>=i)){var s=(i-o)/(n-e+1);for(r=e;r<=n;++r)t[r].minSize+=s}}else{var a=t[e];a.minSize=Math.max(a.minSize,i)}}function a(t){t.parent&&t.parent.layout instanceof an&&t.parent.fit()}t.cellConfigProperty=new St({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:a}),t.normalizeConfig=e,t.clampValue=n,t.rowSpanCmp=i,t.columnSpanCmp=o,t.reallocSizers=r,t.distributeMin=s}(sn||(sn={}));var cn,un=function(t){function e(n){void 0===n&&(n={});var i=t.call(this,{node:cn.createNode()})||this;return i._activeIndex=-1,i._menus=[],i._childMenu=null,i.addClass("lm-MenuBar"),i.addClass("p-MenuBar"),i.setFlag(Ee.Flag.DisallowLayout),i.renderer=n.renderer||e.defaultRenderer,i._forceItemsPosition=n.forceItemsPosition||{forceX:!0,forceY:!0},i}return be(e,t),e.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(t){this.activeIndex=t?this._menus.indexOf(t):-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){(t<0||t>=this._menus.length)&&(t=-1),this._activeIndex!==t&&(this._activeIndex=t,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),e.prototype.openActiveMenu=function(){-1!==this._activeIndex&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},e.prototype.addMenu=function(t){this.insertMenu(this._menus.length,t)},e.prototype.insertMenu=function(t,e){this._closeChildMenu();var n=this._menus.indexOf(e),i=Math.max(0,Math.min(t,this._menus.length));if(-1===n)return I.insert(this._menus,i,e),e.addClass("lm-MenuBar-menu"),e.addClass("p-MenuBar-menu"),e.aboutToClose.connect(this._onMenuAboutToClose,this),e.menuRequested.connect(this._onMenuMenuRequested,this),e.title.changed.connect(this._onTitleChanged,this),void this.update();i===this._menus.length&&i--,n!==i&&(I.move(this._menus,n,i),this.update())},e.prototype.removeMenu=function(t){this.removeMenuAt(this._menus.indexOf(t))},e.prototype.removeMenuAt=function(t){this._closeChildMenu();var e=I.removeAt(this._menus,t);e&&(e.aboutToClose.disconnect(this._onMenuAboutToClose,this),e.menuRequested.disconnect(this._onMenuMenuRequested,this),e.title.changed.disconnect(this._onTitleChanged,this),e.removeClass("lm-MenuBar-menu"),e.removeClass("p-MenuBar-menu"),this.update())},e.prototype.clearMenus=function(){if(0!==this._menus.length){this._closeChildMenu();for(var t=0,e=this._menus;t<e.length;t++){var n=e[t];n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),n.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},e.prototype.handleEvent=function(t){switch(t.type){case"keydown":this._evtKeyDown(t);break;case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseleave":this._evtMouseLeave(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation();break}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},e.prototype.onActivateRequest=function(t){this.isAttached&&this.node.focus()},e.prototype.onUpdateRequest=function(t){for(var e=this,n=this._menus,i=this.renderer,o=this._activeIndex,r=new Array(n.length),s=function(t,s){var a=n[t].title,c=t===o;r[t]=i.renderItem({title:a,active:c,onfocus:function(){e.activeIndex=t}})},a=0,c=n.length;a<c;++a)s(a);fe.render(r,this.contentNode)},e.prototype._evtKeyDown=function(t){t.preventDefault(),t.stopPropagation();var e=t.keyCode;if(13!==e&&38!==e&&40!==e){if(27===e)return this._closeChildMenu(),this.activeIndex=-1,void this.node.blur();if(37!==e)if(39!==e){var n=ie().keyForKeydownEvent(t);if(n){var i=this._activeIndex+1,o=cn.findMnemonic(this._menus,n,i);-1===o.index||o.multiple?-1!==o.index?this.activeIndex=o.index:-1!==o.auto&&(this.activeIndex=o.auto):(this.activeIndex=o.index,this.openActiveMenu())}}else{r=this._activeIndex,s=this._menus.length;this.activeIndex=r===s-1?0:r+1}else{var r=this._activeIndex,s=this._menus.length;this.activeIndex=0===r?s-1:r-1}}else this.openActiveMenu()},e.prototype._evtMouseDown=function(t){if(G.hitTest(this.node,t.clientX,t.clientY)){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=I.findFirstIndex(this.contentNode.children,(function(e){return G.hitTest(e,t.clientX,t.clientY)}));-1!==e?0===t.button&&(this._childMenu?(this._closeChildMenu(),this.activeIndex=e):(this.activeIndex=e,this._openChildMenu())):this._closeChildMenu()}},e.prototype._evtMouseMove=function(t){var e=I.findFirstIndex(this.contentNode.children,(function(e){return G.hitTest(e,t.clientX,t.clientY)}));e!==this._activeIndex&&(-1===e&&this._childMenu||(this.activeIndex=e,this._childMenu&&this._openChildMenu()))},e.prototype._evtMouseLeave=function(t){this._childMenu||(this.activeIndex=-1)},e.prototype._openChildMenu=function(){var t=this.activeMenu;if(t){var e=this._childMenu;if(e!==t){this._childMenu=t,e?e.close():(this.addClass("lm-mod-active"),this.addClass("p-mod-active"),document.addEventListener("mousedown",this,!0)),Mt.sendMessage(this,Ee.Msg.UpdateRequest);var n=this.contentNode.children[this._activeIndex],i=n.getBoundingClientRect(),o=i.left,r=i.bottom;t.open(o,r,this._forceItemsPosition)}}else this._closeChildMenu()},e.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var t=this._childMenu;this._childMenu=null,t.close(),this.activeIndex=-1}},e.prototype._onMenuAboutToClose=function(t){t===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},e.prototype._onMenuMenuRequested=function(t,e){if(t===this._childMenu){var n=this._activeIndex,i=this._menus.length;switch(e){case"next":this.activeIndex=n===i-1?0:n+1;break;case"previous":this.activeIndex=0===n?i-1:n-1;break}this.openActiveMenu()}},e.prototype._onTitleChanged=function(){this.update()},e}(Ee);(function(t){var e=function(){function t(){}return t.prototype.renderItem=function(t){var e=this.createItemClass(t),n=this.createItemDataset(t),i=this.createItemARIA(t);return ge.li(xe({className:e,dataset:n,tabindex:"0",onfocus:t.onfocus},i),this.renderIcon(t),this.renderLabel(t))},t.prototype.renderIcon=function(t){var e=this.createIconClass(t);return"string"===typeof t.title.icon?ge.div({className:e},t.title.iconLabel):ge.div({className:e},t.title.icon,t.title.iconLabel)},t.prototype.renderLabel=function(t){var e=this.formatLabel(t);return ge.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},e)},t.prototype.createItemClass=function(t){var e="lm-MenuBar-item";return e+=" p-MenuBar-item",t.title.className&&(e+=" "+t.title.className),t.active&&(e+=" lm-mod-active",e+=" p-mod-active"),e},t.prototype.createItemDataset=function(t){return t.title.dataset},t.prototype.createItemARIA=function(t){return{role:"menuitem","aria-haspopup":"true"}},t.prototype.createIconClass=function(t){var e="lm-MenuBar-itemIcon";e+=" p-MenuBar-itemIcon";var n=t.title.iconClass;return n?e+" "+n:e},t.prototype.formatLabel=function(t){var e=t.title,n=e.label,i=e.mnemonic;if(i<0||i>=n.length)return n;var o=n.slice(0,i),r=n.slice(i+1),s=n[i],a=ge.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},s);return[o,a,r]},t}();t.Renderer=e,t.defaultRenderer=new e})(un||(un={})),function(t){function e(){var t=document.createElement("div"),e=document.createElement("ul");return e.className="lm-MenuBar-content",e.classList.add("p-MenuBar-content"),t.appendChild(e),e.setAttribute("role","menubar"),t.tabIndex=0,e.tabIndex=0,t}function n(t,e,n){for(var i=-1,o=-1,r=!1,s=e.toUpperCase(),a=0,c=t.length;a<c;++a){var u=(a+n)%c,h=t[u].title;if(0!==h.label.length){var l=h.mnemonic;l>=0&&l<h.label.length?h.label[l].toUpperCase()===s&&(-1===i?i=u:r=!0):-1===o&&h.label[0].toUpperCase()===s&&(o=u)}}return{index:i,multiple:r,auto:o}}t.createNode=e,t.findMnemonic=n}(cn||(cn={}));var hn;(function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{node:hn.createNode()})||this;return n._onRepeat=function(){if(n._repeatTimer=-1,n._pressData){var t=n._pressData.part;if("thumb"!==t){n._repeatTimer=window.setTimeout(n._onRepeat,20);var e=n._pressData.mouseX,i=n._pressData.mouseY;if("decrement"!==t)if("increment"!==t){if("track"===t){if(!G.hitTest(n.trackNode,e,i))return;var o=n.thumbNode;if(G.hitTest(o,e,i))return;var r=o.getBoundingClientRect(),s=void 0;return s="horizontal"===n._orientation?e<r.left?"decrement":"increment":i<r.top?"decrement":"increment",void n._pageRequested.emit(s)}}else{if(!G.hitTest(n.incrementNode,e,i))return;n._stepRequested.emit("increment")}else{if(!G.hitTest(n.decrementNode,e,i))return;n._stepRequested.emit("decrement")}}}},n._value=0,n._page=10,n._maximum=100,n._repeatTimer=-1,n._pressData=null,n._thumbMoved=new Rt(n),n._stepRequested=new Rt(n),n._pageRequested=new Rt(n),n.addClass("lm-ScrollBar"),n.addClass("p-ScrollBar"),n.setFlag(Ee.Flag.DisallowLayout),n._orientation=e.orientation||"vertical",n.dataset["orientation"]=n._orientation,void 0!==e.maximum&&(n._maximum=Math.max(0,e.maximum)),void 0!==e.page&&(n._page=Math.max(0,e.page)),void 0!==e.value&&(n._value=Math.max(0,Math.min(e.value,n._maximum))),n}be(e,t),Object.defineProperty(e.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!==t&&(this._releaseMouse(),this._orientation=t,this.dataset["orientation"]=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t=Math.max(0,Math.min(t,this._maximum)),this._value!==t&&(this._value=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"page",{get:function(){return this._page},set:function(t){t=Math.max(0,t),this._page!==t&&(this._page=t,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t=Math.max(0,t),this._maximum!==t&&(this._maximum=t,this._value=Math.min(this._value,t),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(t){switch(t.type){case"mousedown":this._evtMouseDown(t);break;case"mousemove":this._evtMouseMove(t);break;case"mouseup":this._evtMouseUp(t);break;case"keydown":this._evtKeyDown(t);break;case"contextmenu":t.preventDefault(),t.stopPropagation();break}},e.prototype.onBeforeAttach=function(t){this.node.addEventListener("mousedown",this),this.update()},e.prototype.onAfterDetach=function(t){this.node.removeEventListener("mousedown",this),this._releaseMouse()},e.prototype.onUpdateRequest=function(t){var e=100*this._value/this._maximum,n=100*this._page/(this._page+this._maximum);e=Math.max(0,Math.min(e,100)),n=Math.max(0,Math.min(n,100));var i=this.thumbNode.style;"horizontal"===this._orientation?(i.top="",i.height="",i.left=e+"%",i.width=n+"%",i.transform="translate("+-e+"%, 0%)"):(i.left="",i.width="",i.top=e+"%",i.height=n+"%",i.transform="translate(0%, "+-e+"%)")},e.prototype._evtKeyDown=function(t){if(t.preventDefault(),t.stopPropagation(),27===t.keyCode){var e=this._pressData?this._pressData.value:-1;this._releaseMouse(),-1!==e&&this._moveThumb(e)}},e.prototype._evtMouseDown=function(t){if(0===t.button&&(this.activate(),!this._pressData)){var e=hn.findPart(this,t.target);if(e){t.preventDefault(),t.stopPropagation();var n=$t.overrideCursor("default");if(this._pressData={part:e,override:n,delta:-1,value:-1,mouseX:t.clientX,mouseY:t.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),"thumb"===e){var i=this.thumbNode,o=i.getBoundingClientRect();return"horizontal"===this._orientation?this._pressData.delta=t.clientX-o.left:this._pressData.delta=t.clientY-o.top,i.classList.add("lm-mod-active"),i.classList.add("p-mod-active"),void(this._pressData.value=this._value)}if("track"===e){o=this.thumbNode.getBoundingClientRect();var r=void 0;return r="horizontal"===this._orientation?t.clientX<o.left?"decrement":"increment":t.clientY<o.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._pageRequested.emit(r)}return"decrement"===e?(this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("decrement")):"increment"===e?(this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("increment")):void 0}}},e.prototype._evtMouseMove=function(t){if(this._pressData&&(t.preventDefault(),t.stopPropagation(),this._pressData.mouseX=t.clientX,this._pressData.mouseY=t.clientY,"thumb"===this._pressData.part)){var e,n,i=this.thumbNode.getBoundingClientRect(),o=this.trackNode.getBoundingClientRect();"horizontal"===this._orientation?(e=t.clientX-o.left-this._pressData.delta,n=o.width-i.width):(e=t.clientY-o.top-this._pressData.delta,n=o.height-i.height);var r=0===n?0:e*this._maximum/n;this._moveThumb(r)}},e.prototype._evtMouseUp=function(t){0===t.button&&(t.preventDefault(),t.stopPropagation(),this._releaseMouse())},e.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},e.prototype._moveThumb=function(t){t=Math.max(0,Math.min(t,this._maximum)),this._value!==t&&(this._value=t,this.update(),this._thumbMoved.emit(t))}})(Ee);(function(t){function e(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div");return e.className="lm-ScrollBar-button",n.className="lm-ScrollBar-button",e.dataset["action"]="decrement",n.dataset["action"]="increment",i.className="lm-ScrollBar-track",o.className="lm-ScrollBar-thumb",e.classList.add("p-ScrollBar-button"),n.classList.add("p-ScrollBar-button"),i.classList.add("p-ScrollBar-track"),o.classList.add("p-ScrollBar-thumb"),i.appendChild(o),t.appendChild(e),t.appendChild(i),t.appendChild(n),t}function n(t,e){return t.thumbNode.contains(e)?"thumb":t.trackNode.contains(e)?"track":t.decrementNode.contains(e)?"decrement":t.incrementNode.contains(e)?"increment":null}t.createNode=e,t.findPart=n})(hn||(hn={}));(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._widget=null,e}be(e,t),e.prototype.dispose=function(){if(this._widget){var e=this._widget;this._widget=null,e.dispose()}t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"widget",{get:function(){return this._widget},set:function(t){t&&(t.parent=this.parent),this._widget!==t&&(this._widget&&this._widget.dispose(),this._widget=t,this.parent&&t&&this.attachWidget(t))},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return this._widget?K(this._widget):D()},e.prototype.removeWidget=function(t){this._widget===t&&(this._widget=null,this.parent&&this.detachWidget(t))},e.prototype.init=function(){var e=this;t.prototype.init.call(this),L(this,(function(t){e.attachWidget(t)}))},e.prototype.attachWidget=function(t){this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.AfterAttach)},e.prototype.detachWidget=function(t){this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&Mt.sendMessage(t,Ee.Msg.AfterDetach)}})(Se);var ln,dn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dirty=!1,e._items=[],e._box=null,e}return be(e,t),e.prototype.dispose=function(){L(this._items,(function(t){t.dispose()})),this._box=null,this._items.length=0,t.prototype.dispose.call(this)},e.prototype.attachWidget=function(t,e){I.insert(this._items,t,new Le(e)),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterAttach),this.parent.fit()},e.prototype.moveWidget=function(t,e,n){I.move(this._items,t,e),this.parent.update()},e.prototype.detachWidget=function(t,e){var n=I.removeAt(this._items,t);this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&Mt.sendMessage(e,Ee.Msg.AfterDetach),n.widget.node.style.zIndex="",n.dispose(),this.parent.fit()},e.prototype.onBeforeShow=function(e){t.prototype.onBeforeShow.call(this,e),this.parent.update()},e.prototype.onBeforeAttach=function(e){t.prototype.onBeforeAttach.call(this,e),this.parent.fit()},e.prototype.onChildShown=function(t){this.parent.fit()},e.prototype.onChildHidden=function(t){this.parent.fit()},e.prototype.onResize=function(t){this.parent.isVisible&&this._update(t.width,t.height)},e.prototype.onUpdateRequest=function(t){this.parent.isVisible&&this._update(-1,-1)},e.prototype.onFitRequest=function(t){this.parent.isAttached&&this._fit()},e.prototype._fit=function(){for(var t=0,e=0,n=0,i=this._items.length;n<i;++n){var o=this._items[n];o.isHidden||(o.fit(),t=Math.max(t,o.minWidth),e=Math.max(e,o.minHeight))}var r=this._box=G.boxSizing(this.parent.node);t+=r.horizontalSum,e+=r.verticalSum;var s=this.parent.node.style;s.minWidth=t+"px",s.minHeight=e+"px",this._dirty=!0,this.parent.parent&&Mt.sendMessage(this.parent.parent,Ee.Msg.FitRequest),this._dirty&&Mt.sendMessage(this.parent,Ee.Msg.UpdateRequest)},e.prototype._update=function(t,e){this._dirty=!1;for(var n=0,i=0,o=this._items.length;i<o;++i)n+=+!this._items[i].isHidden;if(0!==n){t<0&&(t=this.parent.node.offsetWidth),e<0&&(e=this.parent.node.offsetHeight),this._box||(this._box=G.boxSizing(this.parent.node));var r=this._box.paddingTop,s=this._box.paddingLeft,a=t-this._box.horizontalSum,c=e-this._box.verticalSum;for(i=0,o=this._items.length;i<o;++i){var u=this._items[i];u.isHidden||(u.widget.node.style.zIndex=""+i,u.update(s,r,a,c))}}},e}(Pe),pn=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,{layout:ln.createLayout(e)})||this;return n._widgetRemoved=new Rt(n),n.addClass("lm-StackedPanel"),n.addClass("p-StackedPanel"),n}return be(e,t),Object.defineProperty(e.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),e.prototype.onChildAdded=function(t){t.child.addClass("lm-StackedPanel-child"),t.child.addClass("p-StackedPanel-child")},e.prototype.onChildRemoved=function(t){t.child.removeClass("lm-StackedPanel-child"),t.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(t.child)},e}(Ne);(function(t){function e(t){return t.layout||new dn}t.createLayout=e})(ln||(ln={}));var fn;(function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;n._currentChanged=new Rt(n),n._addRequested=new Rt(n),n.addClass("lm-TabPanel"),n.addClass("p-TabPanel"),n.tabBar=new tn(e),n.tabBar.addClass("lm-TabPanel-tabBar"),n.stackedPanel=new pn,n.stackedPanel.addClass("lm-TabPanel-stackedPanel"),n.tabBar.addClass("p-TabPanel-tabBar"),n.stackedPanel.addClass("p-TabPanel-stackedPanel"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.tabBar.addRequested.connect(n._onTabAddRequested,n),n.stackedPanel.widgetRemoved.connect(n._onWidgetRemoved,n),n._tabPlacement=e.tabPlacement||"top";var i=fn.directionFromPlacement(n._tabPlacement),o=fn.orientationFromPlacement(n._tabPlacement);n.tabBar.orientation=o,n.tabBar.dataset["placement"]=n._tabPlacement;var r=new Ke({direction:i,spacing:0});return Ke.setStretch(n.tabBar,0),Ke.setStretch(n.stackedPanel,1),r.addWidget(n.tabBar),r.addWidget(n.stackedPanel),n.layout=r,n}be(e,t),Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(t){this.tabBar.currentIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){var t=this.tabBar.currentTitle;return t?t.owner:null},set:function(t){this.tabBar.currentTitle=t?t.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(t){this.tabBar.tabsMovable=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(t){this.tabBar.addButtonEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(t){if(this._tabPlacement!==t){this._tabPlacement=t;var e=fn.directionFromPlacement(t),n=fn.orientationFromPlacement(t);this.tabBar.orientation=n,this.tabBar.dataset["placement"]=t,this.layout.direction=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),e.prototype.addWidget=function(t){this.insertWidget(this.widgets.length,t)},e.prototype.insertWidget=function(t,e){e!==this.currentWidget&&e.hide(),this.stackedPanel.insertWidget(t,e),this.tabBar.insertTab(t,e.title),e.node.setAttribute("role","tabpanel");var n=this.tabBar.renderer;if(n instanceof tn.Renderer){var i=n.createTabKey({title:e.title,current:!1,zIndex:0});e.node.setAttribute("aria-labelledby",i)}},e.prototype._onCurrentChanged=function(t,e){var n=e.previousIndex,i=e.previousTitle,o=e.currentIndex,r=e.currentTitle,s=i?i.owner:null,a=r?r.owner:null;s&&s.hide(),a&&a.show(),this._currentChanged.emit({previousIndex:n,previousWidget:s,currentIndex:o,currentWidget:a}),($.IS_EDGE||$.IS_IE)&&Mt.flush()},e.prototype._onTabAddRequested=function(t,e){this._addRequested.emit(t)},e.prototype._onTabActivateRequested=function(t,e){e.title.owner.activate()},e.prototype._onTabCloseRequested=function(t,e){e.title.owner.close()},e.prototype._onTabMoved=function(t,e){this.stackedPanel.insertWidget(e.toIndex,e.title.owner)},e.prototype._onWidgetRemoved=function(t,e){e.node.removeAttribute("role"),e.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(e.title)}})(Ee);function mn(){var t="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/lumino-widget.js",e="e71a87b2d033ab0a0f5879cef4e5fdc4429d518b",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/lumino-widget.js",statementMap:{0:{start:{line:38,column:4},end:{line:38,column:48}},1:{start:{line:39,column:4},end:{line:39,column:16}},2:{start:{line:40,column:4},end:{line:40,column:20}},3:{start:{line:41,column:4},end:{line:41,column:28}},4:{start:{line:43,column:4},end:{line:43,column:44}},5:{start:{line:44,column:4},end:{line:44,column:28}},6:{start:{line:46,column:4},end:{line:46,column:27}},7:{start:{line:47,column:4},end:{line:47,column:34}},8:{start:{line:56,column:16},end:{line:56,column:45}},9:{start:{line:57,column:4},end:{line:57,column:30}},10:{start:{line:58,column:4},end:{line:58,column:44}},11:{start:{line:59,column:4},end:{line:59,column:14}},12:{start:{line:64,column:18},end:{line:64,column:78}},13:{start:{line:65,column:4},end:{line:65,column:57}},14:{start:{line:67,column:4},end:{line:67,column:32}},15:{start:{line:72,column:18},end:{line:72,column:76}},16:{start:{line:73,column:4},end:{line:73,column:57}},17:{start:{line:75,column:4},end:{line:75,column:29}},18:{start:{line:92,column:4},end:{line:98,column:5}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:42},end:{line:48,column:3}},line:37},1:{name:"(anonymous_1)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:25},end:{line:60,column:3}},line:55},2:{name:"(anonymous_2)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:26},end:{line:68,column:3}},line:62},3:{name:"(anonymous_3)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:23},end:{line:76,column:3}},line:70},4:{name:"(anonymous_4)",decl:{start:{line:91,column:2},end:{line:91,column:3}},loc:{start:{line:91,column:22},end:{line:99,column:3}},line:91}},branchMap:{0:{loc:{start:{line:37,column:25},end:{line:37,column:40}},type:"default-arg",locations:[{start:{line:37,column:36},end:{line:37,column:40}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e71a87b2d033ab0a0f5879cef4e5fdc4429d518b"},r=n[i]||(n[i]={});r[t]&&r[t].hash===e||(r[t]=o);var s=r[t];return mn=function(){return s},s}(function(t){function e(t){return i[t]}function n(t){return o[t]}t.orientationFromPlacement=e,t.directionFromPlacement=n;var i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(fn||(fn={})),mn();var vn=function(t){Object(E["a"])(n,t);var e=Object(S["a"])(n);function n(t,i){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(mn().b[0][0]++,!0);return Object(x["a"])(this,n),mn().f[0]++,mn().s[0]++,o=e.call(this,{node:n.createNode(t)}),mn().s[1]++,o.id=t,mn().s[2]++,o.name=i,mn().s[3]++,o.closable=r,mn().s[4]++,o.setFlag(Ee.Flag.DisallowLayout),mn().s[5]++,o.addClass("content"),mn().s[6]++,o.title.label=i,mn().s[7]++,o.title.closable=r,o}return Object(w["a"])(n,[{key:"onActivateRequest",value:function(t){mn().f[2]++;var e=(mn().s[12]++,new CustomEvent("lumino:activated",this._getEventDetails()));mn().s[13]++,document.getElementById(this.id).dispatchEvent(e),mn().s[14]++,C(Object(M["a"])(n.prototype),"onActivateRequest",this).call(this,t)}},{key:"onCloseRequest",value:function(t){mn().f[3]++;var e=(mn().s[15]++,new CustomEvent("lumino:deleted",this._getEventDetails()));mn().s[16]++,document.getElementById(this.id).dispatchEvent(e),mn().s[17]++,C(Object(M["a"])(n.prototype),"onCloseRequest",this).call(this,t)}},{key:"_getEventDetails",value:function(){return mn().f[4]++,mn().s[18]++,{detail:{id:this.id,name:this.name,closable:this.closable}}}}],[{key:"createNode",value:function(t){mn().f[1]++;var e=(mn().s[8]++,document.createElement("div"));return mn().s[9]++,e.setAttribute("id",t),mn().s[10]++,e.setAttribute("class","fill-height"),mn().s[11]++,e}}]),n}(Ee);function _n(){var t="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Lumino.vue",e="3fad99a4cfed6e512670cf7dce335a5d1b1c7cc9",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Lumino.vue",statementMap:{0:{start:{line:69,column:4},end:{line:75,column:5}},1:{start:{line:83,column:4},end:{line:83,column:25}},2:{start:{line:84,column:4},end:{line:84,column:25}},3:{start:{line:85,column:4},end:{line:85,column:34}},4:{start:{line:86,column:4},end:{line:86,column:50}},5:{start:{line:86,column:30},end:{line:86,column:48}},6:{start:{line:87,column:4},end:{line:87,column:37}},7:{start:{line:88,column:15},end:{line:88,column:19}},8:{start:{line:89,column:4},end:{line:92,column:6}},9:{start:{line:90,column:6},end:{line:90,column:43}},10:{start:{line:91,column:6},end:{line:91,column:24}},11:{start:{line:103,column:4},end:{line:103,column:22}},12:{start:{line:112,column:27},end:{line:112,column:51}},13:{start:{line:113,column:6},end:{line:122,column:10}},14:{start:{line:114,column:25},end:{line:114,column:64}},15:{start:{line:116,column:21},end:{line:116,column:44}},16:{start:{line:117,column:23},end:{line:117,column:109}},17:{start:{line:118,column:10},end:{line:118,column:34}},18:{start:{line:119,column:10},end:{line:121,column:12}},19:{start:{line:120,column:12},end:{line:120,column:65}},20:{start:{line:130,column:6},end:{line:130,column:27}},21:{start:{line:131,column:27},end:{line:131,column:74}},22:{start:{line:132,column:6},end:{line:132,column:39}},23:{start:{line:134,column:6},end:{line:139,column:8}},24:{start:{line:135,column:8},end:{line:136,column:71}},25:{start:{line:137,column:8},end:{line:138,column:67}},26:{start:{line:156,column:6},end:{line:156,column:56}},27:{start:{line:171,column:17},end:{line:171,column:38}},28:{start:{line:172,column:6},end:{line:172,column:54}},29:{start:{line:173,column:6},end:{line:174,column:68}},30:{start:{line:175,column:6},end:{line:176,column:72}},31:{start:{line:179,column:6},end:{line:179,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:10},end:{line:76,column:3}},line:68},1:{name:"(anonymous_1)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:13},end:{line:93,column:3}},line:82},2:{name:"(anonymous_2)",decl:{start:{line:86,column:22},end:{line:86,column:23}},loc:{start:{line:86,column:28},end:{line:86,column:50}},line:86},3:{name:"(anonymous_3)",decl:{start:{line:89,column:19},end:{line:89,column:20}},loc:{start:{line:89,column:25},end:{line:92,column:5}},line:89},4:{name:"(anonymous_4)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:13},end:{line:104,column:3}},line:102},5:{name:"(anonymous_5)",decl:{start:{line:111,column:4},end:{line:111,column:5}},loc:{start:{line:111,column:19},end:{line:123,column:5}},line:111},6:{name:"(anonymous_6)",decl:{start:{line:114,column:16},end:{line:114,column:17}},loc:{start:{line:114,column:25},end:{line:114,column:64}},line:114},7:{name:"(anonymous_7)",decl:{start:{line:115,column:17},end:{line:115,column:18}},loc:{start:{line:115,column:29},end:{line:122,column:9}},line:115},8:{name:"(anonymous_8)",decl:{start:{line:119,column:25},end:{line:119,column:26}},loc:{start:{line:119,column:31},end:{line:121,column:11}},line:119},9:{name:"(anonymous_9)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:25},end:{line:140,column:5}},line:129},10:{name:"(anonymous_10)",decl:{start:{line:134,column:21},end:{line:134,column:22}},loc:{start:{line:134,column:27},end:{line:139,column:7}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:153,column:4},end:{line:153,column:5}},loc:{start:{line:153,column:36},end:{line:157,column:5}},line:153},12:{name:"(anonymous_12)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:34},end:{line:180,column:5}},line:170}},branchMap:{0:{loc:{start:{line:117,column:23},end:{line:117,column:109}},type:"cond-expr",locations:[{start:{line:117,column:55},end:{line:117,column:84}},{start:{line:117,column:87},end:{line:117,column:109}}],line:117}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3fad99a4cfed6e512670cf7dce335a5d1b1c7cc9"},r=n[i]||(n[i]={});r[t]&&r[t].hash===e||(r[t]=o);var s=r[t];return _n=function(){return s},s}_n();var gn={name:"Lumino",props:{tabTitleProp:{type:String,default:"name"}},data:function(){return _n().f[0]++,_n().s[0]++,{main:new Ye({direction:"left-to-right",spacing:0}),dock:new rn,widgets:[]}},created:function(){var t=this;_n().f[1]++,_n().s[1]++,this.dock.id="dock",_n().s[2]++,this.main.id="main",_n().s[3]++,this.main.addWidget(this.dock),_n().s[4]++,window.onresize=function(){_n().f[2]++,_n().s[5]++,t.main.update()},_n().s[6]++,Ye.setStretch(this.dock,1);var e=(_n().s[7]++,this);_n().s[8]++,this.$nextTick((function(){_n().f[3]++,_n().s[9]++,Ee.attach(e.main,e.$refs.main),_n().s[10]++,t.syncWidgets()}))},updated:function(){_n().f[4]++,_n().s[11]++,this.syncWidgets()},methods:{syncWidgets:function(){var t=this;_n().f[5]++;var e=(_n().s[12]++,this.$props.tabTitleProp);_n().s[13]++,this.$children.filter((function(e){return _n().f[6]++,_n().s[14]++,!t.widgets.includes(e.$attrs.id)})).forEach((function(n){_n().f[7]++;var i=(_n().s[15]++,"".concat(n.$attrs.id)),o=(_n().s[16]++,n.$attrs[e]?(_n().b[0][0]++,n.$attrs[e]):(_n().b[0][1]++,n.$options.name));_n().s[17]++,t.addWidget(i,o),_n().s[18]++,t.$nextTick((function(){_n().f[8]++,_n().s[19]++,document.getElementById(i).appendChild(n.$el)}))}))},addWidget:function(t,e){var n=this;_n().f[9]++,_n().s[20]++,this.widgets.push(t);var i=(_n().s[21]++,new vn(t,e,!0));_n().s[22]++,this.dock.addWidget(i),_n().s[23]++,this.$nextTick((function(){_n().f[10]++,_n().s[24]++,document.getElementById(t).addEventListener("lumino:activated",n.onWidgetActivated),_n().s[25]++,document.getElementById(t).addEventListener("lumino:deleted",n.onWidgetDeleted)}))},onWidgetActivated:function(t){_n().f[11]++,_n().s[26]++,this.$emit("lumino:activated",t.detail)},onWidgetDeleted:function(t){_n().f[12]++;var e=(_n().s[27]++,t.detail.id);_n().s[28]++,this.widgets.splice(this.widgets.indexOf(e),1),_n().s[29]++,document.getElementById(e).removeEventListener("lumino:deleted",this.onWidgetDeleted),_n().s[30]++,document.getElementById(e).removeEventListener("lumino:activated",this.onWidgetActivated),_n().s[31]++,this.$emit("lumino:deleted",t.detail)}}},yn=gn,bn=n("2877"),xn=Object(bn["a"])(yn,y,b,!1,null,null,null),wn=xn.exports,Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{staticClass:"c-toolbar",attrs:{app:"",id:"core-app-bar",dense:"",flat:""},scopedSlots:t._u([t.extended?{key:"extension",fn:function(){return[n("span",{staticStyle:{"margin-left":"260px"}},[n("a",{on:{click:t.onClickPause}},[n("v-icon",{attrs:{color:"#5E5E5E"}},[t._v(t._s(t.svgPaths.hold))])],1),n("a",{on:{click:t.onClickStop}},[n("v-icon",{attrs:{color:"#5E5E5E"}},[t._v(t._s(t.svgPaths.stop))])],1),n("span",[t._v("Other controls added in the future")])])]},proxy:!0}:null],null,!0)},[t.responsive?n("v-btn",{staticClass:"default v-btn--simple",attrs:{dark:"",icon:"",id:"toggle-drawer"},on:{click:function(e){return e.stopPropagation(),t.onClickBtn.apply(null,arguments)}}},[n("v-icon",[t._v(t._s(t.svgPaths.list))])],1):t._e(),n("v-toolbar-title",{staticClass:"font-weight-light"},[n("span",{staticClass:"c-toolbar-title"},[t._v(t._s(t.title))])]),t.currentWorkflow?[n("v-icon",{directives:[{name:"cylc-object",rawName:"v-cylc-object",value:t.currentWorkflow.id,expression:"currentWorkflow.id"}],attrs:{id:"workflow-mutate-button",color:"#5E5E5E"}},[t._v(" "+t._s(t.svgPaths.menu)+" ")]),t.isRunning?t._e():n("v-icon",{attrs:{id:"workflow-play-button",color:"#5E5E5E",disabled:!t.enabled.playToggle},on:{click:t.onClickPlay}},[t._v(" "+t._s(t.svgPaths.run)+" ")]),t.isRunning?n("v-icon",{attrs:{id:"workflow-play-pause-button",color:"#5E5E5E",disabled:!t.enabled.pauseToggle},on:{click:t.onClickReleaseHold}},[t._v(" "+t._s(t.isPaused?t.svgPaths.run:t.svgPaths.hold)+" ")]):t._e(),n("v-icon",{attrs:{id:"workflow-stop-button",color:"#5E5E5E",disabled:!t.enabled.stopToggle},on:{click:t.onClickStop}},[t._v(" "+t._s(t.svgPaths.stop)+" ")]),n("span",{staticClass:"status-msg"},[t._v(" "+t._s(t.statusMsg)+" ")]),n("v-spacer"),"workflow"===t.$route.name?n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[n("a",t._g({staticClass:"add-view"},i),[n("v-icon",{staticClass:"icon",attrs:{color:"#5995EB"}},[t._v(t._s(t.svgPaths.add))]),n("span",{staticClass:"label"},[t._v(" "+t._s(t.$t("Toolbar.addView"))+" ")])],1)]}}],null,!1,3712608544)},[n("v-list",{staticClass:"pa-0"},t._l(t.views,(function(e){return n("v-list-item",{key:e.name,staticClass:"py-0 px-8 ma-0 c-add-view",attrs:{id:"toolbar-add-"+e.name+"-view"},on:{click:function(n){return t.$listeners["add"](e.name)}}},[n("v-list-item-icon",[n("v-icon",[t._v(t._s(e.data().widget.icon))])],1),n("v-list-item-title",[t._v(t._s(e.name))])],1)})),1)],1):t._e()]:t._e()],2)},kn=[],Cn=n("1da1"),In=(n("96cf"),n("2f62")),En=n("94ed"),Sn=n("3993"),An=n("e2db"),Ln=n("f55f");function zn(){var t="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Toolbar.vue",e="6167018f3d97a600e062732b7ed4beb9a2101be1",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Toolbar.vue",statementMap:{0:{start:{line:165,column:15},end:{line:182,column:3}},1:{start:{line:187,column:6},end:{line:194,column:7}},2:{start:{line:197,column:6},end:{line:200,column:7}},3:{start:{line:203,column:6},end:{line:206,column:7}},4:{start:{line:209,column:6},end:{line:209,column:49}},5:{start:{line:215,column:6},end:{line:242,column:7}},6:{start:{line:247,column:6},end:{line:247,column:32}},7:{start:{line:250,column:6},end:{line:250,column:34}},8:{start:{line:253,column:6},end:{line:253,column:32}},9:{start:{line:258,column:18},end:{line:261,column:7}},10:{start:{line:262,column:6},end:{line:264,column:7}},11:{start:{line:263,column:8},end:{line:263,column:45}},12:{start:{line:267,column:18},end:{line:270,column:7}},13:{start:{line:271,column:6},end:{line:273,column:7}},14:{start:{line:272,column:8},end:{line:272,column:46}},15:{start:{line:276,column:18},end:{line:279,column:7}},16:{start:{line:280,column:6},end:{line:282,column:7}},17:{start:{line:281,column:8},end:{line:281,column:52}},18:{start:{line:285,column:6},end:{line:285,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:165,column:8},end:{line:165,column:9}},loc:{start:{line:165,column:15},end:{line:182,column:3}},line:165},1:{name:"(anonymous_1)",decl:{start:{line:186,column:4},end:{line:186,column:5}},loc:{start:{line:186,column:17},end:{line:195,column:5}},line:186},2:{name:"(anonymous_2)",decl:{start:{line:196,column:4},end:{line:196,column:5}},loc:{start:{line:196,column:16},end:{line:201,column:5}},line:196},3:{name:"(anonymous_3)",decl:{start:{line:202,column:4},end:{line:202,column:5}},loc:{start:{line:202,column:17},end:{line:207,column:5}},line:202},4:{name:"(anonymous_4)",decl:{start:{line:208,column:4},end:{line:208,column:5}},loc:{start:{line:208,column:17},end:{line:210,column:5}},line:208},5:{name:"(anonymous_5)",decl:{start:{line:211,column:4},end:{line:211,column:5}},loc:{start:{line:211,column:15},end:{line:243,column:5}},line:211},6:{name:"(anonymous_6)",decl:{start:{line:246,column:4},end:{line:246,column:5}},loc:{start:{line:246,column:17},end:{line:248,column:5}},line:246},7:{name:"(anonymous_7)",decl:{start:{line:249,column:4},end:{line:249,column:5}},loc:{start:{line:249,column:16},end:{line:251,column:5}},line:249},8:{name:"(anonymous_8)",decl:{start:{line:252,column:4},end:{line:252,column:5}},loc:{start:{line:252,column:17},end:{line:254,column:5}},line:252},9:{name:"(anonymous_9)",decl:{start:{line:257,column:4},end:{line:257,column:5}},loc:{start:{line:257,column:19},end:{line:265,column:5}},line:257},10:{name:"(anonymous_10)",decl:{start:{line:266,column:4},end:{line:266,column:5}},loc:{start:{line:266,column:26},end:{line:274,column:5}},line:266},11:{name:"(anonymous_11)",decl:{start:{line:275,column:4},end:{line:275,column:5}},loc:{start:{line:275,column:25},end:{line:283,column:5}},line:275},12:{name:"(anonymous_12)",decl:{start:{line:284,column:4},end:{line:284,column:5}},loc:{start:{line:284,column:22},end:{line:286,column:5}},line:284}},branchMap:{0:{loc:{start:{line:188,column:8},end:{line:193,column:9}},type:"binary-expr",locations:[{start:{line:188,column:8},end:{line:188,column:28}},{start:{line:190,column:10},end:{line:190,column:68}},{start:{line:191,column:10},end:{line:191,column:67}},{start:{line:192,column:10},end:{line:192,column:69}}],line:188},1:{loc:{start:{line:198,column:8},end:{line:199,column:65}},type:"binary-expr",locations:[{start:{line:198,column:8},end:{line:198,column:28}},{start:{line:199,column:8},end:{line:199,column:65}}],line:198},2:{loc:{start:{line:204,column:8},end:{line:205,column:66}},type:"binary-expr",locations:[{start:{line:204,column:8},end:{line:204,column:29}},{start:{line:205,column:8},end:{line:205,column:66}}],line:204},3:{loc:{start:{line:209,column:13},end:{line:209,column:49}},type:"binary-expr",locations:[{start:{line:209,column:13},end:{line:209,column:43}},{start:{line:209,column:47},end:{line:209,column:49}}],line:209},4:{loc:{start:{line:218,column:10},end:{line:222,column:11}},type:"binary-expr",locations:[{start:{line:218,column:10},end:{line:218,column:24}},{start:{line:220,column:12},end:{line:220,column:40}},{start:{line:221,column:12},end:{line:221,column:66}}],line:218},5:{loc:{start:{line:226,column:10},end:{line:232,column:11}},type:"binary-expr",locations:[{start:{line:226,column:10},end:{line:226,column:25}},{start:{line:227,column:10},end:{line:227,column:30}},{start:{line:228,column:10},end:{line:228,column:69}},{start:{line:230,column:12},end:{line:230,column:42}},{start:{line:231,column:12},end:{line:231,column:67}}],line:226},6:{loc:{start:{line:236,column:10},end:{line:240,column:11}},type:"binary-expr",locations:[{start:{line:236,column:10},end:{line:236,column:25}},{start:{line:238,column:12},end:{line:238,column:40}},{start:{line:239,column:12},end:{line:239,column:66}}],line:236},7:{loc:{start:{line:262,column:6},end:{line:264,column:7}},type:"if",locations:[{start:{line:262,column:6},end:{line:264,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:262},8:{loc:{start:{line:268,column:8},end:{line:268,column:42}},type:"cond-expr",locations:[{start:{line:268,column:24},end:{line:268,column:32}},{start:{line:268,column:35},end:{line:268,column:42}}],line:268},9:{loc:{start:{line:271,column:6},end:{line:273,column:7}},type:"if",locations:[{start:{line:271,column:6},end:{line:273,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:271},10:{loc:{start:{line:280,column:6},end:{line:282,column:7}},type:"if",locations:[{start:{line:280,column:6},end:{line:282,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:280}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6167018f3d97a600e062732b7ed4beb9a2101be1"},r=n[i]||(n[i]={});r[t]&&r[t].hash===e||(r[t]=o);var s=r[t];return zn=function(){return s},s}zn();var Pn={name:"Toolbar",mixins:[Sn["a"]],props:{views:{type:Array,required:!0}},data:function(){return zn().f[0]++,zn().s[0]++,{extended:!1,svgPaths:{add:En["H"],hold:En["z"],list:En["P"],menu:En["x"],run:En["D"],stop:En["M"]},expecting:{play:null,paused:null,stop:null}}},computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(In["e"])("app",["title"])),Object(In["c"])("workflows",["currentWorkflow"])),{},{isRunning:function(){return zn().f[1]++,zn().s[1]++,zn().b[0][0]++,this.currentWorkflow&&(zn().b[0][1]++,this.currentWorkflow.status===An["c"].RUNNING.name||(zn().b[0][2]++,this.currentWorkflow.status===An["c"].PAUSED.name)||(zn().b[0][3]++,this.currentWorkflow.status===An["c"].STOPPING.name))},isPaused:function(){return zn().f[2]++,zn().s[2]++,zn().b[1][0]++,this.currentWorkflow&&(zn().b[1][1]++,this.currentWorkflow.status===An["c"].PAUSED.name)},isStopped:function(){return zn().f[3]++,zn().s[3]++,zn().b[2][0]++,!this.currentWorkflow||(zn().b[2][1]++,this.currentWorkflow.status===An["c"].STOPPED.name)},statusMsg:function(){return zn().f[4]++,zn().s[4]++,zn().b[3][0]++,this.currentWorkflow.statusMsg||(zn().b[3][1]++,"")},enabled:function(){return zn().f[5]++,zn().s[5]++,{playToggle:(zn().b[4][0]++,this.isStopped&&(zn().b[4][1]++,null===this.expecting.play||(zn().b[4][2]++,this.expecting.play===this.currentWorkflow.isRunning))),pauseToggle:(zn().b[5][0]++,!this.isStopped&&(zn().b[5][1]++,!this.expecting.stop)&&(zn().b[5][2]++,this.currentWorkflow.status!==An["c"].STOPPING.name)&&(zn().b[5][3]++,null===this.expecting.paused||(zn().b[5][4]++,this.expecting.paused===this.currentWorkflow.isPaused))),stopToggle:(zn().b[6][0]++,!this.isStopped&&(zn().b[6][1]++,null===this.expecting.stop||(zn().b[6][2]++,this.expecting.stop===this.currentWorkflow.isStopped)))}}}),watch:{isRunning:function(){zn().f[6]++,zn().s[6]++,this.expecting.play=null},isPaused:function(){zn().f[7]++,zn().s[7]++,this.expecting.paused=null},isStopped:function(){zn().f[8]++,zn().s[8]++,this.expecting.stop=null}},methods:{onClickPlay:function(){zn().f[9]++;var t=(zn().s[9]++,this.$workflowService.mutate("play",this.currentWorkflow.id));zn().s[10]++,t[0]===Ln["g"].SUCCEEDED?(zn().b[7][0]++,zn().s[11]++,this.expecting.play=!this.isRunning):zn().b[7][1]++},onClickReleaseHold:function(){zn().f[10]++;var t=(zn().s[12]++,this.$workflowService.mutate(this.isPaused?(zn().b[8][0]++,"resume"):(zn().b[8][1]++,"pause"),this.currentWorkflow.id));zn().s[13]++,t[0]===Ln["g"].SUCCEEDED?(zn().b[9][0]++,zn().s[14]++,this.expecting.paused=!this.isPaused):zn().b[9][1]++},onClickStop:function(){var t=this;return Object(Cn["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:zn().f[11]++,zn().s[15]++,n=t.$workflowService.mutate("stop",t.currentWorkflow.id),zn().s[16]++,n[0]===Ln["g"].SUCCEEDED?(zn().b[10][0]++,zn().s[17]++,t.expecting.stop=An["c"].STOPPING):zn().b[10][1]++;case 4:case"end":return e.stop()}}),e)})))()},toggleExtended:function(){zn().f[12]++,zn().s[18]++,this.extended=!this.extended}}},On=Pn,Tn=n("6544"),Dn=n.n(Tn),Bn=n("40dc"),Rn=n("8336"),jn=n("132d"),Nn=n("8860"),Wn=n("da13"),Hn=n("34c3"),Fn=n("5d23"),qn=n("e449"),Vn=n("2fa4"),Kn=n("2a7f"),Un=Object(bn["a"])(On,Mn,kn,!1,null,null,null),Yn=Un.exports;Dn()(Un,{VAppBar:Bn["a"],VBtn:Rn["a"],VIcon:jn["a"],VList:Nn["a"],VListItem:Wn["a"],VListItemIcon:Hn["a"],VListItemTitle:Fn["d"],VMenu:qn["a"],VSpacer:Vn["a"],VToolbarTitle:Kn["a"]});var Xn=n("4c67"),Gn=n("d3e9"),$n=n("54ce");function Zn(){var t="/home/runner/work/cylc-ui/cylc-ui/src/views/Workflow.vue",e="fabc75861bf09e89cd3581c4087034bbf9cd66f4",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/views/Workflow.vue",statementMap:{0:{start:{line:77,column:4},end:{line:79,column:5}},1:{start:{line:81,column:15},end:{line:101,column:3}},2:{start:{line:105,column:4},end:{line:107,column:6}},3:{start:{line:106,column:6},end:{line:106,column:48}},4:{start:{line:113,column:4},end:{line:117,column:6}},5:{start:{line:114,column:6},end:{line:116,column:8}},6:{start:{line:115,column:8},end:{line:115,column:33}},7:{start:{line:121,column:4},end:{line:121,column:27}},8:{start:{line:122,column:4},end:{line:122,column:10}},9:{start:{line:125,column:4},end:{line:128,column:6}},10:{start:{line:127,column:6},end:{line:127,column:33}},11:{start:{line:132,column:4},end:{line:132,column:27}},12:{start:{line:133,column:4},end:{line:133,column:10}},13:{start:{line:142,column:19},end:{line:144,column:20}},14:{start:{line:143,column:21},end:{line:143,column:40}},15:{start:{line:145,column:6},end:{line:147,column:7}},16:{start:{line:146,column:8},end:{line:146,column:49}},17:{start:{line:148,column:6},end:{line:148,column:51}},18:{start:{line:149,column:6},end:{line:155,column:8}},19:{start:{line:154,column:8},end:{line:154,column:50}},20:{start:{line:161,column:26},end:{line:161,column:58}},21:{start:{line:162,column:22},end:{line:162,column:24}},22:{start:{line:163,column:6},end:{line:165,column:8}},23:{start:{line:164,column:8},end:{line:164,column:28}},24:{start:{line:166,column:6},end:{line:166,column:47}},25:{start:{line:166,column:32},end:{line:166,column:46}},26:{start:{line:182,column:6},end:{line:182,column:40}},27:{start:{line:186,column:6},end:{line:188,column:7}},28:{start:{line:187,column:8},end:{line:187,column:43}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:76,column:2},end:{line:76,column:3}},loc:{start:{line:76,column:14},end:{line:80,column:3}},line:76},1:{name:"(anonymous_1)",decl:{start:{line:81,column:8},end:{line:81,column:9}},loc:{start:{line:81,column:15},end:{line:101,column:3}},line:81},2:{name:"(anonymous_2)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:13},end:{line:108,column:3}},line:102},3:{name:"(anonymous_3)",decl:{start:{line:105,column:23},end:{line:105,column:24}},loc:{start:{line:105,column:31},end:{line:107,column:5}},line:105},4:{name:"(anonymous_4)",decl:{start:{line:112,column:2},end:{line:112,column:3}},loc:{start:{line:112,column:36},end:{line:118,column:3}},line:112},5:{name:"(anonymous_5)",decl:{start:{line:113,column:9},end:{line:113,column:10}},loc:{start:{line:113,column:15},end:{line:117,column:5}},line:113},6:{name:"(anonymous_6)",decl:{start:{line:114,column:19},end:{line:114,column:20}},loc:{start:{line:114,column:25},end:{line:116,column:7}},line:114},7:{name:"(anonymous_7)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:37},end:{line:129,column:3}},line:119},8:{name:"(anonymous_8)",decl:{start:{line:125,column:19},end:{line:125,column:20}},loc:{start:{line:125,column:25},end:{line:128,column:5}},line:125},9:{name:"(anonymous_9)",decl:{start:{line:130,column:2},end:{line:130,column:3}},loc:{start:{line:130,column:36},end:{line:134,column:3}},line:130},10:{name:"(anonymous_10)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:23},end:{line:156,column:5}},line:141},11:{name:"(anonymous_11)",decl:{start:{line:143,column:16},end:{line:143,column:17}},loc:{start:{line:143,column:21},end:{line:143,column:40}},line:143},12:{name:"(anonymous_12)",decl:{start:{line:149,column:21},end:{line:149,column:22}},loc:{start:{line:149,column:27},end:{line:155,column:7}},line:149},13:{name:"(anonymous_13)",decl:{start:{line:160,column:4},end:{line:160,column:5}},loc:{start:{line:160,column:24},end:{line:167,column:5}},line:160},14:{name:"(anonymous_14)",decl:{start:{line:163,column:30},end:{line:163,column:31}},loc:{start:{line:163,column:40},end:{line:165,column:7}},line:163},15:{name:"(anonymous_15)",decl:{start:{line:166,column:22},end:{line:166,column:23}},loc:{start:{line:166,column:32},end:{line:166,column:46}},line:166},16:{name:"(anonymous_16)",decl:{start:{line:181,column:4},end:{line:181,column:5}},loc:{start:{line:181,column:33},end:{line:189,column:5}},line:181}},branchMap:{0:{loc:{start:{line:145,column:6},end:{line:147,column:7}},type:"if",locations:[{start:{line:145,column:6},end:{line:147,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:145},1:{loc:{start:{line:186,column:6},end:{line:188,column:7}},type:"if",locations:[{start:{line:186,column:6},end:{line:188,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:186}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0],1:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fabc75861bf09e89cd3581c4087034bbf9cd66f4"},r=n[i]||(n[i]={});r[t]&&r[t].hash===e||(r[t]=o);var s=r[t];return Zn=function(){return s},s}Zn();var Jn={name:"Workflow",mixins:[p["a"],f["a"],m["a"]],components:{CylcObjectMenu:Xn["a"],Lumino:wn,Toolbar:Yn},metaInfo:function(){return Zn().f[0]++,Zn().s[0]++,{title:this.getPageTitle("App.workflow",{name:this.workflowName})}},data:function(){return Zn().f[1]++,Zn().s[1]++,{widgets:{},views:[$n["default"],Gn["default"]]}},created:function(){var t=this;Zn().f[2]++,Zn().s[2]++,this.views.forEach((function(e){Zn().f[3]++,Zn().s[3]++,t.$options.components[e.name]=e}))},computed:Object(s["a"])({},Object(In["e"])("workflows",["workflow"])),beforeRouteEnter:function(t,e,n){Zn().f[4]++,Zn().s[4]++,n((function(t){Zn().f[5]++,Zn().s[5]++,t.$nextTick((function(){Zn().f[6]++,Zn().s[6]++,t.addView($n["default"].name)}))}))},beforeRouteUpdate:function(t,e,n){var i=this;Zn().f[7]++,Zn().s[7]++,this.removeAllWidgets(),Zn().s[8]++,n(),Zn().s[9]++,this.$nextTick((function(){Zn().f[8]++,Zn().s[10]++,i.addView($n["default"].name)}))},beforeRouteLeave:function(t,e,n){Zn().f[9]++,Zn().s[11]++,this.removeAllWidgets(),Zn().s[12]++,n()},methods:{addView:function(t){var e=this;Zn().f[10]++;var n=(Zn().s[13]++,this.views.filter((function(e){return Zn().f[11]++,Zn().s[14]++,e.name===t})).slice(0)[0]);if(Zn().s[15]++,!n)throw Zn().b[0][0]++,Zn().s[16]++,Error('Unknown view "'.concat(t,'"'));Zn().b[0][1]++,Zn().s[17]++,a["a"].set(this.widgets,g(),n),Zn().s[18]++,this.$nextTick((function(){Zn().f[12]++,Zn().s[19]++,e.$workflowService.startSubscriptions()}))},removeAllWidgets:function(){Zn().f[13]++;var t=(Zn().s[20]++,this.$refs.lumino.dock.widgets()),e=(Zn().s[21]++,[]);Zn().s[22]++,u(c(t),(function(t){Zn().f[14]++,Zn().s[23]++,e.push(t)})),Zn().s[24]++,e.forEach((function(t){return Zn().f[15]++,Zn().s[25]++,t.close()}))},onWidgetDeletedEvent:function(t){Zn().f[16]++,Zn().s[26]++,a["a"].delete(this.widgets,t.id),Zn().s[27]++,0===Object.entries(this.widgets).length?(Zn().b[1][0]++,Zn().s[28]++,this.viewState=v["a"].NO_STATE):Zn().b[1][1]++}}},Qn=Jn,ti=n("3129"),ei=Object(bn["a"])(Qn,o,r,!1,null,null,null);e["default"]=ei.exports;Dn()(ei,{VSkeletonLoader:ti["a"]})},"5d41":function(t,e,n){var i=n("23e7"),o=n("861d"),r=n("825a"),s=n("c60d"),a=n("06cf"),c=n("e163");function u(t,e){var n,i,h=arguments.length<3?t:arguments[2];return r(t)===h?t[e]:(n=a.f(t,e),n?s(n)?n.value:void 0===n.get?void 0:n.get.call(h):o(i=c(t))?u(i,e,h):void 0)}i({target:"Reflect",stat:!0},{get:u})},c60d:function(t,e,n){var i=n("1a2d");t.exports=function(t){return void 0!==t&&(i(t,"value")||i(t,"writable"))}}}]);